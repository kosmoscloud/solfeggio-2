/*! For license information please see main.4a77102e.js.LICENSE.txt */
(()=>{var e={21:e=>{"use strict";e.exports=JSON.parse('{"background":"#fdcd96","disabled":"#fdcd96","enabled":"#fffccf","lightbackground":"#fdcd96","text":"#370e01","selected":"#ff8635"}')},43:(e,t,n)=>{"use strict";e.exports=n(202)},45:(e,t,n)=>{var r=n(738).default;e.exports=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},79:e=>{e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},105:e=>{"use strict";e.exports=JSON.parse('{"maj":"+","min":"-","dim":">","aug":"<","maj7":"+7<","dom7":"+7","min7":"-7","min7b5":">7","minmaj7":"-7<","dim7":">7>","aug7":"<7","augmaj7":"<7<"}')},122:(e,t,n)=>{var r=n(79);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},124:e=>{"use strict";e.exports=JSON.parse('{"audiomidi":"audio/midi","back":"powr\xf3t","chords":"wielod\u017awi\u0119ki","eleventhchord":"akord z undecym\u0105","exercises":"\u0107wiczenia","instruments":"instrumenty","interval":"interwa\u0142","intervals":"interwa\u0142y","language":"j\u0119zyk","melody":"melodia","freemelody":"melodia swobodna","ascendingmelody":"melodia rosn\u0105ca","descendingmelody":"melodia opadaj\u0105ca","ninthchord":"akord z non\u0105","perfectpitch":"s\u0142uch absolutny","quizzes":"quizy","randomchord":"akord przypadkowy","rangeandscale":"zakres i skala","settings":"ustawienia","seventhchord":"akord z septym\u0105","seventhchords":"akordy z septym\u0105","seventhsinversions":"przewroty akord\xf3w z septym\u0105","thirteenthchord":"akord z tercdecym\u0105","triad":"tr\xf3jd\u017awi\u0119k","triads":"tr\xf3jd\u017awi\u0119ki","triadsinversions":"przewroty tr\xf3jd\u017awi\u0119k\xf3w","hint":"podpowiedz","undo":"cofnij","next":"nast\u0119pny","repeat":"powt\xf3rz","mainmenu":"menu g\u0142\xf3wne","startreset":"start/reset","result":"wynik","correct":"dobrze","total":"og\xf3\u0142em","sounds":"d\u017awi\u0119ki","examples":"przyk\u0142ady","numberofexamples":"liczba przyk\u0142ad\xf3w","notespacing":"odst\u0119p","notelength":"d\u0142ugo\u015b\u0107 d\u017awi\u0119ku","time":"czas","selectatleastoneinterval":"Wybierz przynajmniej jeden interwa\u0142.","midiio":"MIDI I/O","midiinputsettings":"Ustawienia wej\u015bcia MIDI","enablemidiinput":"w\u0142\u0105cz wej\u015bcie MIDI","midinotavailable":"MIDI nie jest w\u0142\u0105czone lub nie jest dost\u0119pne w tej przegl\u0105darce.","nomidiinputs":"Brak dost\u0119pnych wej\u015b\u0107 MIDI","scale":"skala","firstnote":"pierwsza nuta","lastnote":"ostatnia nuta","playscale":"graj skal\u0119","ok":"OK","cancel":"Anuluj","choose":"wybierz","majorscale":"durowa","minorscale":"molowa","blues":"bluesowa","pentatonic":"pentatoniczna","chromatic":"chromatyczna","harmonicminor":"molowa harmoniczna","jazzminor":"molowa jazzowa","wholetone":"ca\u0142otonowa","major":"durowy","minor":"molowy","diminished":"zmniejszony","augmented":"zwi\u0119kszony","outputinterface":"interfejs wyj\u015bciowy","selectedinstrument":"Wybrany instrument :","selectedinstruments":"Wybrane instrumenty:","piano":"pianino","guitar":"gitara","marimba":"marimba","violin":"skrzypce","flute":"flet","trombone":"puzon","selectrandom":"losuj spo\u015br\xf3d wybranych:","yes":"tak","answers":"odpowiedzi","melodytype":"typ melodii","ascending":"rosn\u0105ca","descending":"opadaj\u0105ca","free":"swobodna","melodylength":"d\u0142ugo\u015b\u0107 melodii","minorsecond":"2m","majorsecond":"2w","minorthird":"3m","majorthird":"3w","perfectfourth":"4cz","tritone":"5zm","perfectfifth":"5cz","minorsixth":"6m","majorsixth":"6w","minorseventh":"7m","majorseventh":"7w","octave":"8cz","intervalplayingmode":"odtwarzaj","randommode":"losowo","simultaneousmode":"na raz","ascendingmode":"do g\xf3ry","descendingmode":"w d\xf3\u0142","playbacksettings":"ustawienia odtwarzania","app_description":"Solfeggio-2 to aplikacja do kszta\u0142cenia s\u0142uchu, wzorowana na programie Solfeggio autorstwa Mariusza Brzezi\u0144skiego, oryginalnie na Atari ST.\\n\\nWersja 0.0.1 aplikacji zosta\u0142a napisana przez Macieja Komos\u0119, studenta Re\u017cyserii D\u017awi\u0119ku na Akademii Muzycznej w Krakowie. Projekt jest wci\u0105\u017c rozwijany.\\n\\nW przypadku pyta\u0144 lub sugestii prosz\u0119 o kontakt: maciej.komosa@amkp.edu.pl."}')},151:e=>{"use strict";e.exports=JSON.parse('{"background":"#9c7b67","disabled":"#202803","enabled":"#4a4a4a","lightbackground":"#e0cd85","text":"#ffe3b1","selected":"#760000"}')},153:(e,t,n)=>{"use strict";var r=n(43),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,s={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:c,props:s,_owner:a.current}}t.jsx=u,t.jsxs=u},156:e=>{e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,s,o,a=[],l=!0,u=!1;try{if(s=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(a.push(r.value),a.length!==t);l=!0);}catch(e){u=!0,i=e}finally{try{if(!l&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return a}},e.exports.__esModule=!0,e.exports.default=e.exports},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function y(){}function _(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var b=_.prototype=new y;b.constructor=_,m(b,v.prototype),b.isPureReactComponent=!0;var x=Array.isArray,w=Object.prototype.hasOwnProperty,k={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,s={},o=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,i)&&!C.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:o,ref:a,props:s,_owner:k.current}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var E=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function M(e,t,i,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===s?"."+A(l,0):s,x(o)?(i="",null!=e&&(i=e.replace(E,"$&/")+"/"),M(o,t,i,"",(function(e){return e}))):null!=o&&(T(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(E,"$&/")+"/")+e)),t.push(o)),1;if(l=0,s=""===s?".":s+":",x(e))for(var u=0;u<e.length;u++){var c=s+A(a=e[u],u);l+=M(a,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(a=e.next()).done;)l+=M(a=a.value,t,i,c=s+A(a,u++),o);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function P(e,t,n){if(null==e)return e;var r=[],i=0;return M(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function j(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O={current:null},I={transition:null},N={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:I,ReactCurrentOwner:k};function D(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:P,forEach:function(e,t,n){P(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return P(e,(function(){t++})),t},toArray:function(e){return P(e,(function(e){return e}))||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=o,t.PureComponent=_,t.StrictMode=s,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N,t.act=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=k.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)w.call(t,u)&&!C.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:o,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:j}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=I.transition;I.transition={};try{e()}finally{I.transition=t}},t.unstable_act=D,t.useCallback=function(e,t){return O.current.useCallback(e,t)},t.useContext=function(e){return O.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return O.current.useDeferredValue(e)},t.useEffect=function(e,t){return O.current.useEffect(e,t)},t.useId=function(){return O.current.useId()},t.useImperativeHandle=function(e,t,n){return O.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return O.current.useMemo(e,t)},t.useReducer=function(e,t,n){return O.current.useReducer(e,t,n)},t.useRef=function(e){return O.current.useRef(e)},t.useState=function(e){return O.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return O.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return O.current.useTransition()},t.version="18.3.1"},207:e=>{"use strict";e.exports=JSON.parse('{"background":"#9fd7ff","disabled":"#467bff","enabled":"#eefeff","lightbackground":"#ccc","text":"#370e01","selected":"#031257"}')},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var a=2*(r+1)-1,l=e[a],u=a+1,c=e[u];if(0>s(l,n))u<i&&0>s(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[a]=n,r=a);else{if(!(u<i&&0>s(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],c=[],h=1,d=null,p=3,f=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,_="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function x(e){if(g=!1,b(e),!m)if(null!==r(u))m=!0,I(w);else{var t=r(c);null!==t&&N(x,t.startTime-e)}}function w(e,n){m=!1,g&&(g=!1,y(T),T=-1),f=!0;var s=p;try{for(b(n),d=r(u);null!==d&&(!(d.expirationTime>n)||e&&!M());){var o=d.callback;if("function"===typeof o){d.callback=null,p=d.priorityLevel;var a=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?d.callback=a:d===r(u)&&i(u),b(n)}else i(u);d=r(u)}if(null!==d)var l=!0;else{var h=r(c);null!==h&&N(x,h.startTime-n),l=!1}return l}finally{d=null,p=s,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,C=!1,S=null,T=-1,E=5,A=-1;function M(){return!(t.unstable_now()-A<E)}function P(){if(null!==S){var e=t.unstable_now();A=e;var n=!0;try{n=S(!0,e)}finally{n?k():(C=!1,S=null)}}else C=!1}if("function"===typeof _)k=function(){_(P)};else if("undefined"!==typeof MessageChannel){var j=new MessageChannel,O=j.port2;j.port1.onmessage=P,k=function(){O.postMessage(null)}}else k=function(){v(P,0)};function I(e){S=e,C||(C=!0,k())}function N(e,n){T=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,I(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,i,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,n(c,e),null===r(u)&&e===r(c)&&(g?(y(T),T=-1):g=!0,N(x,s-o))):(e.sortIndex=a,n(u,e),m||f||(m=!0,I(w))),e},t.unstable_shouldYield=M,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},267:(e,t,n)=>{var r={"./en.json":283,"./es.json":772,"./pl.json":124,"./symbols.json":105};function i(e){var t=s(e);return n(t)}function s(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=s,e.exports=i,i.id=267},283:e=>{"use strict";e.exports=JSON.parse('{"audiomidi":"audio/midi","back":"back","chords":"chords","eleventhchord":"eleventh chord","exercises":"exercises","instruments":"instruments","interval":"interval","intervals":"intervals","language":"language","melody":"melody","freemelody":"free melody","ascendingmelody":"ascending melody","descendingmelody":"descending melody","ninthchord":"ninth chord","perfectpitch":"perfect pitch","quizzes":"quizzes","randomchord":"random chord","rangeandscale":"range and scale","settings":"settings","seventhchord":"seventh chord","seventhchords":"seventh chords","seventhsinversions":"seventh chords\' inversions","thirteenthchord":"thirteenth chord","triad":"triad","triads":"triads","triadsinversions":"triads\' inversions","hint":"hint","undo":"undo","next":"next","repeat":"repeat","mainmenu":"main menu","startreset":"start/reset","result":"result","correct":"correct","total":"total","sounds":"sounds","examples":"examples","numberofexamples":"number of examples","notespacing":"note spacing","notelength":"note length","time":"time","selectatleastoneinterval":"Select at least one interval.","midiio":"MIDI I/O","midiinputsettings":"MIDI input settings","enablemidiinput":"enable MIDI input","midinotavailable":"MIDI not enabled or not available in this browser.","nomidiinputs":"No MIDI inputs available","scale":"scale","firstnote":"first note","lastnote":"last note","playscale":"play scale","ok":"OK","cancel":"Cancel","choose":"choose","majorscale":"major","minorscale":"minor","blues":"blues","pentatonic":"pentatonic","chromatic":"chromatic","harmonicminor":"harmonic minor","jazzminor":"jazz minor","wholetone":"whole tone","major":"major","minor":"minor","diminished":"diminished","augmented":"augmented","outputinterface":"Output interface:","selectedinstrument":"Selected instrument :","selectedinstruments":"Selected instruments:","piano":"piano","guitar":"guitar","marimba":"marimba","violin":"violin","flute":"flute","trombone":"trombone","selectrandom":"select random:","yes":"yes","answers":"answers","melodytype":"melody type","ascending":"ascending","descending":"descending","free":"free","melodylength":"melody length","minorsecond":"m2","majorsecond":"M2","minorthird":"m3","majorthird":"M3","perfectfourth":"P4","tritone":"TT","perfectfifth":"P5","minorsixth":"m6","majorsixth":"M6","minorseventh":"m7","majorseventh":"M7","octave":"P8","intervalplayingmode":"play mode","randommode":"random","simultaneousmode":"simultaneous","ascendingmode":"ascending","descendingmode":"descending","playbacksettings":"playback settings"}')},330:e=>{"use strict";e.exports=JSON.parse('{"homepage":"https://kosmoscloud.github.io/solfeggio-2","name":"solfeggio-2","version":"0.0.6","private":true,"dependencies":{"@react-midi/hooks":"^2.0.1","@testing-library/jest-dom":"^5.17.0","@testing-library/user-event":"^13.5.0","assert":"^2.1.0","buffer":"^6.0.3","gh-pages":"^6.2.0","midi-writer-js":"^3.1.1","midicube":"^0.9.2","react":"^18.3.1","react-device-detect":"^2.2.3","react-dom":"^18.3.1","react-scale-text":"^1.2.2","react-scripts":"^5.0.1","smplr":"^0.16.3","snapsvg":"^0.5.1","soundfont-player":"^0.12.0","stream":"^0.0.3","tone":"^15.0.4","web-vitals":"^2.1.4"},"scripts":{"start":"react-scripts start","build":"react-scripts build","test":"react-scripts test","eject":"npm eject","predeploy":"npm run build","deploy":"gh-pages -d build","release":"release-it"},"eslintConfig":{"extends":["react-app","react-app/jest"]},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"devDependencies":{"@testing-library/react":"^16.3.0","release-it":"^19.0.6"}}')},383:e=>{e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},391:(e,t,n)=>{"use strict";var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},483:(e,t,n)=>{var r={"./0-original.json":894,"./1-peach.json":21,"./2-ocean.json":207,"./3-grass.json":732,"./jazz.json":151};function i(e){var t=s(e);return n(t)}function s(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=s,e.exports=i,i.id=483},579:(e,t,n)=>{"use strict";e.exports=n(153)},715:(e,t,n)=>{var r=n(987),i=n(156),s=n(122),o=n(752);e.exports=function(e,t){return r(e)||i(e,t)||s(e,t)||o()},e.exports.__esModule=!0,e.exports.default=e.exports},730:(e,t,n)=>{"use strict";var r=n(43),i=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function m(e,t,n,r,i,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function _(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(f,e)||!h.call(p,e)&&(d.test(e)?f[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=Symbol.for("react.element"),w=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),E=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),M=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),j=Symbol.for("react.memo"),O=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var I=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var N=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=N&&e[N]||e["@@iterator"])?e:null}var R,z=Object.assign;function F(e){if(void 0===R)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);R=t&&t[1]||""}return"\n"+R+e}var V=!1;function L(e,t){if(!e||V)return"";V=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),s=r.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=a);break}}}finally{V=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function W(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=L(e.type,!1);case 11:return e=L(e.type.render,!1);case 1:return e=L(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case w:return"Portal";case S:return"Profiler";case C:return"StrictMode";case M:return"Suspense";case P:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case E:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case j:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case O:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===C?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function U(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function G(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function $(e){e._valueTracker||(e._valueTracker=function(e){var t=G(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function H(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=G(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return z({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=U(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Z(e,t){null!=(t=t.checked)&&_(e,"checked",t,!1)}function K(e,t){Z(e,t);var n=U(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,U(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function J(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+U(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return z({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:U(n)}}function se(e,t){var n=U(t.value),r=U(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,he=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(pe).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ve=z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function _e(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,ke=null,Ce=null;function Se(e){if(e=_i(e)){if("function"!==typeof we)throw Error(s(280));var t=e.stateNode;t&&(t=xi(t),we(e.stateNode,e.type,t))}}function Te(e){ke?Ce?Ce.push(e):Ce=[e]:ke=e}function Ee(){if(ke){var e=ke,t=Ce;if(Ce=ke=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ae(e,t){return e(t)}function Me(){}var Pe=!1;function je(e,t,n){if(Pe)return e(t,n);Pe=!0;try{return Ae(e,t,n)}finally{Pe=!1,(null!==ke||null!==Ce)&&(Me(),Ee())}}function Oe(e,t){var n=e.stateNode;if(null===n)return null;var r=xi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Ie=!1;if(c)try{var Ne={};Object.defineProperty(Ne,"passive",{get:function(){Ie=!0}}),window.addEventListener("test",Ne,Ne),window.removeEventListener("test",Ne,Ne)}catch(ce){Ie=!1}function De(e,t,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Re=!1,ze=null,Fe=!1,Ve=null,Le={onError:function(e){Re=!0,ze=e}};function We(e,t,n,r,i,s,o,a,l){Re=!1,ze=null,De.apply(Le,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ue(e){if(Be(e)!==e)throw Error(s(188))}function Ge(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Ue(i),e;if(o===r)return Ue(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?$e(e):null}function $e(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=$e(e);if(null!==t)return t;e=e.sibling}return null}var He=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Xe=i.unstable_requestPaint,Ze=i.unstable_now,Ke=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=268435455&n;if(0!==o){var a=o&~i;0!==a?r=ht(a):0!==(s&=o)&&(r=ht(s))}else 0!==(o=n&~i)?r=ht(o):0!==s&&(r=ht(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var _t=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var xt,wt,kt,Ct,St,Tt=!1,Et=[],At=null,Mt=null,Pt=null,jt=new Map,Ot=new Map,It=[],Nt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":Mt=null;break;case"mouseover":case"mouseout":Pt=null;break;case"pointerover":case"pointerout":jt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ot.delete(t.pointerId)}}function Rt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=_i(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function zt(e){var t=yi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void St(e.priority,(function(){kt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=_i(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Vt(e,t,n){Ft(e)&&n.delete(t)}function Lt(){Tt=!1,null!==At&&Ft(At)&&(At=null),null!==Mt&&Ft(Mt)&&(Mt=null),null!==Pt&&Ft(Pt)&&(Pt=null),jt.forEach(Vt),Ot.forEach(Vt)}function Wt(e,t){e.blockedOn===t&&(e.blockedOn=null,Tt||(Tt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Lt)))}function Bt(e){function t(t){return Wt(t,e)}if(0<Et.length){Wt(Et[0],e);for(var n=1;n<Et.length;n++){var r=Et[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==At&&Wt(At,e),null!==Mt&&Wt(Mt,e),null!==Pt&&Wt(Pt,e),jt.forEach(t),Ot.forEach(t),n=0;n<It.length;n++)(r=It[n]).blockedOn===e&&(r.blockedOn=null);for(;0<It.length&&null===(n=It[0]).blockedOn;)zt(n),null===n.blockedOn&&It.shift()}var qt=b.ReactCurrentBatchConfig,Ut=!0;function Gt(e,t,n,r){var i=_t,s=qt.transition;qt.transition=null;try{_t=1,Ht(e,t,n,r)}finally{_t=i,qt.transition=s}}function $t(e,t,n,r){var i=_t,s=qt.transition;qt.transition=null;try{_t=4,Ht(e,t,n,r)}finally{_t=i,qt.transition=s}}function Ht(e,t,n,r){if(Ut){var i=Yt(e,t,n,r);if(null===i)Ur(e,t,r,Qt,n),Dt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return At=Rt(At,e,t,n,r,i),!0;case"dragenter":return Mt=Rt(Mt,e,t,n,r,i),!0;case"mouseover":return Pt=Rt(Pt,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return jt.set(s,Rt(jt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ot.set(s,Rt(Ot.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Dt(e,r),4&t&&-1<Nt.indexOf(e)){for(;null!==i;){var s=_i(i);if(null!==s&&xt(s),null===(s=Yt(e,t,n,r))&&Ur(e,t,r,Qt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Ur(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=yi(e=xe(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ke()){case Je:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Zt=null,Kt=null,Jt=null;function en(){if(Jt)return Jt;var e,t,n=Kt,r=n.length,i="value"in Zt?Zt.value:Zt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return Jt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return z(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,an,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=sn(un),hn=z({},un,{view:0,detail:0}),dn=sn(hn),pn=z({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:an}}),fn=sn(pn),mn=sn(z({},pn,{dataTransfer:0})),gn=sn(z({},hn,{relatedTarget:0})),vn=sn(z({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=z({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),_n=sn(yn),bn=sn(z({},un,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function Sn(){return Cn}var Tn=z({},hn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),En=sn(Tn),An=sn(z({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Mn=sn(z({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),Pn=sn(z({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),jn=z({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),On=sn(jn),In=[9,13,27,32],Nn=c&&"CompositionEvent"in window,Dn=null;c&&"documentMode"in document&&(Dn=document.documentMode);var Rn=c&&"TextEvent"in window&&!Dn,zn=c&&(!Nn||Dn&&8<Dn&&11>=Dn),Fn=String.fromCharCode(32),Vn=!1;function Ln(e,t){switch(e){case"keyup":return-1!==In.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Un(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Gn(e,t,n,r){Te(r),0<(t=$r(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var $n=null,Hn=null;function Qn(e){Fr(e,0)}function Yn(e){if(H(bi(e)))return e}function Xn(e,t){if("change"===e)return t}var Zn=!1;if(c){var Kn;if(c){var Jn="oninput"in document;if(!Jn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Jn="function"===typeof er.oninput}Kn=Jn}else Kn=!1;Zn=Kn&&(!document.documentMode||9<document.documentMode)}function tr(){$n&&($n.detachEvent("onpropertychange",nr),Hn=$n=null)}function nr(e){if("value"===e.propertyName&&Yn(Hn)){var t=[];Gn(t,Hn,e,xe(e)),je(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Hn=n,($n=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Hn)}function sr(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=cr(n,s);var o=cr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=c&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,_r=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_r||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=$r(vr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function xr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:xr("Animation","AnimationEnd"),animationiteration:xr("Animation","AnimationIteration"),animationstart:xr("Animation","AnimationStart"),transitionend:xr("Transition","TransitionEnd")},kr={},Cr={};function Sr(e){if(kr[e])return kr[e];if(!wr[e])return e;var t,n=wr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Cr)return kr[e]=n[t];return e}c&&(Cr=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);var Tr=Sr("animationend"),Er=Sr("animationiteration"),Ar=Sr("animationstart"),Mr=Sr("transitionend"),Pr=new Map,jr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Pr.set(e,t),l(t,[e])}for(var Ir=0;Ir<jr.length;Ir++){var Nr=jr[Ir];Or(Nr.toLowerCase(),"on"+(Nr[0].toUpperCase()+Nr.slice(1)))}Or(Tr,"onAnimationEnd"),Or(Er,"onAnimationIteration"),Or(Ar,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Mr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Rr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function zr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,l,u){if(We.apply(this,arguments),Re){if(!Re)throw Error(s(198));var c=ze;Re=!1,ze=null,Fe||(Fe=!0,Ve=c)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;zr(i,a,u),s=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;zr(i,a,u),s=l}}}if(Fe)throw e=Ve,Fe=!1,Ve=null,e}function Vr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Lr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Wr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[Wr]){e[Wr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Rr.has(t)||Lr(t,!1,e),Lr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Wr]||(t[Wr]=!0,Lr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Xt(t)){case 1:var i=Gt;break;case 4:i=$t;break;default:i=Ht}n=i.bind(null,t,n,e),i=void 0,!Ie||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Ur(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=yi(a)))return;if(5===(l=o.tag)||6===l){r=s=o;continue e}a=a.parentNode}}r=r.return}je((function(){var r=s,i=xe(n),o=[];e:{var a=Pr.get(e);if(void 0!==a){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=En;break;case"focusin":u="focus",l=gn;break;case"focusout":u="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Mn;break;case Tr:case Er:case Ar:l=vn;break;case Mr:l=Pn;break;case"scroll":l=dn;break;case"wheel":l=On;break;case"copy":case"cut":case"paste":l=_n;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=An}var c=0!==(4&t),h=!c&&"scroll"===e,d=c?null!==a?a+"Capture":null:a;c=[];for(var p,f=r;null!==f;){var m=(p=f).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==d&&(null!=(m=Oe(f,d))&&c.push(Gr(f,m,p)))),h)break;f=f.return}0<c.length&&(a=new l(a,u,null,n,i),o.push({event:a,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===be||!(u=n.relatedTarget||n.fromElement)||!yi(u)&&!u[fi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?yi(u):null)&&(u!==(h=Be(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=fn,m="onMouseLeave",d="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(c=An,m="onPointerLeave",d="onPointerEnter",f="pointer"),h=null==l?a:bi(l),p=null==u?a:bi(u),(a=new c(m,f+"leave",l,n,i)).target=h,a.relatedTarget=p,m=null,yi(i)===r&&((c=new c(d,f+"enter",u,n,i)).target=p,c.relatedTarget=h,m=c),h=m,l&&u)e:{for(d=u,f=0,p=c=l;p;p=Hr(p))f++;for(p=0,m=d;m;m=Hr(m))p++;for(;0<f-p;)c=Hr(c),f--;for(;0<p-f;)d=Hr(d),p--;for(;f--;){if(c===d||null!==d&&c===d.alternate)break e;c=Hr(c),d=Hr(d)}c=null}else c=null;null!==l&&Qr(o,a,l,c,!1),null!==u&&null!==h&&Qr(o,h,u,c,!0)}if("select"===(l=(a=r?bi(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Xn;else if(Un(a))if(Zn)g=or;else{g=ir;var v=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=sr);switch(g&&(g=g(e,r))?Gn(o,g,n,i):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=r?bi(r):window,e){case"focusin":(Un(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,br(o,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":br(o,n,i)}var y;if(Nn)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Bn?Ln(e,n)&&(_="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(_="onCompositionStart");_&&(zn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==_?"onCompositionEnd"===_&&Bn&&(y=en()):(Kt="value"in(Zt=i)?Zt.value:Zt.textContent,Bn=!0)),0<(v=$r(r,_)).length&&(_=new bn(_,e,null,n,i),o.push({event:_,listeners:v}),y?_.data=y:null!==(y=Wn(n))&&(_.data=y))),(y=Rn?function(e,t){switch(e){case"compositionend":return Wn(t);case"keypress":return 32!==t.which?null:(Vn=!0,Fn);case"textInput":return(e=t.data)===Fn&&Vn?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Nn&&Ln(e,t)?(e=en(),Jt=Kt=Zt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=$r(r,"onBeforeInput")).length&&(i=new bn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Fr(o,t)}))}function Gr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function $r(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Oe(e,n))&&r.unshift(Gr(e,s,i)),null!=(s=Oe(e,t))&&r.push(Gr(e,s,i))),e=e.return}return r}function Hr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==u&&(a=u,i?null!=(l=Oe(n,s))&&o.unshift(Gr(n,l,a)):i||null!=(l=Oe(n,s))&&o.push(Gr(n,l,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Zr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Xr,"")}function Kr(e,t,n){if(t=Zr(t),Zr(e)!==t&&n)throw Error(s(425))}function Jr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ui(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,pi="__reactProps$"+hi,fi="__reactContainer$"+hi,mi="__reactEvents$"+hi,gi="__reactListeners$"+hi,vi="__reactHandles$"+hi;function yi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[di])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function _i(e){return!(e=e[di]||e[fi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function bi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function xi(e){return e[pi]||null}var wi=[],ki=-1;function Ci(e){return{current:e}}function Si(e){0>ki||(e.current=wi[ki],wi[ki]=null,ki--)}function Ti(e,t){ki++,wi[ki]=e.current,e.current=t}var Ei={},Ai=Ci(Ei),Mi=Ci(!1),Pi=Ei;function ji(e,t){var n=e.type.contextTypes;if(!n)return Ei;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Oi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ii(){Si(Mi),Si(Ai)}function Ni(e,t,n){if(Ai.current!==Ei)throw Error(s(168));Ti(Ai,t),Ti(Mi,n)}function Di(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,q(e)||"Unknown",i));return z({},n,r)}function Ri(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ei,Pi=Ai.current,Ti(Ai,e),Ti(Mi,Mi.current),!0}function zi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Di(e,t,Pi),r.__reactInternalMemoizedMergedChildContext=e,Si(Mi),Si(Ai),Ti(Ai,e)):Si(Mi),Ti(Mi,n)}var Fi=null,Vi=!1,Li=!1;function Wi(e){null===Fi?Fi=[e]:Fi.push(e)}function Bi(){if(!Li&&null!==Fi){Li=!0;var e=0,t=_t;try{var n=Fi;for(_t=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Vi=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),He(Je,Bi),i}finally{_t=t,Li=!1}}return null}var qi=[],Ui=0,Gi=null,$i=0,Hi=[],Qi=0,Yi=null,Xi=1,Zi="";function Ki(e,t){qi[Ui++]=$i,qi[Ui++]=Gi,Gi=e,$i=t}function Ji(e,t,n){Hi[Qi++]=Xi,Hi[Qi++]=Zi,Hi[Qi++]=Yi,Yi=e;var r=Xi;e=Zi;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var s=32-ot(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Xi=1<<32-ot(t)+i|n<<i|r,Zi=s+e}else Xi=1<<s|n<<i|r,Zi=e}function es(e){null!==e.return&&(Ki(e,1),Ji(e,1,0))}function ts(e){for(;e===Gi;)Gi=qi[--Ui],qi[Ui]=null,$i=qi[--Ui],qi[Ui]=null;for(;e===Yi;)Yi=Hi[--Qi],Hi[Qi]=null,Zi=Hi[--Qi],Hi[Qi]=null,Xi=Hi[--Qi],Hi[Qi]=null}var ns=null,rs=null,is=!1,ss=null;function os(e,t){var n=ju(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function as(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ui(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Xi,overflow:Zi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=ju(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function us(e){if(is){var t=rs;if(t){var n=t;if(!as(e,t)){if(ls(e))throw Error(s(418));t=ui(n.nextSibling);var r=ns;t&&as(e,t)?os(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function cs(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function hs(e){if(e!==ns)return!1;if(!is)return cs(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw ds(),Error(s(418));for(;t;)os(e,t),t=ui(t.nextSibling)}if(cs(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ui(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ui(e.stateNode.nextSibling):null;return!0}function ds(){for(var e=rs;e;)e=ui(e.nextSibling)}function ps(){rs=ns=null,is=!1}function fs(e){null===ss?ss=[e]:ss.push(e)}var ms=b.ReactCurrentBatchConfig;function gs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function vs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ys(e){return(0,e._init)(e._payload)}function _s(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Iu(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=zu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var s=n.type;return s===k?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===O&&ys(s)===t.type)?((r=i(t,n.props)).ref=gs(e,t,n),r.return=e,r):((r=Nu(n.type,n.key,n.props,null,e.mode,r)).ref=gs(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=Du(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=zu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Nu(t.type,t.key,t.props,null,e.mode,n)).ref=gs(e,null,t),n.return=e,n;case w:return(t=Fu(t,e.mode,n)).return=e,t;case O:return d(e,(0,t._init)(t._payload),n)}if(te(t)||D(t))return(t=Du(t,e.mode,n,null)).return=e,t;vs(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?u(e,t,n,r):null;case w:return n.key===i?c(e,t,n,r):null;case O:return p(e,t,(i=n._init)(n._payload),r)}if(te(n)||D(n))return null!==i?null:h(e,t,n,r,null);vs(e,n)}return null}function f(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case O:return f(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||D(r))return h(t,e=e.get(n)||null,r,i,null);vs(t,r)}return null}function m(i,s,a,l){for(var u=null,c=null,h=s,m=s=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=p(i,h,a[m],l);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(i,h),s=o(v,s,m),null===c?u=v:c.sibling=v,c=v,h=g}if(m===a.length)return n(i,h),is&&Ki(i,m),u;if(null===h){for(;m<a.length;m++)null!==(h=d(i,a[m],l))&&(s=o(h,s,m),null===c?u=h:c.sibling=h,c=h);return is&&Ki(i,m),u}for(h=r(i,h);m<a.length;m++)null!==(g=f(h,i,m,a[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=o(g,s,m),null===c?u=g:c.sibling=g,c=g);return e&&h.forEach((function(e){return t(i,e)})),is&&Ki(i,m),u}function g(i,a,l,u){var c=D(l);if("function"!==typeof c)throw Error(s(150));if(null==(l=c.call(l)))throw Error(s(151));for(var h=c=null,m=a,g=a=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var _=p(i,m,y.value,u);if(null===_){null===m&&(m=v);break}e&&m&&null===_.alternate&&t(i,m),a=o(_,a,g),null===h?c=_:h.sibling=_,h=_,m=v}if(y.done)return n(i,m),is&&Ki(i,g),c;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=d(i,y.value,u))&&(a=o(y,a,g),null===h?c=y:h.sibling=y,h=y);return is&&Ki(i,g),c}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=f(m,i,g,y.value,u))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=o(y,a,g),null===h?c=y:h.sibling=y,h=y);return e&&m.forEach((function(e){return t(i,e)})),is&&Ki(i,g),c}return function e(r,s,o,l){if("object"===typeof o&&null!==o&&o.type===k&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case x:e:{for(var u=o.key,c=s;null!==c;){if(c.key===u){if((u=o.type)===k){if(7===c.tag){n(r,c.sibling),(s=i(c,o.props.children)).return=r,r=s;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===O&&ys(u)===c.type){n(r,c.sibling),(s=i(c,o.props)).ref=gs(r,c,o),s.return=r,r=s;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===k?((s=Du(o.props.children,r.mode,l,o.key)).return=r,r=s):((l=Nu(o.type,o.key,o.props,null,r.mode,l)).ref=gs(r,s,o),l.return=r,r=l)}return a(r);case w:e:{for(c=o.key;null!==s;){if(s.key===c){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(r,s.sibling),(s=i(s,o.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Fu(o,r.mode,l)).return=r,r=s}return a(r);case O:return e(r,s,(c=o._init)(o._payload),l)}if(te(o))return m(r,s,o,l);if(D(o))return g(r,s,o,l);vs(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,o)).return=r,r=s):(n(r,s),(s=zu(o,r.mode,l)).return=r,r=s),a(r)):n(r,s)}}var bs=_s(!0),xs=_s(!1),ws=Ci(null),ks=null,Cs=null,Ss=null;function Ts(){Ss=Cs=ks=null}function Es(e){var t=ws.current;Si(ws),e._currentValue=t}function As(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ms(e,t){ks=e,Ss=Cs=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(_a=!0),e.firstContext=null)}function Ps(e){var t=e._currentValue;if(Ss!==e)if(e={context:e,memoizedValue:t,next:null},null===Cs){if(null===ks)throw Error(s(308));Cs=e,ks.dependencies={lanes:0,firstContext:e}}else Cs=Cs.next=e;return t}var js=null;function Os(e){null===js?js=[e]:js.push(e)}function Is(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Os(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ns(e,r)}function Ns(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ds=!1;function Rs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Vs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Al)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ns(e,n)}return null===(i=r.interleaved)?(t.next=t,Os(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ns(e,n)}function Ls(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Ws(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Bs(e,t,n,r){var i=e.updateQueue;Ds=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,u=l.next;l.next=null,null===o?s=u:o.next=u,o=l;var c=e.alternate;null!==c&&((a=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===a?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(null!==s){var h=i.baseState;for(o=0,c=u=l=null,a=s;;){var d=a.lane,p=a.eventTime;if((r&d)===d){null!==c&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var f=e,m=a;switch(d=t,p=n,m.tag){case 1:if("function"===typeof(f=m.payload)){h=f.call(p,h,d);break e}h=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(d="function"===typeof(f=m.payload)?f.call(p,h,d):f)||void 0===d)break e;h=z({},h,d);break e;case 2:Ds=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[a]:d.push(a))}else p={eventTime:p,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===c?(u=c=p,l=h):c=c.next=p,o|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(d=a).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===c&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Rl|=o,e.lanes=o,e.memoizedState=h}}function qs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Us={},Gs=Ci(Us),$s=Ci(Us),Hs=Ci(Us);function Qs(e){if(e===Us)throw Error(s(174));return e}function Ys(e,t){switch(Ti(Hs,t),Ti($s,e),Ti(Gs,Us),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si(Gs),Ti(Gs,t)}function Xs(){Si(Gs),Si($s),Si(Hs)}function Zs(e){Qs(Hs.current);var t=Qs(Gs.current),n=le(t,e.type);t!==n&&(Ti($s,e),Ti(Gs,n))}function Ks(e){$s.current===e&&(Si(Gs),Si($s))}var Js=Ci(0);function eo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var to=[];function no(){for(var e=0;e<to.length;e++)to[e]._workInProgressVersionPrimary=null;to.length=0}var ro=b.ReactCurrentDispatcher,io=b.ReactCurrentBatchConfig,so=0,oo=null,ao=null,lo=null,uo=!1,co=!1,ho=0,po=0;function fo(){throw Error(s(321))}function mo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function go(e,t,n,r,i,o){if(so=o,oo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ro.current=null===e||null===e.memoizedState?Jo:ea,e=n(r,i),co){o=0;do{if(co=!1,ho=0,25<=o)throw Error(s(301));o+=1,lo=ao=null,t.updateQueue=null,ro.current=ta,e=n(r,i)}while(co)}if(ro.current=Ko,t=null!==ao&&null!==ao.next,so=0,lo=ao=oo=null,uo=!1,t)throw Error(s(300));return e}function vo(){var e=0!==ho;return ho=0,e}function yo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===lo?oo.memoizedState=lo=e:lo=lo.next=e,lo}function _o(){if(null===ao){var e=oo.alternate;e=null!==e?e.memoizedState:null}else e=ao.next;var t=null===lo?oo.memoizedState:lo.next;if(null!==t)lo=t,ao=e;else{if(null===e)throw Error(s(310));e={memoizedState:(ao=e).memoizedState,baseState:ao.baseState,baseQueue:ao.baseQueue,queue:ao.queue,next:null},null===lo?oo.memoizedState=lo=e:lo=lo.next=e}return lo}function bo(e,t){return"function"===typeof t?t(e):t}function xo(e){var t=_o(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=ao,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=a=null,u=null,c=o;do{var h=c.lane;if((so&h)===h)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=d,a=r):u=u.next=d,oo.lanes|=h,Rl|=h}c=c.next}while(null!==c&&c!==o);null===u?a=r:u.next=l,ar(r,t.memoizedState)||(_a=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,oo.lanes|=o,Rl|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function wo(e){var t=_o(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);ar(o,t.memoizedState)||(_a=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function ko(){}function Co(e,t){var n=oo,r=_o(),i=t(),o=!ar(r.memoizedState,i);if(o&&(r.memoizedState=i,_a=!0),r=r.queue,Ro(Eo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==lo&&1&lo.memoizedState.tag){if(n.flags|=2048,jo(9,To.bind(null,n,r,i,t),void 0,null),null===Ml)throw Error(s(349));0!==(30&so)||So(n,t,i)}return i}function So(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function To(e,t,n,r){t.value=n,t.getSnapshot=r,Ao(t)&&Mo(e)}function Eo(e,t,n){return n((function(){Ao(t)&&Mo(e)}))}function Ao(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function Mo(e){var t=Ns(e,1);null!==t&&nu(t,e,1,-1)}function Po(e){var t=yo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bo,lastRenderedState:e},t.queue=e,e=e.dispatch=Qo.bind(null,oo,e),[t.memoizedState,e]}function jo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=oo.updateQueue)?(t={lastEffect:null,stores:null},oo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Oo(){return _o().memoizedState}function Io(e,t,n,r){var i=yo();oo.flags|=e,i.memoizedState=jo(1|t,n,void 0,void 0===r?null:r)}function No(e,t,n,r){var i=_o();r=void 0===r?null:r;var s=void 0;if(null!==ao){var o=ao.memoizedState;if(s=o.destroy,null!==r&&mo(r,o.deps))return void(i.memoizedState=jo(t,n,s,r))}oo.flags|=e,i.memoizedState=jo(1|t,n,s,r)}function Do(e,t){return Io(8390656,8,e,t)}function Ro(e,t){return No(2048,8,e,t)}function zo(e,t){return No(4,2,e,t)}function Fo(e,t){return No(4,4,e,t)}function Vo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Lo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,No(4,4,Vo.bind(null,t,e),n)}function Wo(){}function Bo(e,t){var n=_o();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function qo(e,t){var n=_o();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&mo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Uo(e,t,n){return 0===(21&so)?(e.baseState&&(e.baseState=!1,_a=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),oo.lanes|=n,Rl|=n,e.baseState=!0),t)}function Go(e,t){var n=_t;_t=0!==n&&4>n?n:4,e(!0);var r=io.transition;io.transition={};try{e(!1),t()}finally{_t=n,io.transition=r}}function $o(){return _o().memoizedState}function Ho(e,t,n){var r=tu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Yo(e))Xo(t,n);else if(null!==(n=Is(e,t,n,r))){nu(n,e,r,eu()),Zo(n,t,r)}}function Qo(e,t,n){var r=tu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Yo(e))Xo(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,o)){var l=t.interleaved;return null===l?(i.next=i,Os(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(u){}null!==(n=Is(e,t,i,r))&&(nu(n,e,r,i=eu()),Zo(n,t,r))}}function Yo(e){var t=e.alternate;return e===oo||null!==t&&t===oo}function Xo(e,t){co=uo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Zo(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Ko={readContext:Ps,useCallback:fo,useContext:fo,useEffect:fo,useImperativeHandle:fo,useInsertionEffect:fo,useLayoutEffect:fo,useMemo:fo,useReducer:fo,useRef:fo,useState:fo,useDebugValue:fo,useDeferredValue:fo,useTransition:fo,useMutableSource:fo,useSyncExternalStore:fo,useId:fo,unstable_isNewReconciler:!1},Jo={readContext:Ps,useCallback:function(e,t){return yo().memoizedState=[e,void 0===t?null:t],e},useContext:Ps,useEffect:Do,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Io(4194308,4,Vo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Io(4194308,4,e,t)},useInsertionEffect:function(e,t){return Io(4,2,e,t)},useMemo:function(e,t){var n=yo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=yo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ho.bind(null,oo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},yo().memoizedState=e},useState:Po,useDebugValue:Wo,useDeferredValue:function(e){return yo().memoizedState=e},useTransition:function(){var e=Po(!1),t=e[0];return e=Go.bind(null,e[1]),yo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=oo,i=yo();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Ml)throw Error(s(349));0!==(30&so)||So(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Do(Eo.bind(null,r,o,e),[e]),r.flags|=2048,jo(9,To.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=yo(),t=Ml.identifierPrefix;if(is){var n=Zi;t=":"+t+"R"+(n=(Xi&~(1<<32-ot(Xi)-1)).toString(32)+n),0<(n=ho++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=po++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:Ps,useCallback:Bo,useContext:Ps,useEffect:Ro,useImperativeHandle:Lo,useInsertionEffect:zo,useLayoutEffect:Fo,useMemo:qo,useReducer:xo,useRef:Oo,useState:function(){return xo(bo)},useDebugValue:Wo,useDeferredValue:function(e){return Uo(_o(),ao.memoizedState,e)},useTransition:function(){return[xo(bo)[0],_o().memoizedState]},useMutableSource:ko,useSyncExternalStore:Co,useId:$o,unstable_isNewReconciler:!1},ta={readContext:Ps,useCallback:Bo,useContext:Ps,useEffect:Ro,useImperativeHandle:Lo,useInsertionEffect:zo,useLayoutEffect:Fo,useMemo:qo,useReducer:wo,useRef:Oo,useState:function(){return wo(bo)},useDebugValue:Wo,useDeferredValue:function(e){var t=_o();return null===ao?t.memoizedState=e:Uo(t,ao.memoizedState,e)},useTransition:function(){return[wo(bo)[0],_o().memoizedState]},useMutableSource:ko,useSyncExternalStore:Co,useId:$o,unstable_isNewReconciler:!1};function na(e,t){if(e&&e.defaultProps){for(var n in t=z({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ra(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:z({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ia={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),s=Fs(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Vs(e,s,i))&&(nu(t,e,i,r),Ls(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=eu(),i=tu(e),s=Fs(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Vs(e,s,i))&&(nu(t,e,i,r),Ls(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=eu(),r=tu(e),i=Fs(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Vs(e,i,r))&&(nu(t,e,r,n),Ls(t,e,r))}};function sa(e,t,n,r,i,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function oa(e,t,n){var r=!1,i=Ei,s=t.contextType;return"object"===typeof s&&null!==s?s=Ps(s):(i=Oi(t)?Pi:Ai.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?ji(e,i):Ei),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ia,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function aa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ia.enqueueReplaceState(t,t.state,null)}function la(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Rs(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=Ps(s):(s=Oi(t)?Pi:Ai.current,i.context=ji(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(ra(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ia.enqueueReplaceState(i,i.state,null),Bs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function ua(e,t){try{var n="",r=t;do{n+=W(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function ca(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ha(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var da="function"===typeof WeakMap?WeakMap:Map;function pa(e,t,n){(n=Fs(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ul||(Ul=!0,Gl=r),ha(0,t)},n}function fa(e,t,n){(n=Fs(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ha(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){ha(0,t),"function"!==typeof r&&(null===$l?$l=new Set([this]):$l.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ma(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new da;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Su.bind(null,e,t,n),t.then(e,e))}function ga(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function va(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fs(-1,1)).tag=2,Vs(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ya=b.ReactCurrentOwner,_a=!1;function ba(e,t,n,r){t.child=null===e?xs(t,null,n,r):bs(t,e.child,n,r)}function xa(e,t,n,r,i){n=n.render;var s=t.ref;return Ms(t,i),r=go(e,t,n,r,s,i),n=vo(),null===e||_a?(is&&n&&es(t),t.flags|=1,ba(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ua(e,t,i))}function wa(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Ou(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Nu(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,ka(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return Ua(e,t,i)}return t.flags|=1,(e=Iu(s,r)).ref=t.ref,e.return=t,t.child=e}function ka(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(_a=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Ua(e,t,i);0!==(131072&e.flags)&&(_a=!0)}}return Ta(e,t,n,r,i)}function Ca(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ti(Il,Ol),Ol|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ti(Il,Ol),Ol|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Ti(Il,Ol),Ol|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ti(Il,Ol),Ol|=r;return ba(e,t,i,n),t.child}function Sa(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ta(e,t,n,r,i){var s=Oi(n)?Pi:Ai.current;return s=ji(t,s),Ms(t,i),n=go(e,t,n,r,s,i),r=vo(),null===e||_a?(is&&r&&es(t),t.flags|=1,ba(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ua(e,t,i))}function Ea(e,t,n,r,i){if(Oi(n)){var s=!0;Ri(t)}else s=!1;if(Ms(t,i),null===t.stateNode)qa(e,t),oa(t,n,r),la(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;"object"===typeof u&&null!==u?u=Ps(u):u=ji(t,u=Oi(n)?Pi:Ai.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==r||l!==u)&&aa(t,o,r,u),Ds=!1;var d=t.memoizedState;o.state=d,Bs(t,r,o,i),l=t.memoizedState,a!==r||d!==l||Mi.current||Ds?("function"===typeof c&&(ra(t,n,c,r),l=t.memoizedState),(a=Ds||sa(t,n,a,r,d,l,u))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,zs(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:na(t.type,a),o.props=u,h=t.pendingProps,d=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ps(l):l=ji(t,l=Oi(n)?Pi:Ai.current);var p=n.getDerivedStateFromProps;(c="function"===typeof p||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==h||d!==l)&&aa(t,o,r,l),Ds=!1,d=t.memoizedState,o.state=d,Bs(t,r,o,i);var f=t.memoizedState;a!==h||d!==f||Mi.current||Ds?("function"===typeof p&&(ra(t,n,p,r),f=t.memoizedState),(u=Ds||sa(t,n,u,r,d,f,l)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,f,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),o.props=r,o.state=f,o.context=l,r=u):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Aa(e,t,n,r,s,i)}function Aa(e,t,n,r,i,s){Sa(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&zi(t,n,!1),Ua(e,t,s);r=t.stateNode,ya.current=t;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=bs(t,e.child,null,s),t.child=bs(t,null,a,s)):ba(e,t,a,s),t.memoizedState=r.state,i&&zi(t,n,!0),t.child}function Ma(e){var t=e.stateNode;t.pendingContext?Ni(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ni(0,t.context,!1),Ys(e,t.containerInfo)}function Pa(e,t,n,r,i){return ps(),fs(i),t.flags|=256,ba(e,t,n,r),t.child}var ja,Oa,Ia,Na,Da={dehydrated:null,treeContext:null,retryLane:0};function Ra(e){return{baseLanes:e,cachePool:null,transitions:null}}function za(e,t,n){var r,i=t.pendingProps,o=Js.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ti(Js,1&o),null===e)return us(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Ru(l,i,0,null),e=Du(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ra(n),t.memoizedState=Da,e):Fa(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,a){if(n)return 256&t.flags?(t.flags&=-257,Va(e,t,a,r=ca(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Ru({mode:"visible",children:r.children},i,0,null),(o=Du(o,i,a,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&bs(t,e.child,null,a),t.child.memoizedState=Ra(a),t.memoizedState=Da,o);if(0===(1&t.mode))return Va(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Va(e,t,a,r=ca(o=Error(s(419)),r,void 0))}if(l=0!==(a&e.childLanes),_a||l){if(null!==(r=Ml)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ns(e,i),nu(r,e,i,-1))}return mu(),Va(e,t,a,r=ca(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Eu.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,rs=ui(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Hi[Qi++]=Xi,Hi[Qi++]=Zi,Hi[Qi++]=Yi,Xi=e.id,Zi=e.overflow,Yi=t),t=Fa(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,o,n);if(a){a=i.fallback,l=t.mode,r=(o=e.child).sibling;var u={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=u,t.deletions=null):(i=Iu(o,u)).subtreeFlags=14680064&o.subtreeFlags,null!==r?a=Iu(r,a):(a=Du(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?Ra(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Da,i}return e=(a=e.child).sibling,i=Iu(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fa(e,t){return(t=Ru({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Va(e,t,n,r){return null!==r&&fs(r),bs(t,e.child,null,n),(e=Fa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function La(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),As(e.return,t,n)}function Wa(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Ba(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(ba(e,t,r.children,n),0!==(2&(r=Js.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&La(e,n,t);else if(19===e.tag)La(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ti(Js,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===eo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Wa(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===eo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Wa(t,!0,n,null,s);break;case"together":Wa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qa(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ua(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Rl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Iu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Iu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ga(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function $a(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ha(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $a(t),null;case 1:case 17:return Oi(t.type)&&Ii(),$a(t),null;case 3:return r=t.stateNode,Xs(),Si(Mi),Si(Ai),no(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hs(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(ou(ss),ss=null))),Oa(e,t),$a(t),null;case 5:Ks(t);var i=Qs(Hs.current);if(n=t.type,null!==e&&null!=t.stateNode)Ia(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return $a(t),null}if(e=Qs(Gs.current),hs(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[di]=t,r[pi]=o,e=0!==(1&t.mode),n){case"dialog":Vr("cancel",r),Vr("close",r);break;case"iframe":case"object":case"embed":Vr("load",r);break;case"video":case"audio":for(i=0;i<Dr.length;i++)Vr(Dr[i],r);break;case"source":Vr("error",r);break;case"img":case"image":case"link":Vr("error",r),Vr("load",r);break;case"details":Vr("toggle",r);break;case"input":X(r,o),Vr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Vr("invalid",r);break;case"textarea":ie(r,o),Vr("invalid",r)}for(var l in ye(n,o),i=null,o)if(o.hasOwnProperty(l)){var u=o[l];"children"===l?"string"===typeof u?r.textContent!==u&&(!0!==o.suppressHydrationWarning&&Kr(r.textContent,u,e),i=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==o.suppressHydrationWarning&&Kr(r.textContent,u,e),i=["children",""+u]):a.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Vr("scroll",r)}switch(n){case"input":$(r),J(r,o,!0);break;case"textarea":$(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Jr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[di]=t,e[pi]=r,ja(e,t,!1,!1),t.stateNode=e;e:{switch(l=_e(n,r),n){case"dialog":Vr("cancel",e),Vr("close",e),i=r;break;case"iframe":case"object":case"embed":Vr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Dr.length;i++)Vr(Dr[i],e);i=r;break;case"source":Vr("error",e),i=r;break;case"img":case"image":case"link":Vr("error",e),Vr("load",e),i=r;break;case"details":Vr("toggle",e),i=r;break;case"input":X(e,r),i=Y(e,r),Vr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=z({},r,{value:void 0}),Vr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Vr("invalid",e)}for(o in ye(n,i),u=i)if(u.hasOwnProperty(o)){var c=u[o];"style"===o?ge(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&he(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&de(e,c):"number"===typeof c&&de(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=c&&"onScroll"===o&&Vr("scroll",e):null!=c&&_(e,o,c,l))}switch(n){case"input":$(e),J(e,r,!1);break;case"textarea":$(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+U(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Jr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return $a(t),null;case 6:if(e&&null!=t.stateNode)Na(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Qs(Hs.current),Qs(Gs.current),hs(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(o=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Kr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Kr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return $a(t),null;case 13:if(Si(Js),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))ds(),ps(),t.flags|=98560,o=!1;else if(o=hs(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[di]=t}else ps(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;$a(t),o=!1}else null!==ss&&(ou(ss),ss=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Js.current)?0===Nl&&(Nl=3):mu())),null!==t.updateQueue&&(t.flags|=4),$a(t),null);case 4:return Xs(),Oa(e,t),null===e&&Br(t.stateNode.containerInfo),$a(t),null;case 10:return Es(t.type._context),$a(t),null;case 19:if(Si(Js),null===(o=t.memoizedState))return $a(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Ga(o,!1);else{if(0!==Nl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=eo(e))){for(t.flags|=128,Ga(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ti(Js,1&Js.current|2),t.child}e=e.sibling}null!==o.tail&&Ze()>Bl&&(t.flags|=128,r=!0,Ga(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=eo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ga(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!is)return $a(t),null}else 2*Ze()-o.renderingStartTime>Bl&&1073741824!==n&&(t.flags|=128,r=!0,Ga(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ze(),t.sibling=null,n=Js.current,Ti(Js,r?1&n|2:1&n),t):($a(t),null);case 22:case 23:return hu(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ol)&&($a(t),6&t.subtreeFlags&&(t.flags|=8192)):$a(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Qa(e,t){switch(ts(t),t.tag){case 1:return Oi(t.type)&&Ii(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Xs(),Si(Mi),Si(Ai),no(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Ks(t),null;case 13:if(Si(Js),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));ps()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(Js),null;case 4:return Xs(),null;case 10:return Es(t.type._context),null;case 22:case 23:return hu(),null;default:return null}}ja=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Oa=function(){},Ia=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Qs(Gs.current);var s,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=z({},i,{value:void 0}),r=z({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Jr)}for(c in ye(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var l=i[c];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(a.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(s in l)!l.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&l[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(o||(o=[]),o.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(o=o||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(o=o||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(a.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Vr("scroll",e),o||l===u||(o=[])):(o=o||[]).push(c,u))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},Na=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ya=!1,Xa=!1,Za="function"===typeof WeakSet?WeakSet:Set,Ka=null;function Ja(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Cu(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Cu(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&el(t,n,s)}i=i.next}while(i!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function il(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function sl(e){var t=e.alternate;null!==t&&(e.alternate=null,sl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[pi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function al(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Jr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var cl=null,hl=!1;function dl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:Xa||Ja(n,t);case 6:var r=cl,i=hl;cl=null,dl(e,t,n),hl=i,null!==(cl=r)&&(hl?(e=cl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(hl?(e=cl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Bt(e)):li(cl,n.stateNode));break;case 4:r=cl,i=hl,cl=n.stateNode.containerInfo,hl=!0,dl(e,t,n),cl=r,hl=i;break;case 0:case 11:case 14:case 15:if(!Xa&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&el(n,t,o),i=i.next}while(i!==r)}dl(e,t,n);break;case 1:if(!Xa&&(Ja(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Cu(n,t,a)}dl(e,t,n);break;case 21:dl(e,t,n);break;case 22:1&n.mode?(Xa=(r=Xa)||null!==n.memoizedState,dl(e,t,n),Xa=r):dl(e,t,n);break;default:dl(e,t,n)}}function fl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Za),t.forEach((function(t){var r=Au.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,hl=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,hl=!0;break e}l=l.return}if(null===cl)throw Error(s(160));pl(o,a,i),cl=null,hl=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(c){Cu(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),vl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){Cu(e,e.return,g)}try{nl(5,e,e.return)}catch(g){Cu(e,e.return,g)}}break;case 1:ml(t,e),vl(e),512&r&&null!==n&&Ja(n,n.return);break;case 5:if(ml(t,e),vl(e),512&r&&null!==n&&Ja(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(g){Cu(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,a=null!==n?n.memoizedProps:o,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===o.type&&null!=o.name&&Z(i,o),_e(l,a);var c=_e(l,o);for(a=0;a<u.length;a+=2){var h=u[a],d=u[a+1];"style"===h?ge(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):_(i,h,d,c)}switch(l){case"input":K(i,o);break;case"textarea":se(i,o);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var f=o.value;null!=f?ne(i,!!o.multiple,f,!1):p!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[pi]=o}catch(g){Cu(e,e.return,g)}}break;case 6:if(ml(t,e),vl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){Cu(e,e.return,g)}}break;case 3:if(ml(t,e),vl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){Cu(e,e.return,g)}break;case 4:default:ml(t,e),vl(e);break;case 13:ml(t,e),vl(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Wl=Ze())),4&r&&fl(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Xa=(c=Xa)||h,ml(t,e),Xa=c):ml(t,e),vl(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!h&&0!==(1&e.mode))for(Ka=e,h=e.child;null!==h;){for(d=Ka=h;null!==Ka;){switch(f=(p=Ka).child,p.tag){case 0:case 11:case 14:case 15:nl(4,p,p.return);break;case 1:Ja(p,p.return);var m=p.stateNode;if("function"===typeof m.componentWillUnmount){r=p,n=p.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Cu(r,n,g)}}break;case 5:Ja(p,p.return);break;case 22:if(null!==p.memoizedState){xl(d);continue}}null!==f?(f.return=p,Ka=f):xl(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,c?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=d.stateNode,a=void 0!==(u=d.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=me("display",a))}catch(g){Cu(e,e.return,g)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(g){Cu(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ml(t,e),vl(e),4&r&&fl(e);case 21:}}function vl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),ul(e,al(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;ll(e,al(e),o);break;default:throw Error(s(161))}}catch(a){Cu(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yl(e,t,n){Ka=e,_l(e,t,n)}function _l(e,t,n){for(var r=0!==(1&e.mode);null!==Ka;){var i=Ka,s=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Ya;if(!o){var a=i.alternate,l=null!==a&&null!==a.memoizedState||Xa;a=Ya;var u=Xa;if(Ya=o,(Xa=l)&&!u)for(Ka=i;null!==Ka;)l=(o=Ka).child,22===o.tag&&null!==o.memoizedState?wl(i):null!==l?(l.return=o,Ka=l):wl(i);for(;null!==s;)Ka=s,_l(s,t,n),s=s.sibling;Ka=i,Ya=a,Xa=u}bl(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Ka=s):bl(e)}}function bl(e){for(;null!==Ka;){var t=Ka;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xa||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xa)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:na(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&qs(t,o,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}qs(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var h=c.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Bt(d)}}}break;default:throw Error(s(163))}Xa||512&t.flags&&il(t)}catch(p){Cu(t,t.return,p)}}if(t===e){Ka=null;break}if(null!==(n=t.sibling)){n.return=t.return,Ka=n;break}Ka=t.return}}function xl(e){for(;null!==Ka;){var t=Ka;if(t===e){Ka=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Ka=n;break}Ka=t.return}}function wl(e){for(;null!==Ka;){var t=Ka;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Cu(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Cu(t,i,l)}}var s=t.return;try{il(t)}catch(l){Cu(t,s,l)}break;case 5:var o=t.return;try{il(t)}catch(l){Cu(t,o,l)}}}catch(l){Cu(t,t.return,l)}if(t===e){Ka=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Ka=a;break}Ka=t.return}}var kl,Cl=Math.ceil,Sl=b.ReactCurrentDispatcher,Tl=b.ReactCurrentOwner,El=b.ReactCurrentBatchConfig,Al=0,Ml=null,Pl=null,jl=0,Ol=0,Il=Ci(0),Nl=0,Dl=null,Rl=0,zl=0,Fl=0,Vl=null,Ll=null,Wl=0,Bl=1/0,ql=null,Ul=!1,Gl=null,$l=null,Hl=!1,Ql=null,Yl=0,Xl=0,Zl=null,Kl=-1,Jl=0;function eu(){return 0!==(6&Al)?Ze():-1!==Kl?Kl:Kl=Ze()}function tu(e){return 0===(1&e.mode)?1:0!==(2&Al)&&0!==jl?jl&-jl:null!==ms.transition?(0===Jl&&(Jl=mt()),Jl):0!==(e=_t)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function nu(e,t,n,r){if(50<Xl)throw Xl=0,Zl=null,Error(s(185));vt(e,n,r),0!==(2&Al)&&e===Ml||(e===Ml&&(0===(2&Al)&&(zl|=n),4===Nl&&au(e,jl)),ru(e,r),1===n&&0===Al&&0===(1&t.mode)&&(Bl=Ze()+500,Vi&&Bi()))}function ru(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ot(s),a=1<<o,l=i[o];-1===l?0!==(a&n)&&0===(a&r)||(i[o]=pt(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}(e,t);var r=dt(e,e===Ml?jl:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Vi=!0,Wi(e)}(lu.bind(null,e)):Wi(lu.bind(null,e)),oi((function(){0===(6&Al)&&Bi()})),n=null;else{switch(bt(r)){case 1:n=Je;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Mu(n,iu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function iu(e,t){if(Kl=-1,Jl=0,0!==(6&Al))throw Error(s(327));var n=e.callbackNode;if(wu()&&e.callbackNode!==n)return null;var r=dt(e,e===Ml?jl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gu(e,r);else{t=r;var i=Al;Al|=2;var o=fu();for(Ml===e&&jl===t||(ql=null,Bl=Ze()+500,du(e,t));;)try{yu();break}catch(l){pu(e,l)}Ts(),Sl.current=o,Al=i,null!==Pl?t=0:(Ml=null,jl=0,t=Nl)}if(0!==t){if(2===t&&(0!==(i=ft(e))&&(r=i,t=su(e,i))),1===t)throw n=Dl,du(e,0),au(e,r),ru(e,Ze()),n;if(6===t)au(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ar(s(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gu(e,r))&&(0!==(o=ft(e))&&(r=o,t=su(e,o))),1===t))throw n=Dl,du(e,0),au(e,r),ru(e,Ze()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:xu(e,Ll,ql);break;case 3:if(au(e,r),(130023424&r)===r&&10<(t=Wl+500-Ze())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){eu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(xu.bind(null,e,Ll,ql),t);break}xu(e,Ll,ql);break;case 4:if(au(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-ot(r);o=1<<a,(a=t[a])>i&&(i=a),r&=~o}if(r=i,10<(r=(120>(r=Ze()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Cl(r/1960))-r)){e.timeoutHandle=ri(xu.bind(null,e,Ll,ql),r);break}xu(e,Ll,ql);break;default:throw Error(s(329))}}}return ru(e,Ze()),e.callbackNode===n?iu.bind(null,e):null}function su(e,t){var n=Vl;return e.current.memoizedState.isDehydrated&&(du(e,t).flags|=256),2!==(e=gu(e,t))&&(t=Ll,Ll=n,null!==t&&ou(t)),e}function ou(e){null===Ll?Ll=e:Ll.push.apply(Ll,e)}function au(e,t){for(t&=~Fl,t&=~zl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function lu(e){if(0!==(6&Al))throw Error(s(327));wu();var t=dt(e,0);if(0===(1&t))return ru(e,Ze()),null;var n=gu(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=su(e,r))}if(1===n)throw n=Dl,du(e,0),au(e,t),ru(e,Ze()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,xu(e,Ll,ql),ru(e,Ze()),null}function uu(e,t){var n=Al;Al|=1;try{return e(t)}finally{0===(Al=n)&&(Bl=Ze()+500,Vi&&Bi())}}function cu(e){null!==Ql&&0===Ql.tag&&0===(6&Al)&&wu();var t=Al;Al|=1;var n=El.transition,r=_t;try{if(El.transition=null,_t=1,e)return e()}finally{_t=r,El.transition=n,0===(6&(Al=t))&&Bi()}}function hu(){Ol=Il.current,Si(Il)}function du(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Pl)for(n=Pl.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ii();break;case 3:Xs(),Si(Mi),Si(Ai),no();break;case 5:Ks(r);break;case 4:Xs();break;case 13:case 19:Si(Js);break;case 10:Es(r.type._context);break;case 22:case 23:hu()}n=n.return}if(Ml=e,Pl=e=Iu(e.current,null),jl=Ol=t,Nl=0,Dl=null,Fl=zl=Rl=0,Ll=Vl=null,null!==js){for(t=0;t<js.length;t++)if(null!==(r=(n=js[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var o=s.next;s.next=i,r.next=o}n.pending=r}js=null}return e}function pu(e,t){for(;;){var n=Pl;try{if(Ts(),ro.current=Ko,uo){for(var r=oo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}uo=!1}if(so=0,lo=ao=oo=null,co=!1,ho=0,Tl.current=null,null===n||null===n.return){Nl=1,Dl=t,Pl=null;break}e:{var o=e,a=n.return,l=n,u=t;if(t=jl,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var f=ga(a);if(null!==f){f.flags&=-257,va(f,a,l,0,t),1&f.mode&&ma(o,c,t),u=c;var m=(t=f).updateQueue;if(null===m){var g=new Set;g.add(u),t.updateQueue=g}else m.add(u);break e}if(0===(1&t)){ma(o,c,t),mu();break e}u=Error(s(426))}else if(is&&1&l.mode){var v=ga(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),va(v,a,l,0,t),fs(ua(u,l));break e}}o=u=ua(u,l),4!==Nl&&(Nl=2),null===Vl?Vl=[o]:Vl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ws(o,pa(0,u,t));break e;case 1:l=u;var y=o.type,_=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==_&&"function"===typeof _.componentDidCatch&&(null===$l||!$l.has(_)))){o.flags|=65536,t&=-t,o.lanes|=t,Ws(o,fa(o,l,t));break e}}o=o.return}while(null!==o)}bu(n)}catch(b){t=b,Pl===n&&null!==n&&(Pl=n=n.return);continue}break}}function fu(){var e=Sl.current;return Sl.current=Ko,null===e?Ko:e}function mu(){0!==Nl&&3!==Nl&&2!==Nl||(Nl=4),null===Ml||0===(268435455&Rl)&&0===(268435455&zl)||au(Ml,jl)}function gu(e,t){var n=Al;Al|=2;var r=fu();for(Ml===e&&jl===t||(ql=null,du(e,t));;)try{vu();break}catch(i){pu(e,i)}if(Ts(),Al=n,Sl.current=r,null!==Pl)throw Error(s(261));return Ml=null,jl=0,Nl}function vu(){for(;null!==Pl;)_u(Pl)}function yu(){for(;null!==Pl&&!Ye();)_u(Pl)}function _u(e){var t=kl(e.alternate,e,Ol);e.memoizedProps=e.pendingProps,null===t?bu(e):Pl=t,Tl.current=null}function bu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ha(n,t,Ol)))return void(Pl=n)}else{if(null!==(n=Qa(n,t)))return n.flags&=32767,void(Pl=n);if(null===e)return Nl=6,void(Pl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pl=t);Pl=t=e}while(null!==t);0===Nl&&(Nl=5)}function xu(e,t,n){var r=_t,i=El.transition;try{El.transition=null,_t=1,function(e,t,n,r){do{wu()}while(null!==Ql);if(0!==(6&Al))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,o),e===Ml&&(Pl=Ml=null,jl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Hl||(Hl=!0,Mu(tt,(function(){return wu(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=El.transition,El.transition=null;var a=_t;_t=1;var l=Al;Al|=4,Tl.current=null,function(e,t){if(ei=Ut,pr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(x){n=null;break e}var a=0,l=-1,u=-1,c=0,h=0,d=e,p=null;t:for(;;){for(var f;d!==n||0!==i&&3!==d.nodeType||(l=a+i),d!==o||0!==r&&3!==d.nodeType||(u=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(f=d.firstChild);)p=d,d=f;for(;;){if(d===e)break t;if(p===n&&++c===i&&(l=a),p===o&&++h===r&&(u=a),null!==(f=d.nextSibling))break;p=(d=p).parentNode}d=f}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ut=!1,Ka=t;null!==Ka;)if(e=(t=Ka).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Ka=e;else for(;null!==Ka;){t=Ka;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,_=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:na(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(s(163))}}catch(x){Cu(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,Ka=e;break}Ka=t.return}m=tl,tl=!1}(e,n),gl(n,e),fr(ti),Ut=!!ei,ti=ei=null,e.current=n,yl(n,e,i),Xe(),Al=l,_t=a,El.transition=o}else e.current=n;if(Hl&&(Hl=!1,Ql=e,Yl=i),o=e.pendingLanes,0===o&&($l=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ru(e,Ze()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ul)throw Ul=!1,e=Gl,Gl=null,e;0!==(1&Yl)&&0!==e.tag&&wu(),o=e.pendingLanes,0!==(1&o)?e===Zl?Xl++:(Xl=0,Zl=e):Xl=0,Bi()}(e,t,n,r)}finally{El.transition=i,_t=r}return null}function wu(){if(null!==Ql){var e=bt(Yl),t=El.transition,n=_t;try{if(El.transition=null,_t=16>e?16:e,null===Ql)var r=!1;else{if(e=Ql,Ql=null,Yl=0,0!==(6&Al))throw Error(s(331));var i=Al;for(Al|=4,Ka=e.current;null!==Ka;){var o=Ka,a=o.child;if(0!==(16&Ka.flags)){var l=o.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Ka=c;null!==Ka;){var h=Ka;switch(h.tag){case 0:case 11:case 15:nl(8,h,o)}var d=h.child;if(null!==d)d.return=h,Ka=d;else for(;null!==Ka;){var p=(h=Ka).sibling,f=h.return;if(sl(h),h===c){Ka=null;break}if(null!==p){p.return=f,Ka=p;break}Ka=f}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Ka=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,Ka=a;else e:for(;null!==Ka;){if(0!==(2048&(o=Ka).flags))switch(o.tag){case 0:case 11:case 15:nl(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Ka=y;break e}Ka=o.return}}var _=e.current;for(Ka=_;null!==Ka;){var b=(a=Ka).child;if(0!==(2064&a.subtreeFlags)&&null!==b)b.return=a,Ka=b;else e:for(a=_;null!==Ka;){if(0!==(2048&(l=Ka).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(w){Cu(l,l.return,w)}if(l===a){Ka=null;break e}var x=l.sibling;if(null!==x){x.return=l.return,Ka=x;break e}Ka=l.return}}if(Al=i,Bi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(w){}r=!0}return r}finally{_t=n,El.transition=t}}return!1}function ku(e,t,n){e=Vs(e,t=pa(0,t=ua(n,t),1),1),t=eu(),null!==e&&(vt(e,1,t),ru(e,t))}function Cu(e,t,n){if(3===e.tag)ku(e,e,n);else for(;null!==t;){if(3===t.tag){ku(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===$l||!$l.has(r))){t=Vs(t,e=fa(t,e=ua(n,e),1),1),e=eu(),null!==t&&(vt(t,1,e),ru(t,e));break}}t=t.return}}function Su(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=eu(),e.pingedLanes|=e.suspendedLanes&n,Ml===e&&(jl&n)===n&&(4===Nl||3===Nl&&(130023424&jl)===jl&&500>Ze()-Wl?du(e,0):Fl|=n),ru(e,t)}function Tu(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=eu();null!==(e=Ns(e,t))&&(vt(e,t,n),ru(e,n))}function Eu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tu(e,n)}function Au(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Tu(e,n)}function Mu(e,t){return He(e,t)}function Pu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ju(e,t,n,r){return new Pu(e,t,n,r)}function Ou(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Iu(e,t){var n=e.alternate;return null===n?((n=ju(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Nu(e,t,n,r,i,o){var a=2;if(r=e,"function"===typeof e)Ou(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case k:return Du(n.children,i,o,t);case C:a=8,i|=8;break;case S:return(e=ju(12,n,t,2|i)).elementType=S,e.lanes=o,e;case M:return(e=ju(13,n,t,i)).elementType=M,e.lanes=o,e;case P:return(e=ju(19,n,t,i)).elementType=P,e.lanes=o,e;case I:return Ru(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:a=10;break e;case E:a=9;break e;case A:a=11;break e;case j:a=14;break e;case O:a=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=ju(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Du(e,t,n,r){return(e=ju(7,e,r,t)).lanes=n,e}function Ru(e,t,n,r){return(e=ju(22,e,r,t)).elementType=I,e.lanes=n,e.stateNode={isHidden:!1},e}function zu(e,t,n){return(e=ju(6,e,null,t)).lanes=n,e}function Fu(e,t,n){return(t=ju(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Vu(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Lu(e,t,n,r,i,s,o,a,l){return e=new Vu(e,t,n,a,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=ju(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rs(s),e}function Wu(e){if(!e)return Ei;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Oi(n))return Di(e,n,t)}return t}function Bu(e,t,n,r,i,s,o,a,l){return(e=Lu(n,r,!0,e,0,s,0,a,l)).context=Wu(null),n=e.current,(s=Fs(r=eu(),i=tu(n))).callback=void 0!==t&&null!==t?t:null,Vs(n,s,i),e.current.lanes=i,vt(e,i,r),ru(e,r),e}function qu(e,t,n,r){var i=t.current,s=eu(),o=tu(i);return n=Wu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fs(s,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Vs(i,t,o))&&(nu(e,i,o,s),Ls(e,i,o)),o}function Uu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function $u(e,t){Gu(e,t),(e=e.alternate)&&Gu(e,t)}kl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Mi.current)_a=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return _a=!1,function(e,t,n){switch(t.tag){case 3:Ma(t),ps();break;case 5:Zs(t);break;case 1:Oi(t.type)&&Ri(t);break;case 4:Ys(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ti(ws,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ti(Js,1&Js.current),t.flags|=128,null):0!==(n&t.child.childLanes)?za(e,t,n):(Ti(Js,1&Js.current),null!==(e=Ua(e,t,n))?e.sibling:null);Ti(Js,1&Js.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ba(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ti(Js,Js.current),r)break;return null;case 22:case 23:return t.lanes=0,Ca(e,t,n)}return Ua(e,t,n)}(e,t,n);_a=0!==(131072&e.flags)}else _a=!1,is&&0!==(1048576&t.flags)&&Ji(t,$i,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qa(e,t),e=t.pendingProps;var i=ji(t,Ai.current);Ms(t,n),i=go(null,t,r,e,i,n);var o=vo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oi(r)?(o=!0,Ri(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Rs(t),i.updater=ia,t.stateNode=i,i._reactInternals=t,la(t,r,e,n),t=Aa(null,t,r,!0,o,n)):(t.tag=0,is&&o&&es(t),ba(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qa(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Ou(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===j)return 14}return 2}(r),e=na(r,e),i){case 0:t=Ta(null,t,r,e,n);break e;case 1:t=Ea(null,t,r,e,n);break e;case 11:t=xa(null,t,r,e,n);break e;case 14:t=wa(null,t,r,na(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ta(e,t,r,i=t.elementType===r?i:na(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ea(e,t,r,i=t.elementType===r?i:na(r,i),n);case 3:e:{if(Ma(t),null===e)throw Error(s(387));r=t.pendingProps,i=(o=t.memoizedState).element,zs(e,t),Bs(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Pa(e,t,r,n,i=ua(Error(s(423)),t));break e}if(r!==i){t=Pa(e,t,r,n,i=ua(Error(s(424)),t));break e}for(rs=ui(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=xs(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ps(),r===i){t=Ua(e,t,n);break e}ba(e,t,r,n)}t=t.child}return t;case 5:return Zs(t),null===e&&us(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==o&&ni(r,o)&&(t.flags|=32),Sa(e,t),ba(e,t,a,n),t.child;case 6:return null===e&&us(t),null;case 13:return za(e,t,n);case 4:return Ys(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=bs(t,null,r,n):ba(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xa(e,t,r,i=t.elementType===r?i:na(r,i),n);case 7:return ba(e,t,t.pendingProps,n),t.child;case 8:case 12:return ba(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,Ti(ws,r._currentValue),r._currentValue=a,null!==o)if(ar(o.value,a)){if(o.children===i.children&&!Mi.current){t=Ua(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===o.tag){(u=Fs(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var h=(c=c.shared).pending;null===h?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}o.lanes|=n,null!==(u=o.alternate)&&(u.lanes|=n),As(o.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),As(a,n,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}ba(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ms(t,n),r=r(i=Ps(i)),t.flags|=1,ba(e,t,r,n),t.child;case 14:return i=na(r=t.type,t.pendingProps),wa(e,t,r,i=na(r.type,i),n);case 15:return ka(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:na(r,i),qa(e,t),t.tag=1,Oi(r)?(e=!0,Ri(t)):e=!1,Ms(t,n),oa(t,r,i),la(t,r,i,n),Aa(null,t,r,!0,e,n);case 19:return Ba(e,t,n);case 22:return Ca(e,t,n)}throw Error(s(156,t.tag))};var Hu="function"===typeof reportError?reportError:function(e){console.error(e)};function Qu(e){this._internalRoot=e}function Yu(e){this._internalRoot=e}function Xu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Ku(){}function Ju(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof i){var a=i;i=function(){var e=Uu(o);a.call(e)}}qu(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Uu(o);s.call(e)}}var o=Bu(t,r,e,0,null,!1,0,"",Ku);return e._reactRootContainer=o,e[fi]=o.current,Br(8===e.nodeType?e.parentNode:e),cu(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Uu(l);a.call(e)}}var l=Lu(e,0,!1,null,0,!1,0,"",Ku);return e._reactRootContainer=l,e[fi]=l.current,Br(8===e.nodeType?e.parentNode:e),cu((function(){qu(t,l,n,r)})),l}(n,t,e,i,r);return Uu(o)}Yu.prototype.render=Qu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));qu(e,t,null,null)},Yu.prototype.unmount=Qu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cu((function(){qu(null,e,null,null)})),t[fi]=null}},Yu.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ct();e={blockedOn:null,target:e,priority:t};for(var n=0;n<It.length&&0!==t&&t<It[n].priority;n++);It.splice(n,0,e),0===n&&zt(e)}},xt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(yt(t,1|n),ru(t,Ze()),0===(6&Al)&&(Bl=Ze()+500,Bi()))}break;case 13:cu((function(){var t=Ns(e,1);if(null!==t){var n=eu();nu(t,e,1,n)}})),$u(e,1)}},wt=function(e){if(13===e.tag){var t=Ns(e,134217728);if(null!==t)nu(t,e,134217728,eu());$u(e,134217728)}},kt=function(e){if(13===e.tag){var t=tu(e),n=Ns(e,t);if(null!==n)nu(n,e,t,eu());$u(e,t)}},Ct=function(){return _t},St=function(e,t){var n=_t;try{return _t=e,t()}finally{_t=n}},we=function(e,t,n){switch(t){case"input":if(K(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=xi(r);if(!i)throw Error(s(90));H(r),K(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ae=uu,Me=cu;var ec={usingClientEntryPoint:!1,Events:[_i,bi,xi,Te,Ee,uu]},tc={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nc={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ge(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{it=rc.inject(nc),st=rc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xu(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xu(e))throw Error(s(299));var n=!1,r="",i=Hu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Lu(e,1,!1,null,0,n,0,r,i),e[fi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Qu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=Ge(t))?null:e.stateNode},t.flushSync=function(e){return cu(e)},t.hydrate=function(e,t,n){if(!Zu(t))throw Error(s(200));return Ju(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xu(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",a=Hu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Bu(t,null,e,1,null!=n?n:null,i,0,o,a),e[fi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yu(t)},t.render=function(e,t,n){if(!Zu(t))throw Error(s(200));return Ju(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zu(e))throw Error(s(40));return!!e._reactRootContainer&&(cu((function(){Ju(null,null,e,!1,(function(){e._reactRootContainer=null,e[fi]=null}))})),!0)},t.unstable_batchedUpdates=uu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zu(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Ju(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},732:e=>{"use strict";e.exports=JSON.parse('{"background":"#d8ff9b","disabled":"#00af00","enabled":"#f1ffe6","lightbackground":"#ccc","text":"#370e01","selected":"#003804"}')},736:(e,t,n)=>{var r=n(738).default,i=n(45);e.exports=function(e){var t=i(e,"string");return"symbol"==r(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},738:e=>{function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},752:e=>{e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},772:e=>{"use strict";e.exports=JSON.parse('{"audiomidi":"audio/midi","back":"atr\xe1s","chords":"acordes","eleventhchord":"acorde de und\xe9cima","exercises":"ejercicios","instruments":"instrumentos","interval":"intervalo","intervals":"intervalos","language":"idioma","melody":"melod\xeda","freemelody":"melod\xeda libre","ascendingmelody":"melod\xeda ascendente","descendingmelody":"melod\xeda descendente","ninthchord":"acorde de novena","perfectpitch":"o\xeddo absoluto","quizzes":"tests","randomchord":"acorde aleatorio","rangeandscale":"rango y escala","settings":"ajustes","seventhchord":"acorde de s\xe9ptima","seventhchords":"acordes de s\xe9ptima","seventhsinversions":"inversiones de acordes de s\xe9ptima","thirteenthchord":"acorde de decimotercera","triad":"tr\xedada","triads":"tr\xedadas","triadsinversions":"inversiones de tr\xedadas","hint":"pista","undo":"deshacer","next":"siguiente","repeat":"repetir","mainmenu":"men\xfa principal","startreset":"iniciar","result":"resultado","correct":"correcto","total":"en total","sounds":"sonidos","examples":"ejemplos","numberofexamples":"n\xfamero de ejemplos","notespacing":"espaciado de notas","notelength":"longitud de notas","time":"tiempo","selectatleastoneinterval":"Selecciona al menos un intervalo.","midiio":"MIDI I/O","midiinputsettings":"Ajustes de entrada MIDI","enablemidiinput":"activar entrada MIDI","midinotavailable":"MIDI no est\xe1 habilitado o no est\xe1 disponible en este navegador.","nomidiinputs":"No hay entradas MIDI disponibles","scale":"escala","firstnote":"primera nota","lastnote":"\xfaltima nota","playscale":"tocar escala","ok":"OK","cancel":"Cancelar","choose":"elegir","majorscale":"mayor","minorscale":"menor","blues":"blues","pentatonic":"pentat\xf3nica","chromatic":"crom\xe1tica","harmonicminor":"menor arm\xf3nica","jazzminor":"menor de jazz","wholetone":"tono entero","major":"mayor","minor":"menor","diminished":"disminuido","augmented":"aumentado","outputinterface":"output interface","selectedinstrument":"Instrumento elegido :","selectedinstruments":"Instrumentos elegidos:","piano":"piano","guitar":"guitarra","marimba":"marimba","violin":"viol\xedn","flute":"flauta","trombone":"tromb\xf3n","selectrandom":"seleccionar aleatorio:","yes":"s\xed","answers":"respuestas","melodytype":"tipo de melod\xeda","ascending":"ascendente","descending":"descendente","free":"libre","melody length":"longitud de melod\xeda","minorsecond":"2\xaam","majorsecond":"2\xaaM","minorthird":"3\xaam","majorthird":"3\xaaM","perfectfourth":"4\xaaJ","tritone":"4\xaaA","perfectfifth":"5\xaaJ","minorsixth":"6\xaam","majorsixth":"6\xaaM","minorseventh":"7\xaam","majorseventh":"7\xaaM","octave":"8\xaa","intervalplayingmode":"reproducci\xf3n","randommode":"aleatoria","simultaneousmode":"simult\xe1nea","ascendingmode":"ascendente","descendingmode":"descendente","playbacksettings":"ajustes de reproducci\xf3n"}')},853:(e,t,n)=>{"use strict";e.exports=n(234)},894:e=>{"use strict";e.exports=JSON.parse('{"background":"#aaa","disabled":"#333","enabled":"#fff","lightbackground":"#ccc","text":"#000","selected":"#000"}')},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},960:(e,t,n)=>{var r=n(736);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,r(i.key),i)}}e.exports=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},987:e=>{e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},998:function(e,t,n){!function(e,t,n,r){"use strict";var i=function(e,t,n){return{endTime:t,insertTime:n,type:"exponentialRampToValue",value:e}},s=function(e,t,n){return{endTime:t,insertTime:n,type:"linearRampToValue",value:e}},o=function(e,t){return{startTime:t,type:"setValue",value:e}},a=function(e,t,n){return{duration:n,startTime:t,type:"setValueCurve",values:e}},l=function(e,t,n){var r=n.startTime,i=n.target,s=n.timeConstant;return i+(t-i)*Math.exp((r-e)/s)},u=function(e){return"exponentialRampToValue"===e.type},c=function(e){return"linearRampToValue"===e.type},h=function(e){return u(e)||c(e)},d=function(e){return"setValue"===e.type},p=function(e){return"setValueCurve"===e.type},f=function(e,t,n,r){var i=e[t];return void 0===i?r:h(i)||d(i)?i.value:p(i)?i.values[i.values.length-1]:l(n,f(e,t-1,i.startTime,r),i)},m=function(e,t,n,r,i){return void 0===n?[r.insertTime,i]:h(n)?[n.endTime,n.value]:d(n)?[n.startTime,n.value]:p(n)?[n.startTime+n.duration,n.values[n.values.length-1]]:[n.startTime,f(e,t-1,n.startTime,i)]},g=function(e){return"cancelAndHold"===e.type},v=function(e){return"cancelScheduledValues"===e.type},y=function(e){return g(e)||v(e)?e.cancelTime:u(e)||c(e)?e.endTime:e.startTime},_=function(e,t,n,r){var i=r.endTime,s=r.value;return n===s?s:0<n&&0<s||n<0&&s<0?n*Math.pow(s/n,(e-t)/(i-t)):0},b=function(e,t,n,r){return n+(e-t)/(r.endTime-t)*(r.value-n)},x=function(e,t){var n=Math.floor(t),r=Math.ceil(t);return n===r?e[n]:(1-(t-n))*e[n]+(1-(r-t))*e[r]},w=function(e,t){var n=t.duration,r=t.startTime,i=t.values,s=(e-r)/n*(i.length-1);return x(i,s)},k=function(e){return"setTarget"===e.type},C=function(){function e(t){n(this,e),this._automationEvents=[],this._currenTime=0,this._defaultValue=t}return r(e,[{key:Symbol.iterator,value:function(){return this._automationEvents[Symbol.iterator]()}},{key:"add",value:function(e){var t=y(e);if(g(e)||v(e)){var n=this._automationEvents.findIndex((function(n){return v(e)&&p(n)?n.startTime+n.duration>=t:y(n)>=t})),r=this._automationEvents[n];if(-1!==n&&(this._automationEvents=this._automationEvents.slice(0,n)),g(e)){var l=this._automationEvents[this._automationEvents.length-1];if(void 0!==r&&h(r)){if(void 0!==l&&k(l))throw new Error("The internal list is malformed.");var d=void 0===l?r.insertTime:p(l)?l.startTime+l.duration:y(l),f=void 0===l?this._defaultValue:p(l)?l.values[l.values.length-1]:l.value,m=u(r)?_(t,d,f,r):b(t,d,f,r),x=u(r)?i(m,t,this._currenTime):s(m,t,this._currenTime);this._automationEvents.push(x)}if(void 0!==l&&k(l)&&this._automationEvents.push(o(this.getValue(t),t)),void 0!==l&&p(l)&&l.startTime+l.duration>t){var w=t-l.startTime,C=(l.values.length-1)/l.duration,S=Math.max(2,1+Math.ceil(w*C)),T=w/(S-1)*C,E=l.values.slice(0,S);if(T<1)for(var A=1;A<S;A+=1){var M=T*A%1;E[A]=l.values[A-1]*(1-M)+l.values[A]*M}this._automationEvents[this._automationEvents.length-1]=a(E,l.startTime,w)}}}else{var P=this._automationEvents.findIndex((function(e){return y(e)>t})),j=-1===P?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[P-1];if(void 0!==j&&p(j)&&y(j)+j.duration>t)return!1;var O=u(e)?i(e.value,e.endTime,this._currenTime):c(e)?s(e.value,t,this._currenTime):e;if(-1===P)this._automationEvents.push(O);else{if(p(e)&&t+e.duration>y(this._automationEvents[P]))return!1;this._automationEvents.splice(P,0,O)}}return!0}},{key:"flush",value:function(e){var t=this._automationEvents.findIndex((function(t){return y(t)>e}));if(t>1){var n=this._automationEvents.slice(t-1),r=n[0];k(r)&&n.unshift(o(f(this._automationEvents,t-2,r.startTime,this._defaultValue),r.startTime)),this._automationEvents=n}}},{key:"getValue",value:function(e){if(0===this._automationEvents.length)return this._defaultValue;var n=this._automationEvents.findIndex((function(t){return y(t)>e})),r=this._automationEvents[n],i=(-1===n?this._automationEvents.length:n)-1,s=this._automationEvents[i];if(void 0!==s&&k(s)&&(void 0===r||!h(r)||r.insertTime>e))return l(e,f(this._automationEvents,i-1,s.startTime,this._defaultValue),s);if(void 0!==s&&d(s)&&(void 0===r||!h(r)))return s.value;if(void 0!==s&&p(s)&&(void 0===r||!h(r)||s.startTime+s.duration>e))return e<s.startTime+s.duration?w(e,s):s.values[s.values.length-1];if(void 0!==s&&h(s)&&(void 0===r||!h(r)))return s.value;if(void 0!==r&&u(r)){var o=m(this._automationEvents,i,s,r,this._defaultValue),a=t(o,2),g=a[0],v=a[1];return _(e,g,v,r)}if(void 0!==r&&c(r)){var x=m(this._automationEvents,i,s,r,this._defaultValue),C=t(x,2),S=C[0],T=C[1];return b(e,S,T,r)}return this._defaultValue}}])}(),S=function(e){return{cancelTime:e,type:"cancelAndHold"}},T=function(e){return{cancelTime:e,type:"cancelScheduledValues"}},E=function(e,t){return{endTime:t,type:"exponentialRampToValue",value:e}},A=function(e,t){return{endTime:t,type:"linearRampToValue",value:e}},M=function(e,t,n){return{startTime:t,target:e,timeConstant:n,type:"setTarget"}};e.AutomationEventList=C,e.createCancelAndHoldAutomationEvent=S,e.createCancelScheduledValuesAutomationEvent=T,e.createExponentialRampToValueAutomationEvent=E,e.createLinearRampToValueAutomationEvent=A,e.createSetTargetAutomationEvent=M,e.createSetValueAutomationEvent=o,e.createSetValueCurveAutomationEvent=a}(t,n(715),n(383),n(960))}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r].call(s.exports,s,s.exports,n),s.exports}n.m=e,n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".1a78836b.chunk.js",n.miniCssF=e=>{},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="solfeggio-2:";n.l=(r,i,s,o)=>{if(e[r])e[r].push(i);else{var a,l;if(void 0!==s)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var h=u[c];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+s){a=h;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+s),a.src=r),e[r]=[i];var d=(t,n)=>{a.onerror=a.onload=null,clearTimeout(p);var i=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((e=>e(n))),t)return t(n)},p=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/solfeggio-2/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var s=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=s);var o=n.p+n.u(t),a=new Error;n.l(o,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var s=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+s+": "+o+")",a.name="ChunkLoadError",a.type=s,a.request=o,i[1](a)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,s,o=r[0],a=r[1],l=r[2],u=0;if(o.some((t=>0!==e[t]))){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(l)l(n)}for(t&&t(r);u<o.length;u++)s=o[u],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunksolfeggio_2=self.webpackChunksolfeggio_2||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e=n(391),t=n(43);const r=Object.freeze({FREE:"FREE",ASCENDING:"ASCENDING",DESCENDING:"DESCENDING"});var i=n(579);const s=(0,t.createContext)();function o(e,t,n){const r={chromatic:[1],major:[0,2,2,1,2,2,2,1],minor:[0,2,1,2,2,1,2,2],blues:[0,3,2,2,3,2],pentatonic:[0,2,2,3,2,3],harmonicMinor:[0,2,1,2,2,1,3,1],dorianMinor:[0,2,1,2,2,2,2,1],wholeTone:[0,2,2,2,2,2,2]}[n],i=[];for(let s=e;s<=t;s+=r[i.length%r.length])i.push(s);return i}const a=function(e){let{children:n}=e;const{isMobile:a}=(0,t.useRef)(window.innerWidth<768),[l,u]=(0,t.useState)(a?60:48),[c,h]=(0,t.useState)(72),[d,p]=(0,t.useState)("chromatic"),f=o(l,c,d),[m,g]=(0,t.useState)(4),[v,y]=(0,t.useState)(.55),[_,b]=(0,t.useState)(.55),[x,w]=(0,t.useState)([1,2,3,4,5,6,7,8,9,10,11,12]),[k,C]=(0,t.useState)({triads:["maj","min"],sevenths:["maj7","dom7","min7"],ninths:["3w7w9w","3w7m9w","3m7w9w","3m7m9w","3w7m9m","3w7m9zw"],elevenths:["3w7w11cz","3w7m11cz"],thirteenths:["3w13w7w","3m13w7w","3w13w7m","3m13w7m","3w13w9w"],random:[2,3,4]}),[S,T]=(0,t.useState)({triads:[0,1,2],sevenths:[0,1,2,3],ninths:[0],elevenths:[0],thirteenths:[0]}),[E,A]=(0,t.useState)(2),[M,P]=(0,t.useState)(1),[j,O]=(0,t.useState)(1),[I,N]=(0,t.useState)(r.FREE);return(0,i.jsx)(s.Provider,{value:{firstNote:l,setFirstNote:u,lastNote:c,setLastNote:h,scale:d,setScale:p,effectiveScale:f,melodyLength:m,setMelodyLength:g,noteLength:v,setNoteLength:y,noteSpacing:_,setNoteSpacing:b,enabledIntervals:x,setEnabledIntervals:w,enabledChords:k,setEnabledChordsByType:(e,t)=>{C({...k,[e]:t})},enabledInversions:S,setEnabledInversionsByType:(e,t)=>{T({...S,[e]:t})},intervalsN:E,setIntervalsN:A,triadsN:M,setTriadsN:P,seventhsN:j,setSeventhsN:O,melodyType:I,setMelodyType:N,isMobile:a},children:n})};var l=n(998);const u=new WeakSet,c=new WeakMap,h=new WeakMap,d=new WeakMap,p=new WeakMap,f=new WeakMap,m=new WeakMap,g=new WeakMap,v=new WeakMap,y=new WeakMap,_={construct:()=>_},b=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,x=(e,t)=>{const n=[];let r=e.replace(/^[\s]+/,""),i=r.match(b);for(;null!==i;){const e=i[1].slice(1,-1),s=i[0].replace(/([\s]+)?;?$/,"").replace(e,new URL(e,t).toString());n.push(s),r=r.slice(i[0].length).replace(/^[\s]+/,""),i=r.match(b)}return[n.join(";"),r]},w=e=>{if(void 0!==e&&!Array.isArray(e))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},k=e=>{if(!(e=>{try{new new Proxy(e,_)}catch{return!1}return!0})(e))throw new TypeError("The given value for processorCtor should be a constructor.");if(null===e.prototype||"object"!==typeof e.prototype)throw new TypeError("The given value for processorCtor should have a prototype.")},C=(e,t)=>{const n=e.get(t);if(void 0===n)throw new Error("A value with the given key could not be found.");return n},S=(e,t)=>{const n=Array.from(e).filter(t);if(n.length>1)throw Error("More than one element was found.");if(0===n.length)throw Error("No element was found.");const[r]=n;return e.delete(r),r},T=(e,t,n,r)=>{const i=C(e,t),s=S(i,(e=>e[0]===n&&e[1]===r));return 0===i.size&&e.delete(t),s},E=e=>C(m,e),A=e=>{if(u.has(e))throw new Error("The AudioNode is already stored.");u.add(e),E(e).forEach((e=>e(!0)))},M=e=>"port"in e,P=e=>{if(!u.has(e))throw new Error("The AudioNode is not stored.");u.delete(e),E(e).forEach((e=>e(!1)))},j=(e,t)=>{!M(e)&&t.every((e=>0===e.size))&&P(e)},O={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},I=(e,t)=>e.context===t,N=e=>{try{e.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},D=()=>new DOMException("","IndexSizeError"),R=e=>{var t;e.getChannelData=(t=e.getChannelData,n=>{try{return t.call(e,n)}catch(r){if(12===r.code)throw D();throw r}})},z={numberOfChannels:1},F=-34028234663852886e22,V=-F,L=e=>u.has(e),W={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},B=e=>C(c,e),q=e=>C(d,e),U=(e,t)=>{const{activeInputs:n}=B(e);n.forEach((n=>n.forEach((n=>{let[r]=n;t.includes(e)||U(r,[...t,e])}))));const r=(e=>"playbackRate"in e)(e)?[e.playbackRate]:M(e)?Array.from(e.parameters.values()):(e=>"frequency"in e&&"gain"in e)(e)?[e.Q,e.detune,e.frequency,e.gain]:(e=>"offset"in e)(e)?[e.offset]:(e=>!("frequency"in e)&&"gain"in e)(e)?[e.gain]:(e=>"detune"in e&&"frequency"in e&&!("gain"in e))(e)?[e.detune,e.frequency]:(e=>"pan"in e)(e)?[e.pan]:[];for(const i of r){const e=q(i);void 0!==e&&e.activeInputs.forEach((e=>{let[n]=e;return U(n,t)}))}L(e)&&P(e)},G=e=>{U(e.destination,[])},$=e=>void 0===e||"number"===typeof e||"string"===typeof e&&("balanced"===e||"interactive"===e||"playback"===e),H=e=>"context"in e,Q=e=>H(e[0]),Y=(e,t,n,r)=>{for(const i of e)if(n(i)){if(r)return!1;throw Error("The set contains at least one similar element.")}return e.add(t),!0},X=(e,t,n,r)=>{let[i,s]=n;Y(e,[t,i,s],(e=>e[0]===t&&e[1]===i),r)},Z=(e,t,n)=>{let[r,i,s]=t;const o=e.get(r);void 0===o?e.set(r,new Set([[i,s]])):Y(o,[i,s],(e=>e[0]===i),n)},K=e=>"inputs"in e,J=(e,t,n,r)=>{if(K(t)){const i=t.inputs[r];return e.connect(i,n,0),[i,n,0]}return e.connect(t,n,r),[t,n,r]},ee=(e,t,n)=>{for(const r of e)if(r[0]===t&&r[1]===n)return e.delete(r),r;return null},te=(e,t)=>{if(!E(e).delete(t))throw new Error("Missing the expected event listener.")},ne=(e,t,n)=>{const r=C(e,t),i=S(r,(e=>e[0]===n));return 0===r.size&&e.delete(t),i},re=(e,t,n,r)=>{K(t)?e.disconnect(t.inputs[r],n,0):e.disconnect(t,n,r)},ie=e=>C(h,e),se=e=>C(p,e),oe=e=>g.has(e),ae=e=>!u.has(e),le=(e,t)=>new Promise((n=>{if(null!==t)n(!0);else{const t=e.createScriptProcessor(256,1,1),r=e.createGain(),i=e.createBuffer(1,2,44100),s=i.getChannelData(0);s[0]=1,s[1]=1;const o=e.createBufferSource();o.buffer=i,o.loop=!0,o.connect(t).connect(e.destination),o.connect(r),o.disconnect(r),t.onaudioprocess=r=>{const i=r.inputBuffer.getChannelData(0);Array.prototype.some.call(i,(e=>1===e))?n(!0):n(!1),o.stop(),t.onaudioprocess=null,o.disconnect(t),t.disconnect(e.destination)},o.start()}})),ue=(e,t)=>{const n=new Map;for(const r of e)for(const e of r){const t=n.get(e);n.set(e,void 0===t?1:t+1)}n.forEach(((e,n)=>t(n,e)))},ce=e=>"context"in e,he=e=>{const t=new Map;e.connect=(e=>function(n){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const s=ce(n)?e(n,r,i):e(n,r),o=t.get(n);return void 0===o?t.set(n,[{input:i,output:r}]):o.every((e=>e.input!==i||e.output!==r))&&o.push({input:i,output:r}),s})(e.connect.bind(e)),e.disconnect=(n=>(r,i,s)=>{if(n.apply(e),void 0===r)t.clear();else if("number"===typeof r)for(const[e,n]of t){const i=n.filter((e=>e.output!==r));0===i.length?t.delete(e):t.set(e,i)}else if(t.has(r))if(void 0===i)t.delete(r);else{const e=t.get(r);if(void 0!==e){const n=e.filter((e=>e.output!==i&&(e.input!==s||void 0===s)));0===n.length?t.delete(r):t.set(r,n)}}for(const[n,o]of t)o.forEach((t=>{ce(n)?e.connect(n,t.output,t.input):e.connect(n,t.output)}))})(e.disconnect)},de=(e,t,n,r)=>{const{activeInputs:i,passiveInputs:s}=q(t),{outputs:o}=B(e),a=E(e),l=o=>{const a=ie(e),l=se(t);if(o){const t=ne(s,e,n);X(i,e,t,!1),r||oe(e)||a.connect(l,n)}else{const t=((e,t,n)=>S(e,(e=>e[0]===t&&e[1]===n)))(i,e,n);Z(s,t,!1),r||oe(e)||a.disconnect(l,n)}};return!!Y(o,[t,n],(e=>e[0]===t&&e[1]===n),!0)&&(a.add(l),L(e)?X(i,e,[n,l],!0):Z(s,[e,n,l],!0),!0)},pe=(e,t,n,r,i)=>{const[s,o]=((e,t,n,r)=>{const{activeInputs:i,passiveInputs:s}=B(t),o=ee(i[r],e,n);if(null===o)return[T(s,e,n,r)[2],!1];return[o[2],!0]})(e,n,r,i);if(null!==s&&(te(e,s),!o||t||oe(e)||re(ie(e),ie(n),r,i)),L(n)){const{activeInputs:e}=B(n);j(n,e)}},fe=(e,t,n,r)=>{const[i,s]=((e,t,n)=>{const{activeInputs:r,passiveInputs:i}=q(t),s=ee(r,e,n);if(null===s)return[ne(i,e,n)[1],!1];return[s[2],!0]})(e,n,r);null!==i&&(te(e,i),!s||t||oe(e)||ie(e).disconnect(se(n),r))};class me{constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this._map.forEach(((n,r)=>e.call(t,n,r,this)))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}}const ge={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}};function ve(e,t,n,r,i){if("function"===typeof e.copyFromChannel)0===t[n].byteLength&&(t[n]=new Float32Array(128)),e.copyFromChannel(t[n],r,i);else{const s=e.getChannelData(r);if(0===t[n].byteLength)t[n]=s.slice(i,i+128);else{const e=new Float32Array(s.buffer,i*Float32Array.BYTES_PER_ELEMENT,128);t[n].set(e)}}}const ye=(e,t,n,r,i)=>{"function"===typeof e.copyToChannel?0!==t[n].byteLength&&e.copyToChannel(t[n],r,i):0!==t[n].byteLength&&e.getChannelData(r).set(t[n],i)},_e=(e,t)=>{const n=[];for(let r=0;r<e;r+=1){const e=[],i="number"===typeof t?t:t[r];for(let t=0;t<i;t+=1)e.push(new Float32Array(128));n.push(e)}return n},be=async(e,t,n,r,i,s,o)=>{const a=null===t?128*Math.ceil(e.context.length/128):t.length,l=r.channelCount*r.numberOfInputs,u=i.reduce(((e,t)=>e+t),0),c=0===u?null:n.createBuffer(u,a,n.sampleRate);if(void 0===s)throw new Error("Missing the processor constructor.");const h=B(e),d=await((e,t)=>{const n=C(y,e),r=ie(t);return C(n,r)})(n,e),p=_e(r.numberOfInputs,r.channelCount),f=_e(r.numberOfOutputs,i),m=Array.from(e.parameters.keys()).reduce(((e,t)=>({...e,[t]:new Float32Array(128)})),{});for(let v=0;v<a;v+=128){if(r.numberOfInputs>0&&null!==t)for(let e=0;e<r.numberOfInputs;e+=1)for(let n=0;n<r.channelCount;n+=1)ve(t,p[e],n,n,v);void 0!==s.parameterDescriptors&&null!==t&&s.parameterDescriptors.forEach(((e,n)=>{let{name:r}=e;ve(t,m,r,l+n,v)}));for(let e=0;e<r.numberOfInputs;e+=1)for(let t=0;t<i[e];t+=1)0===f[e][t].byteLength&&(f[e][t]=new Float32Array(128));try{const e=p.map(((e,t)=>0===h.activeInputs[t].size?[]:e)),t=o(v/n.sampleRate,n.sampleRate,(()=>d.process(e,f,m)));if(null!==c)for(let n=0,s=0;n<r.numberOfOutputs;n+=1){for(let e=0;e<i[n];e+=1)ye(c,f[n],e,s+e,v);s+=i[n]}if(!t)break}catch(g){e.dispatchEvent(new ErrorEvent("processorerror",{colno:g.colno,filename:g.filename,lineno:g.lineno,message:g.message}));break}}return c},xe={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},we={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},ke={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},Ce={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},Se={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},Te=e=>{const{port1:t,port2:n}=new MessageChannel;return new Promise((r=>{const i=()=>{n.onmessage=null,t.close(),n.close(),r()};n.onmessage=()=>i();try{t.postMessage(e,[e])}catch{}finally{i()}}))},Ee={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},Ae=(e,t,n)=>{const r=t[n];if(void 0===r)throw e();return r},Me={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},Pe={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},je=()=>new DOMException("","InvalidStateError"),Oe=()=>new DOMException("","InvalidAccessError"),Ie={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},Ne=(e,t,n,r,i,s,o,a,l,u,c)=>{const h=u.length;let d=a;for(let p=0;p<h;p+=1){let a=n[0]*u[p];for(let t=1;t<i;t+=1){const r=d-t&l-1;a+=n[t]*s[r],a-=e[t]*o[r]}for(let e=i;e<r;e+=1)a+=n[e]*s[d-e&l-1];for(let n=i;n<t;n+=1)a-=e[n]*o[d-n&l-1];s[d]=u[p],o[d]=a,d=d+1&l-1,c[p]=a}return d},De={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},Re=e=>{const t=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const n=e.decodeAudioData(t.buffer,(()=>{}));return void 0!==n&&(n.catch((()=>{})),!0)}catch{}return!1},ze={numberOfChannels:1},Fe=(e,t,n)=>{const r=t[n];void 0!==r&&r!==e[n]&&(e[n]=r)},Ve=(e,t)=>{Fe(e,t,"channelCount"),Fe(e,t,"channelCountMode"),Fe(e,t,"channelInterpretation")},Le=e=>"function"===typeof e.getFloatTimeDomainData,We=(e,t,n)=>{const r=t[n];void 0!==r&&r!==e[n].value&&(e[n].value=r)},Be=e=>{e.start=(t=>function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0;if("number"===typeof i&&i<0||r<0||n<0)throw new RangeError("The parameters can't be negative.");t.call(e,n,r,i)})(e.start)},qe=e=>{var t;e.stop=(t=e.stop,function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(n<0)throw new RangeError("The parameter can't be negative.");t.call(e,n)})},Ue=(e,t)=>null===e?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(e*t))))),Ge=async(e,t)=>{const n=await(e=>new Promise(((t,n)=>{const{port1:r,port2:i}=new MessageChannel;r.onmessage=e=>{let{data:n}=e;r.close(),i.close(),t(n)},r.onmessageerror=e=>{let{data:t}=e;r.close(),i.close(),n(t)},i.postMessage(e)})))(t);return new e(n)},$e=(e,t)=>{const n=e.createBiquadFilter();return Ve(n,t),We(n,t,"Q"),We(n,t,"detune"),We(n,t,"frequency"),We(n,t,"gain"),Fe(n,t,"type"),n},He=(e,t)=>{const n=e.createChannelSplitter(t.numberOfOutputs);return Ve(n,t),(e=>{const t=e.numberOfOutputs;Object.defineProperty(e,"channelCount",{get:()=>t,set:e=>{if(e!==t)throw je()}}),Object.defineProperty(e,"channelCountMode",{get:()=>"explicit",set:e=>{if("explicit"!==e)throw je()}}),Object.defineProperty(e,"channelInterpretation",{get:()=>"discrete",set:e=>{if("discrete"!==e)throw je()}})})(n),n},Qe=(e,t)=>(e.connect=t.connect.bind(t),e.disconnect=t.disconnect.bind(t),e),Ye=(e,t)=>{const n=e.createDelay(t.maxDelayTime);return Ve(n,t),We(n,t,"delayTime"),n},Xe=(e,t)=>{const n=e.createGain();return Ve(n,t),We(n,t,"gain"),n};function Ze(e,t){const n=t[0]*t[0]+t[1]*t[1];return[(e[0]*t[0]+e[1]*t[1])/n,(e[1]*t[0]-e[0]*t[1])/n]}function Ke(e,t){return[e[0]*t[0]-e[1]*t[1],e[0]*t[1]+e[1]*t[0]]}function Je(e,t){let n=[0,0];for(let r=e.length-1;r>=0;r-=1)n=Ke(n,t),n[0]+=e[r];return n}const et=(e,t,n,r)=>e.createScriptProcessor(t,n,r),tt=()=>new DOMException("","NotSupportedError"),nt={numberOfChannels:1},rt={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},it={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},st={disableNormalization:!1},ot={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},at=()=>new DOMException("","UnknownError"),lt={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},ut=(e,t,n)=>void 0===e.copyFromChannel?e.getChannelData(n)[0]:(e.copyFromChannel(t,n),t[0]),ct=e=>{if(null===e)return!1;const t=e.length;return t%2!==0?0!==e[Math.floor(t/2)]:e[t/2-1]+e[t/2]!==0},ht=(e,t,n,r)=>{let i=e;for(;!i.hasOwnProperty(t);)i=Object.getPrototypeOf(i);const{get:s,set:o}=Object.getOwnPropertyDescriptor(i,t);Object.defineProperty(e,t,{get:n(s),set:r(o)})},dt=(e,t,n)=>{try{e.setValueAtTime(t,n)}catch(r){if(9!==r.code)throw r;dt(e,t,n+1e-7)}},pt=e=>{const t=e.createOscillator();try{t.start(-1)}catch(n){return n instanceof RangeError}return!1},ft=e=>{const t=e.createBuffer(1,1,44100),n=e.createBufferSource();n.buffer=t,n.start(),n.stop();try{return n.stop(),!0}catch{return!1}},mt=e=>{const t=e.createOscillator();try{t.stop(-1)}catch(n){return n instanceof RangeError}return!1},gt=(e,t)=>{const n=t.createGain();e.connect(n);const r=(t=>()=>{t.call(e,n),e.removeEventListener("ended",r)})(e.disconnect);e.addEventListener("ended",r),Qe(e,n),e.stop=(t=>{let r=!1;return function(){let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(r)try{t.call(e,i)}catch{n.gain.setValueAtTime(0,i)}else t.call(e,i),r=!0}})(e.stop)},vt=(e,t)=>n=>{const r={value:e};return Object.defineProperties(n,{currentTarget:r,target:r}),"function"===typeof t?t.call(e,n):t.handleEvent.call(e,n)},yt=(e=>(t,n,r,i)=>{let[s,o,a]=r;e(t[o],[n,s,a],(e=>e[0]===n&&e[1]===s),i)})(Y),_t=(e=>(t,n,r,i)=>{let[s,o,a]=r;const l=t.get(s);void 0===l?t.set(s,new Set([[o,n,a]])):e(l,[o,n,a],(e=>e[0]===o&&e[1]===n),i)})(Y),bt=(e=>(t,n,r,i)=>e(t[i],(e=>e[0]===n&&e[1]===r)))(S),xt=new WeakMap,wt=(e=>t=>{var n;return null!==(n=e.get(t))&&void 0!==n?n:0})(xt),kt=(Ct=new Map,St=new WeakMap,(e,t)=>{const n=St.get(e);if(void 0!==n)return n;const r=Ct.get(e);if(void 0!==r)return r;try{const n=t();return n instanceof Promise?(Ct.set(e,n),n.catch((()=>!1)).then((t=>(Ct.delete(e),St.set(e,t),t)))):(St.set(e,n),n)}catch{return St.set(e,!1),!1}});var Ct,St;const Tt="undefined"===typeof window?null:window,Et=((e,t)=>(n,r)=>{const i=n.createAnalyser();if(Ve(i,r),!(r.maxDecibels>r.minDecibels))throw t();return Fe(i,r,"fftSize"),Fe(i,r,"maxDecibels"),Fe(i,r,"minDecibels"),Fe(i,r,"smoothingTimeConstant"),e(Le,(()=>Le(i)))||(e=>{e.getFloatTimeDomainData=t=>{const n=new Uint8Array(t.length);e.getByteTimeDomainData(n);const r=Math.max(n.length,e.fftSize);for(let e=0;e<r;e+=1)t[e]=.0078125*(n[e]-128);return t}})(i),i})(kt,D),At=(e=>t=>{const n=e(t);if(null===n.renderer)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return n.renderer})(B),Mt=((e,t,n)=>async(r,i,s)=>{const o=e(r);await Promise.all(o.activeInputs.map(((e,o)=>Array.from(e).map((async e=>{let[a,l]=e;const u=t(a),c=await u.render(a,i),h=r.context.destination;n(a)||r===h&&n(r)||c.connect(s,l,o)})))).reduce(((e,t)=>[...e,...t]),[]))})(B,At,oe),Pt=((e,t,n)=>()=>{const r=new WeakMap;return{render(i,s){const o=r.get(s);return void 0!==o?Promise.resolve(o):(async(i,s)=>{let o=t(i);if(!I(o,s)){const t={channelCount:o.channelCount,channelCountMode:o.channelCountMode,channelInterpretation:o.channelInterpretation,fftSize:o.fftSize,maxDecibels:o.maxDecibels,minDecibels:o.minDecibels,smoothingTimeConstant:o.smoothingTimeConstant};o=e(s,t)}return r.set(s,o),await n(i,s,o),o})(i,s)}}})(Et,ie,Mt),jt=(Ot=f,e=>{const t=Ot.get(e);if(void 0===t)throw je();return t});var Ot;const It=(e=>null===e?null:e.hasOwnProperty("OfflineAudioContext")?e.OfflineAudioContext:e.hasOwnProperty("webkitOfflineAudioContext")?e.webkitOfflineAudioContext:null)(Tt),Nt=(e=>t=>null!==e&&t instanceof e)(It),Dt=new WeakMap,Rt=(e=>class{constructor(e){this._nativeEventTarget=e,this._listeners=new WeakMap}addEventListener(t,n,r){if(null!==n){let i=this._listeners.get(n);void 0===i&&(i=e(this,n),"function"===typeof n&&this._listeners.set(n,i)),this._nativeEventTarget.addEventListener(t,i,r)}}dispatchEvent(e){return this._nativeEventTarget.dispatchEvent(e)}removeEventListener(e,t,n){const r=null===t?void 0:this._listeners.get(t);this._nativeEventTarget.removeEventListener(e,void 0===r?null:r,n)}})(vt),zt=(e=>null===e?null:e.hasOwnProperty("AudioContext")?e.AudioContext:e.hasOwnProperty("webkitAudioContext")?e.webkitAudioContext:null)(Tt),Ft=(e=>t=>null!==e&&t instanceof e)(zt),Vt=(e=>t=>null!==e&&"function"===typeof e.AudioNode&&t instanceof e.AudioNode)(Tt),Lt=(e=>t=>null!==e&&"function"===typeof e.AudioParam&&t instanceof e.AudioParam)(Tt),Wt=(e=>null===e?null:e.hasOwnProperty("AudioWorkletNode")?e.AudioWorkletNode:null)(Tt),Bt=((e,t,n,r,i,s,o,a,l,u,c,d,p,f,g,v)=>class extends u{constructor(t,r,i,s){super(i),this._context=t,this._nativeAudioNode=i;const o=c(t);d(o)&&!0!==n(le,(()=>le(o,v)))&&he(i),h.set(this,i),m.set(this,new Set),"closed"!==t.state&&r&&A(this),e(this,s,i)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(e){this._nativeAudioNode.channelCount=e}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(e){this._nativeAudioNode.channelCountMode=e}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(e){this._nativeAudioNode.channelInterpretation=e}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(n<0||n>=this._nativeAudioNode.numberOfOutputs)throw i();const u=c(this._context),h=g(u);if(p(e)||f(e))throw s();if(H(e)){const i=ie(e);try{const t=J(this._nativeAudioNode,i,n,a),r=ae(this);(h||r)&&this._nativeAudioNode.disconnect(...t),"closed"!==this.context.state&&!r&&ae(e)&&A(e)}catch(m){if(12===m.code)throw s();throw m}if(t(this,e,n,a,h)){const t=l([this],e);ue(t,r(h))}return e}const d=se(e);if("playbackRate"===d.name&&1024===d.maxValue)throw o();try{this._nativeAudioNode.connect(d,n),(h||ae(this))&&this._nativeAudioNode.disconnect(d,n)}catch(m){if(12===m.code)throw s();throw m}if(de(this,e,n,h)){const t=l([this],e);ue(t,r(h))}}disconnect(e,t,n){let r;const o=c(this._context),u=g(o);if(void 0===e)r=((e,t)=>{const n=B(e),r=[];for(const i of n.outputs)Q(i)?pe(e,t,...i):fe(e,t,...i),r.push(i[0]);return n.outputs.clear(),r})(this,u);else if("number"===typeof e){if(e<0||e>=this.numberOfOutputs)throw i();r=((e,t,n)=>{const r=B(e),i=[];for(const s of r.outputs)s[1]===n&&(Q(s)?pe(e,t,...s):fe(e,t,...s),i.push(s[0]),r.outputs.delete(s));return i})(this,u,e)}else{if(void 0!==t&&(t<0||t>=this.numberOfOutputs))throw i();if(H(e)&&void 0!==n&&(n<0||n>=e.numberOfInputs))throw i();if(r=((e,t,n,r,i)=>{const s=B(e);return Array.from(s.outputs).filter((e=>e[0]===n&&(void 0===r||e[1]===r)&&(void 0===i||e[2]===i))).map((n=>(Q(n)?pe(e,t,...n):fe(e,t,...n),s.outputs.delete(n),n[0])))})(this,u,e,t,n),0===r.length)throw s()}for(const i of r){const e=l([this],i);ue(e,a)}}})((qt=c,(e,t,n)=>{const r=[];for(let i=0;i<n.numberOfInputs;i+=1)r.push(new Set);qt.set(e,{activeInputs:r,outputs:new Set,passiveInputs:new WeakMap,renderer:t})}),((e,t,n,r,i,s,o,a,l,u,c,h,d)=>{const p=new WeakMap;return(f,m,g,v,y)=>{const{activeInputs:_,passiveInputs:b}=s(m),{outputs:x}=s(f),w=a(f),k=s=>{const a=l(m),u=l(f);if(s){const t=T(b,f,g,v);e(_,f,t,!1),y||h(f)||n(u,a,g,v),d(m)&&A(m)}else{const e=r(_,f,g,v);t(b,v,e,!1),y||h(f)||i(u,a,g,v);const n=o(m);if(0===n)c(m)&&j(m,_);else{const e=p.get(m);void 0!==e&&clearTimeout(e),p.set(m,setTimeout((()=>{c(m)&&j(m,_)}),1e3*n))}}};return!!u(x,[m,g,v],(e=>e[0]===m&&e[1]===g&&e[2]===v),!0)&&(w.add(k),c(f)?e(_,f,[g,v,k],!0):t(b,v,[f,g,k],!0),!0)}})(yt,_t,J,bt,re,B,wt,E,ie,Y,L,oe,ae),kt,((e,t,n,r,i,s)=>o=>(a,l)=>{const u=e.get(a);if(void 0===u){if(!o&&s(a)){const e=r(a),{outputs:s}=n(a);for(const n of s)if(Q(n)){const i=r(n[0]);t(e,i,n[1],n[2])}else{const t=i(n[0]);e.disconnect(t,n[1])}}e.set(a,l)}else e.set(a,u+l)})(g,re,B,ie,se,L),D,Oe,tt,((e,t,n,r,i,s,o,a)=>(l,u)=>{const c=t.get(l);if(void 0===c)throw new Error("Missing the expected cycle count.");const h=s(l.context),d=a(h);if(c===u){if(t.delete(l),!d&&o(l)){const t=r(l),{outputs:s}=n(l);for(const n of s)if(Q(n)){const i=r(n[0]);e(t,i,n[1],n[2])}else{const e=i(n[0]);t.connect(e,n[1])}}}else t.set(l,c-u)})(J,g,B,ie,se,jt,L,Nt),((e,t,n)=>function r(i,s){const o=H(s)?s:n(e,s);if((e=>"delayTime"in e)(o))return[];if(i[0]===o)return[i];if(i.includes(o))return[];const{outputs:a}=t(o);return Array.from(a).map((e=>r([...i,o],e[0]))).reduce(((e,t)=>e.concat(t)),[])})(Dt,B,C),Rt,jt,Ft,Vt,Lt,Nt,Wt);var qt;const Ut=((e,t,n,r,i,s)=>class extends e{constructor(e,n){const o=i(e),a={...O,...n},l=r(o,a);super(e,!1,l,s(o)?t():null),this._nativeAnalyserNode=l}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(e){this._nativeAnalyserNode.fftSize=e}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(e){const t=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=e,!(e>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=t,n()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(e){const t=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=e,!(this._nativeAnalyserNode.maxDecibels>e))throw this._nativeAnalyserNode.minDecibels=t,n()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(e){this._nativeAnalyserNode.smoothingTimeConstant=e}getByteFrequencyData(e){this._nativeAnalyserNode.getByteFrequencyData(e)}getByteTimeDomainData(e){this._nativeAnalyserNode.getByteTimeDomainData(e)}getFloatFrequencyData(e){this._nativeAnalyserNode.getFloatFrequencyData(e)}getFloatTimeDomainData(e){this._nativeAnalyserNode.getFloatTimeDomainData(e)}})(Bt,Pt,D,Et,jt,Nt),Gt=new WeakSet,$t=(e=>null===e?null:e.hasOwnProperty("AudioBuffer")?e.AudioBuffer:null)(Tt),Ht=(Qt=new Uint32Array(1),e=>(Qt[0]=e,Qt[0]));var Qt;const Yt=((e,t)=>n=>{n.copyFromChannel=function(r,i){const s=e(arguments.length>2&&void 0!==arguments[2]?arguments[2]:0),o=e(i);if(o>=n.numberOfChannels)throw t();const a=n.length,l=n.getChannelData(o),u=r.length;for(let e=s<0?-s:0;e+s<a&&e<u;e+=1)r[e]=l[e+s]},n.copyToChannel=function(r,i){const s=e(arguments.length>2&&void 0!==arguments[2]?arguments[2]:0),o=e(i);if(o>=n.numberOfChannels)throw t();const a=n.length,l=n.getChannelData(o),u=r.length;for(let e=s<0?-s:0;e+s<a&&e<u;e+=1)l[e+s]=r[e]}})(Ht,D),Xt=(e=>t=>{t.copyFromChannel=(n=>function(r,i){const s=e(arguments.length>2&&void 0!==arguments[2]?arguments[2]:0),o=e(i);if(s<t.length)return n.call(t,r,o,s)})(t.copyFromChannel),t.copyToChannel=(n=>function(r,i){const s=e(arguments.length>2&&void 0!==arguments[2]?arguments[2]:0),o=e(i);if(s<t.length)return n.call(t,r,o,s)})(t.copyToChannel)})(Ht),Zt=((e,t,n,r,i,s,o,a)=>{let l=null;return class u{constructor(u){if(null===i)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:c,numberOfChannels:h,sampleRate:d}={...z,...u};null===l&&(l=new i(1,1,44100));const p=null!==r&&t(s,s)?new r({length:c,numberOfChannels:h,sampleRate:d}):l.createBuffer(h,c,d);if(0===p.numberOfChannels)throw n();return"function"!==typeof p.copyFromChannel?(o(p),R(p)):t(N,(()=>N(p)))||a(p),e.add(p),p}static[Symbol.hasInstance](t){return null!==t&&"object"===typeof t&&Object.getPrototypeOf(t)===u.prototype||e.has(t)}}})(Gt,kt,tt,$t,It,(e=>()=>{if(null===e)return!1;try{new e({length:1,sampleRate:44100})}catch{return!1}return!0})($t),Yt,Xt),Kt=(e=>(t,n)=>{const r=e(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});n.connect(r).connect(t.destination);const i=()=>{n.removeEventListener("ended",i),n.disconnect(r),r.disconnect()};n.addEventListener("ended",i)})(Xe),Jt=((e,t,n)=>async(r,i,s)=>{const o=t(r);await Promise.all(Array.from(o.activeInputs).map((async t=>{let[r,o]=t;const a=e(r),l=await a.render(r,i);n(r)||l.connect(s,o)})))})(At,q,oe),en=(e=>(t,n,r)=>e(n,t,r))(Jt),tn=((e,t,n,r,i,s,o,a,l,u,c)=>(h,d)=>{const p=h.createBufferSource();return Ve(p,d),We(p,d,"playbackRate"),Fe(p,d,"buffer"),Fe(p,d,"loop"),Fe(p,d,"loopEnd"),Fe(p,d,"loopStart"),t(n,(()=>n(h)))||(e=>{e.start=(t=>{let n=!1;return function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2?arguments[2]:void 0;if(n)throw je();t.call(e,r,i,s),n=!0}})(e.start)})(p),t(r,(()=>r(h)))||l(p),t(i,(()=>i(h)))||u(p,h),t(s,(()=>s(h)))||Be(p),t(o,(()=>o(h)))||c(p,h),t(a,(()=>a(h)))||qe(p),e(h,p),p})(Kt,kt,(e=>{const t=e.createBufferSource();t.start();try{t.start()}catch{return!0}return!1}),(e=>{const t=e.createBufferSource(),n=e.createBuffer(1,1,44100);t.buffer=n;try{t.start(0,1)}catch{return!1}return!0}),(e=>{const t=e.createBufferSource();t.start();try{t.stop()}catch{return!1}return!0}),pt,ft,mt,(e=>{e.start=(t=>function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0;const s=e.buffer,o=null===s?r:Math.min(s.duration,r);null!==s&&o>s.duration-.5/e.context.sampleRate?t.call(e,n,0,0):t.call(e,n,o,i)})(e.start)}),(e=>(t,n)=>{const r=n.createBuffer(1,1,44100);null===t.buffer&&(t.buffer=r),e(t,"buffer",(e=>()=>{const n=e.call(t);return n===r?null:n}),(e=>n=>e.call(t,null===n?r:n)))})(ht),gt),nn=((e,t)=>(n,r,i)=>(e(r).replay(i),t(r,n,i)))((e=>t=>{const n=e(t);if(null===n.renderer)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer})(q),Jt),rn=((e,t,n,r,i)=>()=>{const s=new WeakMap;let o=null,a=null;return{set start(e){o=e},set stop(e){a=e},render(l,u){const c=s.get(u);return void 0!==c?Promise.resolve(c):(async(l,u)=>{let c=n(l);const h=I(c,u);if(!h){const e={buffer:c.buffer,channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,loop:c.loop,loopEnd:c.loopEnd,loopStart:c.loopStart,playbackRate:c.playbackRate.value};c=t(u,e),null!==o&&c.start(...o),null!==a&&c.stop(a)}return s.set(u,c),h?await e(u,l.playbackRate,c.playbackRate):await r(u,l.playbackRate,c.playbackRate),await i(l,u,c),c})(l,u)}}})(en,tn,ie,nn,Mt),sn=((e,t,n,r,i,s,o,a,u,c,h,d,p)=>function(f,m,g){let v=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,y=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;const _=g.value,b=new l.AutomationEventList(_),x=m?r(b):null,w={get defaultValue(){return _},get maxValue(){return null===v?g.maxValue:v},get minValue(){return null===y?g.minValue:y},get value(){return g.value},set value(e){g.value=e,w.setValueAtTime(e,f.context.currentTime)},cancelAndHoldAtTime(e){if("function"===typeof g.cancelAndHoldAtTime)null===x&&b.flush(f.context.currentTime),b.add(i(e)),g.cancelAndHoldAtTime(e);else{const t=Array.from(b).pop();null===x&&b.flush(f.context.currentTime),b.add(i(e));const n=Array.from(b).pop();g.cancelScheduledValues(e),t!==n&&void 0!==n&&("exponentialRampToValue"===n.type?g.exponentialRampToValueAtTime(n.value,n.endTime):"linearRampToValue"===n.type?g.linearRampToValueAtTime(n.value,n.endTime):"setValue"===n.type?g.setValueAtTime(n.value,n.startTime):"setValueCurve"===n.type&&g.setValueCurveAtTime(n.values,n.startTime,n.duration))}return w},cancelScheduledValues:e=>(null===x&&b.flush(f.context.currentTime),b.add(s(e)),g.cancelScheduledValues(e),w),exponentialRampToValueAtTime(e,t){if(0===e)throw new RangeError;if(!Number.isFinite(t)||t<0)throw new RangeError;const n=f.context.currentTime;return null===x&&b.flush(n),0===Array.from(b).length&&(b.add(c(_,n)),g.setValueAtTime(_,n)),b.add(o(e,t)),g.exponentialRampToValueAtTime(e,t),w},linearRampToValueAtTime(e,t){const n=f.context.currentTime;return null===x&&b.flush(n),0===Array.from(b).length&&(b.add(c(_,n)),g.setValueAtTime(_,n)),b.add(a(e,t)),g.linearRampToValueAtTime(e,t),w},setTargetAtTime:(e,t,n)=>(null===x&&b.flush(f.context.currentTime),b.add(u(e,t,n)),g.setTargetAtTime(e,t,n),w),setValueAtTime:(e,t)=>(null===x&&b.flush(f.context.currentTime),b.add(c(e,t)),g.setValueAtTime(e,t),w),setValueCurveAtTime(e,t,n){const r=e instanceof Float32Array?e:new Float32Array(e);if(null!==d&&"webkitAudioContext"===d.name){const e=t+n,i=f.context.sampleRate,s=Math.ceil(t*i),o=Math.floor(e*i),a=o-s,l=new Float32Array(a);for(let c=0;c<a;c+=1){const e=(r.length-1)/n*((s+c)/i-t),o=Math.floor(e),a=Math.ceil(e);l[c]=o===a?r[o]:(1-(e-o))*r[o]+(1-(a-e))*r[a]}null===x&&b.flush(f.context.currentTime),b.add(h(l,t,n)),g.setValueCurveAtTime(l,t,n);const u=o/i;u<e&&p(w,l[l.length-1],u),p(w,r[r.length-1],e)}else null===x&&b.flush(f.context.currentTime),b.add(h(r,t,n)),g.setValueCurveAtTime(r,t,n);return w}};return n.set(w,g),t.set(w,f),e(w,x),w})((on=d,(e,t)=>{on.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:t})}),Dt,p,(e=>({replay(t){for(const n of e)if("exponentialRampToValue"===n.type){const{endTime:e,value:r}=n;t.exponentialRampToValueAtTime(r,e)}else if("linearRampToValue"===n.type){const{endTime:e,value:r}=n;t.linearRampToValueAtTime(r,e)}else if("setTarget"===n.type){const{startTime:e,target:r,timeConstant:i}=n;t.setTargetAtTime(r,e,i)}else if("setValue"===n.type){const{startTime:e,value:r}=n;t.setValueAtTime(r,e)}else{if("setValueCurve"!==n.type)throw new Error("Can't apply an unknown automation.");{const{duration:e,startTime:r,values:i}=n;t.setValueCurveAtTime(i,r,e)}}}})),l.createCancelAndHoldAutomationEvent,l.createCancelScheduledValuesAutomationEvent,l.createExponentialRampToValueAutomationEvent,l.createLinearRampToValueAutomationEvent,l.createSetTargetAutomationEvent,l.createSetValueAutomationEvent,l.createSetValueCurveAutomationEvent,zt,dt);var on;const an=((e,t,n,r,i,s,o,a)=>class extends e{constructor(e,r){const a=s(e),l={...W,...r},u=i(a,l),c=o(a),h=c?t():null;super(e,!1,u,h),this._audioBufferSourceNodeRenderer=h,this._isBufferNullified=!1,this._isBufferSet=null!==l.buffer,this._nativeAudioBufferSourceNode=u,this._onended=null,this._playbackRate=n(this,c,u.playbackRate,V,F)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(e){if(this._nativeAudioBufferSourceNode.buffer=e,null!==e){if(this._isBufferSet)throw r();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(e){this._nativeAudioBufferSourceNode.loop=e}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(e){this._nativeAudioBufferSourceNode.loopEnd=e}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(e){this._nativeAudioBufferSourceNode.loopStart=e}get onended(){return this._onended}set onended(e){const t="function"===typeof e?a(this,e):null;this._nativeAudioBufferSourceNode.onended=t;const n=this._nativeAudioBufferSourceNode.onended;this._onended=null!==n&&n===t?e:n}get playbackRate(){return this._playbackRate}start(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;if(this._nativeAudioBufferSourceNode.start(e,t,n),null!==this._audioBufferSourceNodeRenderer&&(this._audioBufferSourceNodeRenderer.start=void 0===n?[e,t]:[e,t,n]),"closed"!==this.context.state){A(this);const e=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",e),L(this)&&P(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",e)}}stop(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this._nativeAudioBufferSourceNode.stop(e),null!==this._audioBufferSourceNodeRenderer&&(this._audioBufferSourceNodeRenderer.stop=e)}})(Bt,rn,sn,je,tn,jt,Nt,vt),ln=((e,t,n,r,i,s,o,a)=>class extends e{constructor(e,n){const r=s(e),l=o(r),u=i(r,n,l);super(e,!1,u,l?t(a):null),this._isNodeOfNativeOfflineAudioContext=l,this._nativeAudioDestinationNode=u}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(e){if(this._isNodeOfNativeOfflineAudioContext)throw r();if(e>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=e}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(e){if(this._isNodeOfNativeOfflineAudioContext)throw r();this._nativeAudioDestinationNode.channelCountMode=e}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}})(Bt,(e=>{const t=new WeakMap;return{render(n,r){const i=t.get(r);return void 0!==i?Promise.resolve(i):(async(n,r)=>{const i=r.destination;return t.set(r,i),await e(n,r,i),i})(n,r)}}}),D,je,((e,t)=>(n,r,i)=>{const s=n.destination;if(s.channelCount!==r)try{s.channelCount=r}catch{}i&&"explicit"!==s.channelCountMode&&(s.channelCountMode="explicit"),0===s.maxChannelCount&&Object.defineProperty(s,"maxChannelCount",{value:r});const o=e(n,{channelCount:r,channelCountMode:s.channelCountMode,channelInterpretation:s.channelInterpretation,gain:1});return t(o,"channelCount",(e=>()=>e.call(o)),(e=>t=>{e.call(o,t);try{s.channelCount=t}catch(n){if(t>s.maxChannelCount)throw n}})),t(o,"channelCountMode",(e=>()=>e.call(o)),(e=>t=>{e.call(o,t),s.channelCountMode=t})),t(o,"channelInterpretation",(e=>()=>e.call(o)),(e=>t=>{e.call(o,t),s.channelInterpretation=t})),Object.defineProperty(o,"maxChannelCount",{get:()=>s.maxChannelCount}),o.connect(s),o})(Xe,ht),jt,Nt,Mt),un=((e,t,n,r,i)=>()=>{const s=new WeakMap;return{render(o,a){const l=s.get(a);return void 0!==l?Promise.resolve(l):(async(o,a)=>{let l=n(o);const u=I(l,a);if(!u){const e={Q:l.Q.value,channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,detune:l.detune.value,frequency:l.frequency.value,gain:l.gain.value,type:l.type};l=t(a,e)}return s.set(a,l),u?(await e(a,o.Q,l.Q),await e(a,o.detune,l.detune),await e(a,o.frequency,l.frequency),await e(a,o.gain,l.gain)):(await r(a,o.Q,l.Q),await r(a,o.detune,l.detune),await r(a,o.frequency,l.frequency),await r(a,o.gain,l.gain)),await i(o,a,l),l})(o,a)}}})(en,$e,ie,nn,Mt),cn=(e=>(t,n)=>e.set(t,n))(xt),hn=((e,t,n,r,i,s,o,a)=>class extends e{constructor(e,r){const l=s(e),u={...xe,...r},c=i(l,u),h=o(l);super(e,!1,c,h?n():null),this._Q=t(this,h,c.Q,V,F),this._detune=t(this,h,c.detune,1200*Math.log2(V),-1200*Math.log2(V)),this._frequency=t(this,h,c.frequency,e.sampleRate/2,0),this._gain=t(this,h,c.gain,40*Math.log10(V),F),this._nativeBiquadFilterNode=c,a(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(e){this._nativeBiquadFilterNode.type=e}getFrequencyResponse(e,t,n){try{this._nativeBiquadFilterNode.getFrequencyResponse(e,t,n)}catch(i){if(11===i.code)throw r();throw i}if(e.length!==t.length||t.length!==n.length)throw r()}})(Bt,sn,un,Oe,$e,jt,Nt,cn),dn=((e,t)=>(n,r,i)=>{const s=new Set;return n.connect=(i=>function(o){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const u=0===s.size;if(t(o))return i.call(n,o,a,l),e(s,[o,a,l],(e=>e[0]===o&&e[1]===a&&e[2]===l),!0),u&&r(),o;i.call(n,o,a),e(s,[o,a],(e=>e[0]===o&&e[1]===a),!0),u&&r()})(n.connect),n.disconnect=(e=>(r,o,a)=>{const l=s.size>0;if(void 0===r)e.apply(n),s.clear();else if("number"===typeof r){e.call(n,r);for(const e of s)e[1]===r&&s.delete(e)}else{t(r)?e.call(n,r,o,a):e.call(n,r,o);for(const e of s)e[0]!==r||void 0!==o&&e[1]!==o||void 0!==a&&e[2]!==a||s.delete(e)}const u=0===s.size;l&&u&&i()})(n.disconnect),n})(Y,Vt),pn=((e,t)=>(n,r)=>{r.channelCount=1,r.channelCountMode="explicit",Object.defineProperty(r,"channelCount",{get:()=>1,set:()=>{throw e()}}),Object.defineProperty(r,"channelCountMode",{get:()=>"explicit",set:()=>{throw e()}});const i=n.createBufferSource();t(r,(()=>{const e=r.numberOfInputs;for(let t=0;t<e;t+=1)i.connect(r,0,t)}),(()=>i.disconnect(r)))})(je,dn),fn=((e,t)=>(n,r)=>{const i=n.createChannelMerger(r.numberOfInputs);return null!==e&&"webkitAudioContext"===e.name&&t(n,i),Ve(i,r),i})(zt,pn),mn=((e,t,n)=>()=>{const r=new WeakMap;return{render(i,s){const o=r.get(s);return void 0!==o?Promise.resolve(o):(async(i,s)=>{let o=t(i);if(!I(o,s)){const t={channelCount:o.channelCount,channelCountMode:o.channelCountMode,channelInterpretation:o.channelInterpretation,numberOfInputs:o.numberOfInputs};o=e(s,t)}return r.set(s,o),await n(i,s,o),o})(i,s)}}})(fn,ie,Mt),gn=((e,t,n,r,i)=>class extends e{constructor(e,s){const o=r(e),a={...we,...s};super(e,!1,n(o,a),i(o)?t():null)}})(Bt,mn,fn,jt,Nt),vn=((e,t,n)=>()=>{const r=new WeakMap;return{render(i,s){const o=r.get(s);return void 0!==o?Promise.resolve(o):(async(i,s)=>{let o=t(i);if(!I(o,s)){const t={channelCount:o.channelCount,channelCountMode:o.channelCountMode,channelInterpretation:o.channelInterpretation,numberOfOutputs:o.numberOfOutputs};o=e(s,t)}return r.set(s,o),await n(i,s,o),o})(i,s)}}})(He,ie,Mt),yn=((e,t,n,r,i,s)=>class extends e{constructor(e,o){const a=r(e),l=s({...ke,...o});super(e,!1,n(a,l),i(a)?t():null)}})(Bt,vn,He,jt,Nt,(e=>({...e,channelCount:e.numberOfOutputs}))),_n=((e,t,n,r)=>(i,s)=>{let{offset:o,...a}=s;const l=i.createBuffer(1,2,44100),u=t(i,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),c=n(i,{...a,gain:o}),h=l.getChannelData(0);h[0]=1,h[1]=1,u.buffer=l,u.loop=!0;const d={get bufferSize(){},get channelCount(){return c.channelCount},set channelCount(e){c.channelCount=e},get channelCountMode(){return c.channelCountMode},set channelCountMode(e){c.channelCountMode=e},get channelInterpretation(){return c.channelInterpretation},set channelInterpretation(e){c.channelInterpretation=e},get context(){return c.context},get inputs(){return[]},get numberOfInputs(){return u.numberOfInputs},get numberOfOutputs(){return c.numberOfOutputs},get offset(){return c.gain},get onended(){return u.onended},set onended(e){u.onended=e},addEventListener(){return u.addEventListener(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2])},dispatchEvent(){return u.dispatchEvent(arguments.length<=0?void 0:arguments[0])},removeEventListener(){return u.removeEventListener(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2])},start(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;u.start.call(u,e)},stop(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;u.stop.call(u,e)}};return e(i,u),r(Qe(d,c),(()=>u.connect(c)),(()=>u.disconnect(c)))})(Kt,tn,Xe,dn),bn=((e,t,n,r,i)=>(s,o)=>{if(void 0===s.createConstantSource)return n(s,o);const a=s.createConstantSource();return Ve(a,o),We(a,o,"offset"),t(r,(()=>r(s)))||Be(a),t(i,(()=>i(s)))||qe(a),e(s,a),a})(Kt,kt,_n,pt,mt),xn=((e,t,n,r,i)=>()=>{const s=new WeakMap;let o=null,a=null;return{set start(e){o=e},set stop(e){a=e},render(l,u){const c=s.get(u);return void 0!==c?Promise.resolve(c):(async(l,u)=>{let c=n(l);const h=I(c,u);if(!h){const e={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,offset:c.offset.value};c=t(u,e),null!==o&&c.start(o),null!==a&&c.stop(a)}return s.set(u,c),h?await e(u,l.offset,c.offset):await r(u,l.offset,c.offset),await i(l,u,c),c})(l,u)}}})(en,bn,ie,nn,Mt),wn=((e,t,n,r,i,s,o)=>class extends e{constructor(e,o){const a=i(e),l={...Ce,...o},u=r(a,l),c=s(a),h=c?n():null;super(e,!1,u,h),this._constantSourceNodeRenderer=h,this._nativeConstantSourceNode=u,this._offset=t(this,c,u.offset,V,F),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(e){const t="function"===typeof e?o(this,e):null;this._nativeConstantSourceNode.onended=t;const n=this._nativeConstantSourceNode.onended;this._onended=null!==n&&n===t?e:n}start(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(this._nativeConstantSourceNode.start(e),null!==this._constantSourceNodeRenderer&&(this._constantSourceNodeRenderer.start=e),"closed"!==this.context.state){A(this);const e=()=>{this._nativeConstantSourceNode.removeEventListener("ended",e),L(this)&&P(this)};this._nativeConstantSourceNode.addEventListener("ended",e)}}stop(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this._nativeConstantSourceNode.stop(e),null!==this._constantSourceNodeRenderer&&(this._constantSourceNodeRenderer.stop=e)}})(Bt,sn,xn,bn,jt,Nt,vt),kn=((e,t)=>(n,r)=>{const i=n.createConvolver();if(Ve(i,r),r.disableNormalization===i.normalize&&(i.normalize=!r.disableNormalization),Fe(i,r,"buffer"),r.channelCount>2)throw e();if(t(i,"channelCount",(e=>()=>e.call(i)),(t=>n=>{if(n>2)throw e();return t.call(i,n)})),"max"===r.channelCountMode)throw e();return t(i,"channelCountMode",(e=>()=>e.call(i)),(t=>n=>{if("max"===n)throw e();return t.call(i,n)})),i})(tt,ht),Cn=((e,t,n)=>()=>{const r=new WeakMap;return{render(i,s){const o=r.get(s);return void 0!==o?Promise.resolve(o):(async(i,s)=>{let o=t(i);if(!I(o,s)){const t={buffer:o.buffer,channelCount:o.channelCount,channelCountMode:o.channelCountMode,channelInterpretation:o.channelInterpretation,disableNormalization:!o.normalize};o=e(s,t)}return r.set(s,o),K(o)?await n(i,s,o.inputs[0]):await n(i,s,o),o})(i,s)}}})(kn,ie,Mt),Sn=((e,t,n,r,i,s)=>class extends e{constructor(e,o){const a=r(e),l={...Se,...o},u=n(a,l);super(e,!1,u,i(a)?t():null),this._isBufferNullified=!1,this._nativeConvolverNode=u,null!==l.buffer&&s(this,l.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(e){if(this._nativeConvolverNode.buffer=e,null===e&&null!==this._nativeConvolverNode.buffer){const e=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=e.createBuffer(1,1,e.sampleRate),this._isBufferNullified=!0,s(this,0)}else this._isBufferNullified=!1,s(this,null===this._nativeConvolverNode.buffer?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(e){this._nativeConvolverNode.normalize=e}})(Bt,Cn,kn,jt,Nt,cn),Tn=((e,t,n,r,i)=>s=>{const o=new WeakMap;return{render(a,l){const u=o.get(l);return void 0!==u?Promise.resolve(u):(async(a,l)=>{let u=n(a);const c=I(u,l);if(!c){const e={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,delayTime:u.delayTime.value,maxDelayTime:s};u=t(l,e)}return o.set(l,u),c?await e(l,a.delayTime,u.delayTime):await r(l,a.delayTime,u.delayTime),await i(a,l,u),u})(a,l)}}})(en,Ye,ie,nn,Mt),En=((e,t,n,r,i,s,o)=>class extends e{constructor(e,a){const l=i(e),u={...Ee,...a},c=r(l,u),h=s(l);super(e,!1,c,h?n(u.maxDelayTime):null),this._delayTime=t(this,h,c.delayTime),o(this,u.maxDelayTime)}get delayTime(){return this._delayTime}})(Bt,sn,Tn,Ye,jt,Nt,cn),An=(e=>(t,n)=>{const r=t.createDynamicsCompressor();if(Ve(r,n),n.channelCount>2)throw e();if("max"===n.channelCountMode)throw e();return We(r,n,"attack"),We(r,n,"knee"),We(r,n,"ratio"),We(r,n,"release"),We(r,n,"threshold"),r})(tt),Mn=((e,t,n,r,i)=>()=>{const s=new WeakMap;return{render(o,a){const l=s.get(a);return void 0!==l?Promise.resolve(l):(async(o,a)=>{let l=n(o);const u=I(l,a);if(!u){const e={attack:l.attack.value,channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,knee:l.knee.value,ratio:l.ratio.value,release:l.release.value,threshold:l.threshold.value};l=t(a,e)}return s.set(a,l),u?(await e(a,o.attack,l.attack),await e(a,o.knee,l.knee),await e(a,o.ratio,l.ratio),await e(a,o.release,l.release),await e(a,o.threshold,l.threshold)):(await r(a,o.attack,l.attack),await r(a,o.knee,l.knee),await r(a,o.ratio,l.ratio),await r(a,o.release,l.release),await r(a,o.threshold,l.threshold)),await i(o,a,l),l})(o,a)}}})(en,An,ie,nn,Mt),Pn=((e,t,n,r,i,s,o,a)=>class extends e{constructor(e,i){const l=s(e),u={...Me,...i},c=r(l,u),h=o(l);super(e,!1,c,h?n():null),this._attack=t(this,h,c.attack),this._knee=t(this,h,c.knee),this._nativeDynamicsCompressorNode=c,this._ratio=t(this,h,c.ratio),this._release=t(this,h,c.release),this._threshold=t(this,h,c.threshold),a(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(e){const t=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=e,e>2)throw this._nativeDynamicsCompressorNode.channelCount=t,i()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(e){const t=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=e,"max"===e)throw this._nativeDynamicsCompressorNode.channelCountMode=t,i()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return"number"===typeof this._nativeDynamicsCompressorNode.reduction.value?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}})(Bt,sn,Mn,An,tt,jt,Nt,cn),jn=((e,t,n,r,i)=>()=>{const s=new WeakMap;return{render(o,a){const l=s.get(a);return void 0!==l?Promise.resolve(l):(async(o,a)=>{let l=n(o);const u=I(l,a);if(!u){const e={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,gain:l.gain.value};l=t(a,e)}return s.set(a,l),u?await e(a,o.gain,l.gain):await r(a,o.gain,l.gain),await i(o,a,l),l})(o,a)}}})(en,Xe,ie,nn,Mt),On=((e,t,n,r,i,s)=>class extends e{constructor(e,o){const a=i(e),l={...Pe,...o},u=r(a,l),c=s(a);super(e,!1,u,c?n():null),this._gain=t(this,c,u.gain,V,F)}get gain(){return this._gain}})(Bt,sn,jn,Xe,jt,Nt),In=((e,t,n,r)=>(i,s,o)=>{let{channelCount:a,channelCountMode:l,channelInterpretation:u,feedback:c,feedforward:h}=o;const d=Ue(s,i.sampleRate),p=c instanceof Float64Array?c:new Float64Array(c),f=h instanceof Float64Array?h:new Float64Array(h),m=p.length,g=f.length,v=Math.min(m,g);if(0===m||m>20)throw r();if(0===p[0])throw t();if(0===g||g>20)throw r();if(0===f[0])throw t();if(1!==p[0]){for(let e=0;e<g;e+=1)f[e]/=p[0];for(let e=1;e<m;e+=1)p[e]/=p[0]}const y=n(i,d,a,a);y.channelCount=a,y.channelCountMode=l,y.channelInterpretation=u;const _=[],b=[],x=[];for(let e=0;e<a;e+=1){_.push(0);const e=new Float32Array(32),t=new Float32Array(32);e.fill(0),t.fill(0),b.push(e),x.push(t)}y.onaudioprocess=e=>{const t=e.inputBuffer,n=e.outputBuffer,r=t.numberOfChannels;for(let i=0;i<r;i+=1){const e=t.getChannelData(i),r=n.getChannelData(i);_[i]=Ne(p,m,f,g,v,b[i],x[i],_[i],32,e,r)}};const w=i.sampleRate/2,k={get bufferSize(){return d},get channelCount(){return y.channelCount},set channelCount(e){y.channelCount=e},get channelCountMode(){return y.channelCountMode},set channelCountMode(e){y.channelCountMode=e},get channelInterpretation(){return y.channelInterpretation},set channelInterpretation(e){y.channelInterpretation=e},get context(){return y.context},get inputs(){return[y]},get numberOfInputs(){return y.numberOfInputs},get numberOfOutputs(){return y.numberOfOutputs},addEventListener(){return y.addEventListener(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2])},dispatchEvent(){return y.dispatchEvent(arguments.length<=0?void 0:arguments[0])},getFrequencyResponse(t,n,r){if(t.length!==n.length||n.length!==r.length)throw e();const i=t.length;for(let e=0;e<i;e+=1){const i=-Math.PI*(t[e]/w),s=[Math.cos(i),Math.sin(i)],o=Ze(Je(f,s),Je(p,s));n[e]=Math.sqrt(o[0]*o[0]+o[1]*o[1]),r[e]=Math.atan2(o[1],o[0])}},removeEventListener(){return y.removeEventListener(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2])}};return Qe(k,y)})(Oe,je,et,tt),Nn=((e,t,n,r)=>i=>e(Re,(()=>Re(i)))?Promise.resolve(e(r,r)).then((e=>{if(!e){const e=n(i,512,0,1);i.oncomplete=()=>{e.onaudioprocess=null,e.disconnect()},e.onaudioprocess=()=>i.currentTime,e.connect(i.destination)}return i.startRendering()})):new Promise((e=>{const n=t(i,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});i.oncomplete=t=>{n.disconnect(),e(t.renderedBuffer)},n.connect(i.destination),i.startRendering()})))(kt,Xe,et,((e,t)=>()=>{if(null===t)return Promise.resolve(!1);const n=new t(1,1,44100),r=e(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise((e=>{n.oncomplete=()=>{r.disconnect(),e(0!==n.currentTime)},n.startRendering()}))})(Xe,It)),Dn=((e,t,n,r,i)=>(s,o)=>{const a=new WeakMap;let l=null;const u=async(u,c)=>{let h=null,d=t(u);const p=I(d,c);if(void 0===c.createIIRFilter?h=e(c,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):p||(d=c.createIIRFilter(o,s)),a.set(c,null===h?d:h),null!==h){if(null===l){if(null===n)throw new Error("Missing the native OfflineAudioContext constructor.");const e=new n(u.context.destination.channelCount,u.context.length,c.sampleRate);l=(async()=>{await r(u,e,e.destination);return((e,t,n,r)=>{const i=n instanceof Float64Array?n:new Float64Array(n),s=r instanceof Float64Array?r:new Float64Array(r),o=i.length,a=s.length,l=Math.min(o,a);if(1!==i[0]){for(let e=0;e<o;e+=1)s[e]/=i[0];for(let e=1;e<a;e+=1)i[e]/=i[0]}const u=new Float32Array(32),c=new Float32Array(32),h=t.createBuffer(e.numberOfChannels,e.length,e.sampleRate),d=e.numberOfChannels;for(let p=0;p<d;p+=1){const t=e.getChannelData(p),n=h.getChannelData(p);u.fill(0),c.fill(0),Ne(i,o,s,a,l,u,c,0,32,t,n)}return h})(await i(e),c,s,o)})()}const e=await l;return h.buffer=e,h.start(0),h}return await r(u,c,d),d};return{render(e,t){const n=a.get(t);return void 0!==n?Promise.resolve(n):u(e,t)}}})(tn,ie,It,Mt,Nn),Rn=(e=>(t,n,r)=>{if(void 0===t.createIIRFilter)return e(t,n,r);const i=t.createIIRFilter(r.feedforward,r.feedback);return Ve(i,r),i})(In),zn=((e,t,n,r,i,s)=>class extends e{constructor(e,o){const a=r(e),l=i(a),u={...Ie,...o},c=t(a,l?null:e.baseLatency,u);super(e,!1,c,l?n(u.feedback,u.feedforward):null),(e=>{var t;e.getFrequencyResponse=(t=e.getFrequencyResponse,(n,r,i)=>{if(n.length!==r.length||r.length!==i.length)throw Oe();return t.call(e,n,r,i)})})(c),this._nativeIIRFilterNode=c,s(this,1)}getFrequencyResponse(e,t,n){return this._nativeIIRFilterNode.getFrequencyResponse(e,t,n)}})(Bt,Rn,Dn,jt,Nt,cn),Fn=((e,t,n,r,i,s,o,a)=>(l,u)=>{const c=u.listener,{forwardX:h,forwardY:d,forwardZ:p,positionX:f,positionY:m,positionZ:g,upX:v,upY:y,upZ:_}=void 0===c.forwardX?(()=>{const h=new Float32Array(1),d=t(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),p=o(u);let f=!1,m=[0,0,-1,0,1,0],g=[0,0,0];const v=()=>{if(f)return;f=!0;const e=r(u,256,9,0);e.onaudioprocess=e=>{let{inputBuffer:t}=e;const n=[s(t,h,0),s(t,h,1),s(t,h,2),s(t,h,3),s(t,h,4),s(t,h,5)];n.some(((e,t)=>e!==m[t]))&&(c.setOrientation(...n),m=n);const r=[s(t,h,6),s(t,h,7),s(t,h,8)];r.some(((e,t)=>e!==g[t]))&&(c.setPosition(...r),g=r)},d.connect(e)},y=e=>t=>{t!==m[e]&&(m[e]=t,c.setOrientation(...m))},_=e=>t=>{t!==g[e]&&(g[e]=t,c.setPosition(...g))},b=(t,r,s)=>{const o=n(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:r});o.connect(d,0,t),o.start(),Object.defineProperty(o.offset,"defaultValue",{get:()=>r});const c=e({context:l},p,o.offset,V,F);var h,f,m,g,y,_,b;return a(c,"value",(e=>()=>e.call(c)),(e=>t=>{try{e.call(c,t)}catch(n){if(9!==n.code)throw n}v(),p&&s(t)})),c.cancelAndHoldAtTime=(h=c.cancelAndHoldAtTime,p?()=>{throw i()}:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=h.apply(c,t);return v(),r}),c.cancelScheduledValues=(f=c.cancelScheduledValues,p?()=>{throw i()}:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=f.apply(c,t);return v(),r}),c.exponentialRampToValueAtTime=(m=c.exponentialRampToValueAtTime,p?()=>{throw i()}:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=m.apply(c,t);return v(),r}),c.linearRampToValueAtTime=(g=c.linearRampToValueAtTime,p?()=>{throw i()}:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=g.apply(c,t);return v(),r}),c.setTargetAtTime=(y=c.setTargetAtTime,p?()=>{throw i()}:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=y.apply(c,t);return v(),r}),c.setValueAtTime=(_=c.setValueAtTime,p?()=>{throw i()}:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=_.apply(c,t);return v(),r}),c.setValueCurveAtTime=(b=c.setValueCurveAtTime,p?()=>{throw i()}:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=b.apply(c,t);return v(),r}),c};return{forwardX:b(0,0,y(0)),forwardY:b(1,0,y(1)),forwardZ:b(2,-1,y(2)),positionX:b(6,0,_(0)),positionY:b(7,0,_(1)),positionZ:b(8,0,_(2)),upX:b(3,0,y(3)),upY:b(4,1,y(4)),upZ:b(5,0,y(5))}})():c;return{get forwardX(){return h},get forwardY(){return d},get forwardZ(){return p},get positionX(){return f},get positionY(){return m},get positionZ(){return g},get upX(){return v},get upY(){return y},get upZ(){return _}}})(sn,fn,bn,et,tt,ut,Nt,ht),Vn=new WeakMap,Ln=((e,t,n,r,i,s)=>class extends n{constructor(n,s){super(n),this._nativeContext=n,f.set(this,n),r(n)&&i.set(n,new Set),this._destination=new e(this,s),this._listener=t(this,n),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(e){const t="function"===typeof e?s(this,e):null;this._nativeContext.onstatechange=t;const n=this._nativeContext.onstatechange;this._onstatechange=null!==n&&n===t?e:n}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}})(ln,Fn,Rt,Nt,Vn,vt),Wn=((e,t,n,r,i,s)=>(o,a)=>{const l=o.createOscillator();return Ve(l,a),We(l,a,"detune"),We(l,a,"frequency"),void 0!==a.periodicWave?l.setPeriodicWave(a.periodicWave):Fe(l,a,"type"),t(n,(()=>n(o)))||Be(l),t(r,(()=>r(o)))||s(l,o),t(i,(()=>i(o)))||qe(l),e(o,l),l})(Kt,kt,pt,ft,mt,gt),Bn=((e,t,n,r,i)=>()=>{const s=new WeakMap;let o=null,a=null,l=null;return{set periodicWave(e){o=e},set start(e){a=e},set stop(e){l=e},render(u,c){const h=s.get(c);return void 0!==h?Promise.resolve(h):(async(u,c)=>{let h=n(u);const d=I(h,c);if(!d){const e={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,detune:h.detune.value,frequency:h.frequency.value,periodicWave:null===o?void 0:o,type:h.type};h=t(c,e),null!==a&&h.start(a),null!==l&&h.stop(l)}return s.set(c,h),d?(await e(c,u.detune,h.detune),await e(c,u.frequency,h.frequency)):(await r(c,u.detune,h.detune),await r(c,u.frequency,h.frequency)),await i(u,c,h),h})(u,c)}}})(en,Wn,ie,nn,Mt),qn=((e,t,n,r,i,s,o)=>class extends e{constructor(e,o){const a=i(e),l={...rt,...o},u=n(a,l),c=s(a),h=c?r():null,d=e.sampleRate/2;super(e,!1,u,h),this._detune=t(this,c,u.detune,153600,-153600),this._frequency=t(this,c,u.frequency,d,-d),this._nativeOscillatorNode=u,this._onended=null,this._oscillatorNodeRenderer=h,null!==this._oscillatorNodeRenderer&&void 0!==l.periodicWave&&(this._oscillatorNodeRenderer.periodicWave=l.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(e){const t="function"===typeof e?o(this,e):null;this._nativeOscillatorNode.onended=t;const n=this._nativeOscillatorNode.onended;this._onended=null!==n&&n===t?e:n}get type(){return this._nativeOscillatorNode.type}set type(e){this._nativeOscillatorNode.type=e,null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(e){this._nativeOscillatorNode.setPeriodicWave(e),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.periodicWave=e)}start(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(this._nativeOscillatorNode.start(e),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.start=e),"closed"!==this.context.state){A(this);const e=()=>{this._nativeOscillatorNode.removeEventListener("ended",e),L(this)&&P(this)};this._nativeOscillatorNode.addEventListener("ended",e)}}stop(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this._nativeOscillatorNode.stop(e),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.stop=e)}})(Bt,sn,Wn,Bn,jt,Nt,vt),Un=(e=>(t,n)=>{const r=e(t,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),i=t.createBuffer(1,2,44100);return r.buffer=i,r.loop=!0,r.connect(n),r.start(),()=>{r.stop(),r.disconnect(n)}})(tn),Gn=((e,t,n,r,i)=>(s,o)=>{let{curve:a,oversample:l,...u}=o;const c=s.createWaveShaper(),h=s.createWaveShaper();Ve(c,u),Ve(h,u);const d=n(s,{...u,gain:1}),p=n(s,{...u,gain:-1}),f=n(s,{...u,gain:1}),m=n(s,{...u,gain:-1});let g=null,v=!1,y=null;const _={get bufferSize(){},get channelCount(){return c.channelCount},set channelCount(e){d.channelCount=e,p.channelCount=e,c.channelCount=e,f.channelCount=e,h.channelCount=e,m.channelCount=e},get channelCountMode(){return c.channelCountMode},set channelCountMode(e){d.channelCountMode=e,p.channelCountMode=e,c.channelCountMode=e,f.channelCountMode=e,h.channelCountMode=e,m.channelCountMode=e},get channelInterpretation(){return c.channelInterpretation},set channelInterpretation(e){d.channelInterpretation=e,p.channelInterpretation=e,c.channelInterpretation=e,f.channelInterpretation=e,h.channelInterpretation=e,m.channelInterpretation=e},get context(){return c.context},get curve(){return y},set curve(n){if(null!==n&&n.length<2)throw t();if(null===n)c.curve=n,h.curve=n;else{const e=n.length,t=new Float32Array(e+2-e%2),r=new Float32Array(e+2-e%2);t[0]=n[0],r[0]=-n[e-1];const i=Math.ceil((e+1)/2),s=(e+1)/2-1;for(let o=1;o<i;o+=1){const a=o/i*s,l=Math.floor(a),u=Math.ceil(a);t[o]=l===u?n[l]:(1-(a-l))*n[l]+(1-(u-a))*n[u],r[o]=l===u?-n[e-1-l]:-(1-(a-l))*n[e-1-l]-(1-(u-a))*n[e-1-u]}t[i]=e%2===1?n[i-1]:(n[i-2]+n[i-1])/2,c.curve=t,h.curve=r}y=n,v&&(r(y)&&null===g?g=e(s,d):null!==g&&(g(),g=null))},get inputs(){return[d]},get numberOfInputs(){return c.numberOfInputs},get numberOfOutputs(){return c.numberOfOutputs},get oversample(){return c.oversample},set oversample(e){c.oversample=e,h.oversample=e},addEventListener(){return d.addEventListener(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2])},dispatchEvent(){return d.dispatchEvent(arguments.length<=0?void 0:arguments[0])},removeEventListener(){return d.removeEventListener(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2])}};null!==a&&(_.curve=a instanceof Float32Array?a:new Float32Array(a)),l!==_.oversample&&(_.oversample=l);return i(Qe(_,f),(()=>{d.connect(c).connect(f),d.connect(p).connect(h).connect(m).connect(f),v=!0,r(y)&&(g=e(s,d))}),(()=>{d.disconnect(c),c.disconnect(f),d.disconnect(p),p.disconnect(h),h.disconnect(m),m.disconnect(f),v=!1,null!==g&&(g(),g=null)}))})(Un,je,Xe,ct,dn),$n=((e,t,n,r,i,s,o)=>(a,l)=>{const u=a.createWaveShaper();if(null!==s&&"webkitAudioContext"===s.name&&void 0===a.createGain().gain.automationRate)return n(a,l);Ve(u,l);const c=null===l.curve||l.curve instanceof Float32Array?l.curve:new Float32Array(l.curve);if(null!==c&&c.length<2)throw t();Fe(u,{curve:c},"curve"),Fe(u,l,"oversample");let h=null,d=!1;o(u,"curve",(e=>()=>e.call(u)),(t=>n=>(t.call(u,n),d&&(r(n)&&null===h?h=e(a,u):r(n)||null===h||(h(),h=null)),n)));return i(u,(()=>{d=!0,r(u.curve)&&(h=e(a,u))}),(()=>{d=!1,null!==h&&(h(),h=null)}))})(Un,je,Gn,ct,dn,zt,ht),Hn=((e,t,n,r,i,s,o,a,l,u)=>(c,h)=>{let{coneInnerAngle:d,coneOuterAngle:p,coneOuterGain:f,distanceModel:m,maxDistance:g,orientationX:v,orientationY:y,orientationZ:_,panningModel:b,positionX:x,positionY:w,positionZ:k,refDistance:C,rolloffFactor:S,...T}=h;const E=c.createPanner();if(T.channelCount>2)throw o();if("max"===T.channelCountMode)throw o();Ve(E,T);const A={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},M=n(c,{...A,channelInterpretation:"speakers",numberOfInputs:6}),P=r(c,{...T,gain:1}),j=r(c,{...A,gain:1}),O=r(c,{...A,gain:0}),I=r(c,{...A,gain:0}),N=r(c,{...A,gain:0}),D=r(c,{...A,gain:0}),R=r(c,{...A,gain:0}),z=i(c,256,6,1),F=s(c,{...A,curve:new Float32Array([1,1]),oversample:"none"});let V=[v,y,_],L=[x,w,k];const W=new Float32Array(1);z.onaudioprocess=e=>{let{inputBuffer:t}=e;const n=[l(t,W,0),l(t,W,1),l(t,W,2)];n.some(((e,t)=>e!==V[t]))&&(E.setOrientation(...n),V=n);const r=[l(t,W,3),l(t,W,4),l(t,W,5)];r.some(((e,t)=>e!==L[t]))&&(E.setPosition(...r),L=r)},Object.defineProperty(O.gain,"defaultValue",{get:()=>0}),Object.defineProperty(I.gain,"defaultValue",{get:()=>0}),Object.defineProperty(N.gain,"defaultValue",{get:()=>0}),Object.defineProperty(D.gain,"defaultValue",{get:()=>0}),Object.defineProperty(R.gain,"defaultValue",{get:()=>0});const B={get bufferSize(){},get channelCount(){return E.channelCount},set channelCount(e){if(e>2)throw o();P.channelCount=e,E.channelCount=e},get channelCountMode(){return E.channelCountMode},set channelCountMode(e){if("max"===e)throw o();P.channelCountMode=e,E.channelCountMode=e},get channelInterpretation(){return E.channelInterpretation},set channelInterpretation(e){P.channelInterpretation=e,E.channelInterpretation=e},get coneInnerAngle(){return E.coneInnerAngle},set coneInnerAngle(e){E.coneInnerAngle=e},get coneOuterAngle(){return E.coneOuterAngle},set coneOuterAngle(e){E.coneOuterAngle=e},get coneOuterGain(){return E.coneOuterGain},set coneOuterGain(e){if(e<0||e>1)throw t();E.coneOuterGain=e},get context(){return E.context},get distanceModel(){return E.distanceModel},set distanceModel(e){E.distanceModel=e},get inputs(){return[P]},get maxDistance(){return E.maxDistance},set maxDistance(e){if(e<0)throw new RangeError;E.maxDistance=e},get numberOfInputs(){return E.numberOfInputs},get numberOfOutputs(){return E.numberOfOutputs},get orientationX(){return j.gain},get orientationY(){return O.gain},get orientationZ(){return I.gain},get panningModel(){return E.panningModel},set panningModel(e){E.panningModel=e},get positionX(){return N.gain},get positionY(){return D.gain},get positionZ(){return R.gain},get refDistance(){return E.refDistance},set refDistance(e){if(e<0)throw new RangeError;E.refDistance=e},get rolloffFactor(){return E.rolloffFactor},set rolloffFactor(e){if(e<0)throw new RangeError;E.rolloffFactor=e},addEventListener(){return P.addEventListener(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2])},dispatchEvent(){return P.dispatchEvent(arguments.length<=0?void 0:arguments[0])},removeEventListener(){return P.removeEventListener(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2])}};d!==B.coneInnerAngle&&(B.coneInnerAngle=d),p!==B.coneOuterAngle&&(B.coneOuterAngle=p),f!==B.coneOuterGain&&(B.coneOuterGain=f),m!==B.distanceModel&&(B.distanceModel=m),g!==B.maxDistance&&(B.maxDistance=g),v!==B.orientationX.value&&(B.orientationX.value=v),y!==B.orientationY.value&&(B.orientationY.value=y),_!==B.orientationZ.value&&(B.orientationZ.value=_),b!==B.panningModel&&(B.panningModel=b),x!==B.positionX.value&&(B.positionX.value=x),w!==B.positionY.value&&(B.positionY.value=w),k!==B.positionZ.value&&(B.positionZ.value=k),C!==B.refDistance&&(B.refDistance=C),S!==B.rolloffFactor&&(B.rolloffFactor=S),1===V[0]&&0===V[1]&&0===V[2]||E.setOrientation(...V),0===L[0]&&0===L[1]&&0===L[2]||E.setPosition(...L);return u(Qe(B,E),(()=>{P.connect(E),e(P,F,0,0),F.connect(j).connect(M,0,0),F.connect(O).connect(M,0,1),F.connect(I).connect(M,0,2),F.connect(N).connect(M,0,3),F.connect(D).connect(M,0,4),F.connect(R).connect(M,0,5),M.connect(z).connect(c.destination)}),(()=>{P.disconnect(E),a(P,F,0,0),F.disconnect(j),j.disconnect(M),F.disconnect(O),O.disconnect(M),F.disconnect(I),I.disconnect(M),F.disconnect(N),N.disconnect(M),F.disconnect(D),D.disconnect(M),F.disconnect(R),R.disconnect(M),M.disconnect(z),z.disconnect(c.destination)}))})(J,je,fn,Xe,et,$n,tt,re,ut,dn),Qn=(e=>(t,n)=>{const r=t.createPanner();return void 0===r.orientationX?e(t,n):(Ve(r,n),We(r,n,"orientationX"),We(r,n,"orientationY"),We(r,n,"orientationZ"),We(r,n,"positionX"),We(r,n,"positionY"),We(r,n,"positionZ"),Fe(r,n,"coneInnerAngle"),Fe(r,n,"coneOuterAngle"),Fe(r,n,"coneOuterGain"),Fe(r,n,"distanceModel"),Fe(r,n,"maxDistance"),Fe(r,n,"panningModel"),Fe(r,n,"refDistance"),Fe(r,n,"rolloffFactor"),r)})(Hn),Yn=((e,t,n,r,i,s,o,a,l,u)=>()=>{const c=new WeakMap;let h=null;return{render(d,p){const f=c.get(p);return void 0!==f?Promise.resolve(f):(async(d,p)=>{let f=null,m=s(d);const g={channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation},v={...g,coneInnerAngle:m.coneInnerAngle,coneOuterAngle:m.coneOuterAngle,coneOuterGain:m.coneOuterGain,distanceModel:m.distanceModel,maxDistance:m.maxDistance,panningModel:m.panningModel,refDistance:m.refDistance,rolloffFactor:m.rolloffFactor},y=I(m,p);if("bufferSize"in m)f=r(p,{...g,gain:1});else if(!y){const e={...v,orientationX:m.orientationX.value,orientationY:m.orientationY.value,orientationZ:m.orientationZ.value,positionX:m.positionX.value,positionY:m.positionY.value,positionZ:m.positionZ.value};m=i(p,e)}if(c.set(p,null===f?m:f),null!==f){if(null===h){if(null===o)throw new Error("Missing the native OfflineAudioContext constructor.");const e=new o(6,d.context.length,p.sampleRate),r=t(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});r.connect(e.destination),h=(async()=>{const t=await Promise.all([d.orientationX,d.orientationY,d.orientationZ,d.positionX,d.positionY,d.positionZ].map((async(t,r)=>{const i=n(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:0===r?1:0});return await a(e,t,i.offset),i})));for(let e=0;e<6;e+=1)t[e].connect(r,0,e),t[e].start(0);return u(e)})()}const e=await h,s=r(p,{...g,gain:1});await l(d,p,s);const c=[];for(let t=0;t<e.numberOfChannels;t+=1)c.push(e.getChannelData(t));let m=[c[0][0],c[1][0],c[2][0]],y=[c[3][0],c[4][0],c[5][0]],_=r(p,{...g,gain:1}),b=i(p,{...v,orientationX:m[0],orientationY:m[1],orientationZ:m[2],positionX:y[0],positionY:y[1],positionZ:y[2]});s.connect(_).connect(b.inputs[0]),b.connect(f);for(let t=128;t<e.length;t+=128){const e=[c[0][t],c[1][t],c[2][t]],n=[c[3][t],c[4][t],c[5][t]];if(e.some(((e,t)=>e!==m[t]))||n.some(((e,t)=>e!==y[t]))){m=e,y=n;const o=t/p.sampleRate;_.gain.setValueAtTime(0,o),_=r(p,{...g,gain:0}),b=i(p,{...v,orientationX:m[0],orientationY:m[1],orientationZ:m[2],positionX:y[0],positionY:y[1],positionZ:y[2]}),_.gain.setValueAtTime(1,o),s.connect(_).connect(b.inputs[0]),b.connect(f)}}return f}return y?(await e(p,d.orientationX,m.orientationX),await e(p,d.orientationY,m.orientationY),await e(p,d.orientationZ,m.orientationZ),await e(p,d.positionX,m.positionX),await e(p,d.positionY,m.positionY),await e(p,d.positionZ,m.positionZ)):(await a(p,d.orientationX,m.orientationX),await a(p,d.orientationY,m.orientationY),await a(p,d.orientationZ,m.orientationZ),await a(p,d.positionX,m.positionX),await a(p,d.positionY,m.positionY),await a(p,d.positionZ,m.positionZ)),K(m)?await l(d,p,m.inputs[0]):await l(d,p,m),m})(d,p)}}})(en,fn,bn,Xe,Qn,ie,It,nn,Mt,Nn),Xn=((e,t,n,r,i,s,o)=>class extends e{constructor(e,a){const l=i(e),u={...it,...a},c=n(l,u),h=s(l);super(e,!1,c,h?r():null),this._nativePannerNode=c,this._orientationX=t(this,h,c.orientationX,V,F),this._orientationY=t(this,h,c.orientationY,V,F),this._orientationZ=t(this,h,c.orientationZ,V,F),this._positionX=t(this,h,c.positionX,V,F),this._positionY=t(this,h,c.positionY,V,F),this._positionZ=t(this,h,c.positionZ,V,F),o(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(e){this._nativePannerNode.coneInnerAngle=e}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(e){this._nativePannerNode.coneOuterAngle=e}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(e){this._nativePannerNode.coneOuterGain=e}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(e){this._nativePannerNode.distanceModel=e}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(e){this._nativePannerNode.maxDistance=e}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(e){this._nativePannerNode.panningModel=e}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(e){this._nativePannerNode.refDistance=e}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(e){this._nativePannerNode.rolloffFactor=e}})(Bt,sn,Qn,Yn,jt,Nt,cn),Zn=(e=>(t,n)=>{let{disableNormalization:r,imag:i,real:s}=n;const o=i instanceof Float32Array?i:new Float32Array(i),a=s instanceof Float32Array?s:new Float32Array(s),l=t.createPeriodicWave(a,o,{disableNormalization:r});if(Array.from(i).length<2)throw e();return l})(D),Kn=((e,t,n,r)=>class i{constructor(i,s){const o=t(i),a=r({...st,...s}),l=e(o,a);return n.add(l),l}static[Symbol.hasInstance](e){return null!==e&&"object"===typeof e&&Object.getPrototypeOf(e)===i.prototype||n.has(e)}})(Zn,jt,new WeakSet,(e=>{const{imag:t,real:n}=e;return void 0===t?void 0===n?{...e,imag:[0,0],real:[0,0]}:{...e,imag:Array.from(n,(()=>0)),real:n}:void 0===n?{...e,imag:t,real:Array.from(t,(()=>0))}:{...e,imag:t,real:n}})),Jn=((e,t,n,r,i,s)=>{const o=16385,a=new Float32Array([1,1]),l=Math.PI/2,u={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},c={...u,oversample:"none"},h=(e,s,h,d,p)=>{if(1===s)return((e,t,i,s)=>{const h=new Float32Array(o),d=new Float32Array(o);for(let n=0;n<o;n+=1){const e=n/16384*l;h[n]=Math.cos(e),d[n]=Math.sin(e)}const p=n(e,{...u,gain:0}),f=r(e,{...c,curve:h}),m=r(e,{...c,curve:a}),g=n(e,{...u,gain:0}),v=r(e,{...c,curve:d});return{connectGraph(){t.connect(p),t.connect(void 0===m.inputs?m:m.inputs[0]),t.connect(g),m.connect(i),i.connect(void 0===f.inputs?f:f.inputs[0]),i.connect(void 0===v.inputs?v:v.inputs[0]),f.connect(p.gain),v.connect(g.gain),p.connect(s,0,0),g.connect(s,0,1)},disconnectGraph(){t.disconnect(p),t.disconnect(void 0===m.inputs?m:m.inputs[0]),t.disconnect(g),m.disconnect(i),i.disconnect(void 0===f.inputs?f:f.inputs[0]),i.disconnect(void 0===v.inputs?v:v.inputs[0]),f.disconnect(p.gain),v.disconnect(g.gain),p.disconnect(s,0,0),g.disconnect(s,0,1)}}})(e,h,d,p);if(2===s)return((e,i,s,h)=>{const d=new Float32Array(o),p=new Float32Array(o),f=new Float32Array(o),m=new Float32Array(o),g=Math.floor(8192.5);for(let t=0;t<o;t+=1)if(t>g){const e=(t-g)/(16384-g)*l;d[t]=Math.cos(e),p[t]=Math.sin(e),f[t]=0,m[t]=1}else{const e=t/(16384-g)*l;d[t]=1,p[t]=0,f[t]=Math.cos(e),m[t]=Math.sin(e)}const v=t(e,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),y=n(e,{...u,gain:0}),_=r(e,{...c,curve:d}),b=n(e,{...u,gain:0}),x=r(e,{...c,curve:p}),w=r(e,{...c,curve:a}),k=n(e,{...u,gain:0}),C=r(e,{...c,curve:f}),S=n(e,{...u,gain:0}),T=r(e,{...c,curve:m});return{connectGraph(){i.connect(v),i.connect(void 0===w.inputs?w:w.inputs[0]),v.connect(y,0),v.connect(b,0),v.connect(k,1),v.connect(S,1),w.connect(s),s.connect(void 0===_.inputs?_:_.inputs[0]),s.connect(void 0===x.inputs?x:x.inputs[0]),s.connect(void 0===C.inputs?C:C.inputs[0]),s.connect(void 0===T.inputs?T:T.inputs[0]),_.connect(y.gain),x.connect(b.gain),C.connect(k.gain),T.connect(S.gain),y.connect(h,0,0),k.connect(h,0,0),b.connect(h,0,1),S.connect(h,0,1)},disconnectGraph(){i.disconnect(v),i.disconnect(void 0===w.inputs?w:w.inputs[0]),v.disconnect(y,0),v.disconnect(b,0),v.disconnect(k,1),v.disconnect(S,1),w.disconnect(s),s.disconnect(void 0===_.inputs?_:_.inputs[0]),s.disconnect(void 0===x.inputs?x:x.inputs[0]),s.disconnect(void 0===C.inputs?C:C.inputs[0]),s.disconnect(void 0===T.inputs?T:T.inputs[0]),_.disconnect(y.gain),x.disconnect(b.gain),C.disconnect(k.gain),T.disconnect(S.gain),y.disconnect(h,0,0),k.disconnect(h,0,0),b.disconnect(h,0,1),S.disconnect(h,0,1)}}})(e,h,d,p);throw i()};return(t,r)=>{let{channelCount:o,channelCountMode:a,pan:l,...u}=r;if("max"===a)throw i();const c=e(t,{...u,channelCount:1,channelCountMode:a,numberOfInputs:2}),d=n(t,{...u,channelCount:o,channelCountMode:a,gain:1}),p=n(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:l});let{connectGraph:f,disconnectGraph:m}=h(t,o,d,p,c);Object.defineProperty(p.gain,"defaultValue",{get:()=>0}),Object.defineProperty(p.gain,"maxValue",{get:()=>1}),Object.defineProperty(p.gain,"minValue",{get:()=>-1});const g={get bufferSize(){},get channelCount(){return d.channelCount},set channelCount(e){d.channelCount!==e&&(v&&m(),({connectGraph:f,disconnectGraph:m}=h(t,e,d,p,c)),v&&f()),d.channelCount=e},get channelCountMode(){return d.channelCountMode},set channelCountMode(e){if("clamped-max"===e||"max"===e)throw i();d.channelCountMode=e},get channelInterpretation(){return d.channelInterpretation},set channelInterpretation(e){d.channelInterpretation=e},get context(){return d.context},get inputs(){return[d]},get numberOfInputs(){return d.numberOfInputs},get numberOfOutputs(){return d.numberOfOutputs},get pan(){return p.gain},addEventListener(){return d.addEventListener(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2])},dispatchEvent(){return d.dispatchEvent(arguments.length<=0?void 0:arguments[0])},removeEventListener(){return d.removeEventListener(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2])}};let v=!1;return s(Qe(g,c),(()=>{f(),v=!0}),(()=>{m(),v=!1}))}})(fn,He,Xe,$n,tt,dn),er=((e,t)=>(n,r)=>{const i=r.channelCountMode;if("clamped-max"===i)throw t();if(void 0===n.createStereoPanner)return e(n,r);const s=n.createStereoPanner();return Ve(s,r),We(s,r,"pan"),Object.defineProperty(s,"channelCountMode",{get:()=>i,set:e=>{if(e!==i)throw t()}}),s})(Jn,tt),tr=((e,t,n,r,i)=>()=>{const s=new WeakMap;return{render(o,a){const l=s.get(a);return void 0!==l?Promise.resolve(l):(async(o,a)=>{let l=n(o);const u=I(l,a);if(!u){const e={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,pan:l.pan.value};l=t(a,e)}return s.set(a,l),u?await e(a,o.pan,l.pan):await r(a,o.pan,l.pan),K(l)?await i(o,a,l.inputs[0]):await i(o,a,l),l})(o,a)}}})(en,er,ie,nn,Mt),nr=((e,t,n,r,i,s)=>class extends e{constructor(e,o){const a=i(e),l={...ot,...o},u=n(a,l),c=s(a);super(e,!1,u,c?r():null),this._pan=t(this,c,u.pan)}get pan(){return this._pan}})(Bt,sn,er,tr,jt,Nt),rr=((e,t,n)=>()=>{const r=new WeakMap;return{render(i,s){const o=r.get(s);return void 0!==o?Promise.resolve(o):(async(i,s)=>{let o=t(i);if(!I(o,s)){const t={channelCount:o.channelCount,channelCountMode:o.channelCountMode,channelInterpretation:o.channelInterpretation,curve:o.curve,oversample:o.oversample};o=e(s,t)}return r.set(s,o),K(o)?await n(i,s,o.inputs[0]):await n(i,s,o),o})(i,s)}}})($n,ie,Mt),ir=((e,t,n,r,i,s,o)=>class extends e{constructor(e,t){const a=i(e),l={...lt,...t},u=n(a,l);super(e,!0,u,s(a)?r():null),this._isCurveNullified=!1,this._nativeWaveShaperNode=u,o(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(e){if(null===e)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(e.length<2)throw t();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=e}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(e){this._nativeWaveShaperNode.oversample=e}})(Bt,je,$n,rr,jt,Nt,cn),sr=(e=>null!==e&&e.isSecureContext)(Tt),or=(e=>(t,n,r)=>{Object.defineProperties(e,{currentFrame:{configurable:!0,get:()=>Math.round(t*n)},currentTime:{configurable:!0,get:()=>t}});try{return r()}finally{null!==e&&(delete e.currentFrame,delete e.currentTime)}})(Tt),ar=new WeakMap,lr=((e,t)=>n=>{let r=e.get(n);if(void 0!==r)return r;if(null===t)throw new Error("Missing the native OfflineAudioContext constructor.");return r=new t(1,1,44100),e.set(n,r),r})(ar,It),ur=sr?((e,t,n,r,i,s,o,a,l,u,c,h,d)=>{let p=0;return function(f,m){let g=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{credentials:"omit"};const y=c.get(f);if(void 0!==y&&y.has(m))return Promise.resolve();const _=u.get(f);if(void 0!==_){const e=_.get(m);if(void 0!==e)return e}const b=s(f),C=void 0===b.audioWorklet?i(m).then((e=>{let[t,r]=e;const[i,s]=x(t,r);return n(`${i};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${s}\n})})(window,'_AWGS')`)})).then((()=>{const e=d._AWGS.pop();if(void 0===e)throw new SyntaxError;r(b.currentTime,b.sampleRate,(()=>e(class{},void 0,((e,n)=>{if(""===e.trim())throw t();const r=v.get(b);if(void 0!==r){if(r.has(e))throw t();k(n),w(n.parameterDescriptors),r.set(e,n)}else k(n),w(n.parameterDescriptors),v.set(b,new Map([[e,n]]))}),b.sampleRate,void 0,void 0)))})):Promise.all([i(m),Promise.resolve(e(h,h))]).then((e=>{let[[t,n],r]=e;const i=p+1;p=i;const[s,u]=x(t,n),c=new Blob([`${s};((AudioWorkletProcessor,registerProcessor)=>{${u}\n})(${r?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${r?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${r?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${i}',class extends AudioWorkletProcessor{process(){return !1}})`],{type:"application/javascript; charset=utf-8"}),h=URL.createObjectURL(c);return b.audioWorklet.addModule(h,g).then((()=>{if(a(b))return b;const e=o(b);return e.audioWorklet.addModule(h,g).then((()=>e))})).then((e=>{if(null===l)throw new SyntaxError;try{new l(e,`__sac${i}`)}catch{throw new SyntaxError}})).finally((()=>URL.revokeObjectURL(h)))}));return void 0===_?u.set(f,new Map([[m,C]])):_.set(m,C),C.then((()=>{const e=c.get(f);void 0===e?c.set(f,new Set([m])):e.add(m)})).finally((()=>{const e=u.get(f);void 0!==e&&e.delete(m)})),C}})(kt,tt,(e=>t=>new Promise(((n,r)=>{if(null===e)return void r(new SyntaxError);const i=e.document.head;if(null===i)r(new SyntaxError);else{const s=e.document.createElement("script"),o=new Blob([t],{type:"application/javascript"}),a=URL.createObjectURL(o),l=e.onerror,u=()=>{e.onerror=l,URL.revokeObjectURL(a)};e.onerror=(t,n,i,s,o)=>n===a||n===e.location.href&&1===i&&1===s?(u(),r(o),!1):null!==l?l(t,n,i,s,o):void 0,s.onerror=()=>{u(),r(new SyntaxError)},s.onload=()=>{u(),n()},s.src=a,s.type="module",i.appendChild(s)}})))(Tt),or,(e=>async t=>{try{const e=await fetch(t);if(e.ok)return[await e.text(),e.url]}catch{}throw e()})((()=>new DOMException("","AbortError"))),jt,lr,Nt,Wt,new WeakMap,new WeakMap,((e,t)=>async()=>{if(null===e)return!0;if(null===t)return!1;const n=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),r=new t(1,128,44100),i=URL.createObjectURL(n);let s=!1,o=!1;try{await r.audioWorklet.addModule(i);const t=new e(r,"a",{numberOfOutputs:0}),n=r.createOscillator();t.port.onmessage=()=>s=!0,t.onprocessorerror=()=>o=!0,n.connect(t),n.start(0),await r.startRendering(),await new Promise((e=>setTimeout(e)))}catch{}finally{URL.revokeObjectURL(i)}return s&&!o})(Wt,It),Tt):void 0,cr=((e,t)=>n=>e(n)||t(n))(Ft,Nt),hr=((e,t,n,r,i,s,o,a,l,u,c)=>(h,d)=>{const p=o(h)?h:s(h);if(i.has(d)){const e=n();return Promise.reject(e)}try{i.add(d)}catch{}return t(l,(()=>l(p)))?p.decodeAudioData(d).then((n=>(Te(d).catch((()=>{})),t(a,(()=>a(n)))||c(n),e.add(n),n))):new Promise(((t,n)=>{const i=async()=>{try{await Te(d)}catch{}},s=e=>{n(e),i()};try{p.decodeAudioData(d,(n=>{"function"!==typeof n.copyFromChannel&&(u(n),R(n)),e.add(n),i().then((()=>t(n)))}),(e=>{s(null===e?r():e)}))}catch(o){s(o)}}))})(Gt,kt,(()=>new DOMException("","DataCloneError")),(()=>new DOMException("","EncodingError")),new WeakSet,jt,cr,N,Re,Yt,Xt),dr=((e,t,n,r,i,s,o,a,l,u,c,h,d,p,f,m,g,v,y,_)=>class extends f{constructor(t,n){super(t,n),this._nativeContext=t,this._audioWorklet=void 0===e?void 0:{addModule:(t,n)=>e(this,t,n)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new t(this)}createBiquadFilter(){return new i(this)}createBuffer(e,t,r){return new n({length:t,numberOfChannels:e,sampleRate:r})}createBufferSource(){return new r(this)}createChannelMerger(){return new s(this,{numberOfInputs:arguments.length>0&&void 0!==arguments[0]?arguments[0]:6})}createChannelSplitter(){return new o(this,{numberOfOutputs:arguments.length>0&&void 0!==arguments[0]?arguments[0]:6})}createConstantSource(){return new a(this)}createConvolver(){return new l(this)}createDelay(){return new c(this,{maxDelayTime:arguments.length>0&&void 0!==arguments[0]?arguments[0]:1})}createDynamicsCompressor(){return new h(this)}createGain(){return new d(this)}createIIRFilter(e,t){return new p(this,{feedback:t,feedforward:e})}createOscillator(){return new m(this)}createPanner(){return new g(this)}createPeriodicWave(e,t){return new v(this,{...arguments.length>2&&void 0!==arguments[2]?arguments[2]:{disableNormalization:!1},imag:t,real:e})}createStereoPanner(){return new y(this)}createWaveShaper(){return new _(this)}decodeAudioData(e,t,n){return u(this._nativeContext,e).then((e=>("function"===typeof t&&t(e),e)),(e=>{throw"function"===typeof n&&n(e),e}))}})(ur,Ut,Zt,an,hn,gn,yn,wn,Sn,hr,En,Pn,On,zn,Ln,qn,Xn,Kn,nr,ir),pr=((e,t,n,r)=>class extends e{constructor(e,i){const s=n(e),o=t(s,i);if(r(s))throw TypeError();super(e,!0,o,null),this._nativeMediaElementAudioSourceNode=o}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}})(Bt,((e,t)=>e.createMediaElementSource(t.mediaElement)),jt,Nt),fr=((e,t,n,r)=>class extends e{constructor(e,i){const s=n(e);if(r(s))throw new TypeError;const o={...De,...i},a=t(s,o);super(e,!1,a,null),this._nativeMediaStreamAudioDestinationNode=a}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}})(Bt,((e,t)=>{const n=e.createMediaStreamDestination();return Ve(n,t),1===n.numberOfOutputs&&Object.defineProperty(n,"numberOfOutputs",{get:()=>0}),n}),jt,Nt),mr=((e,t,n,r)=>class extends e{constructor(e,i){const s=n(e),o=t(s,i);if(r(s))throw new TypeError;super(e,!0,o,null),this._nativeMediaStreamAudioSourceNode=o}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}})(Bt,((e,t)=>{let{mediaStream:n}=t;const r=n.getAudioTracks();r.sort(((e,t)=>e.id<t.id?-1:e.id>t.id?1:0));const i=r.slice(0,1),s=e.createMediaStreamSource(new MediaStream(i));return Object.defineProperty(s,"mediaStream",{value:n}),s}),jt,Nt),gr=((e,t)=>(n,r)=>{let{mediaStreamTrack:i}=r;if("function"===typeof n.createMediaStreamTrackSource)return n.createMediaStreamTrackSource(i);const s=new MediaStream([i]),o=n.createMediaStreamSource(s);if("audio"!==i.kind)throw e();if(t(n))throw new TypeError;return o})(je,Nt),vr=((e,t,n)=>class extends e{constructor(e,r){const i=n(e);super(e,!0,t(i,r),null)}})(Bt,gr,jt),yr=((e,t,n,r,i,s,o,a,l)=>class extends e{constructor(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(null===l)throw new Error("Missing the native AudioContext constructor.");try{e=new l(t)}catch(o){if(12===o.code&&"sampleRate is not in range"===o.message)throw n();throw o}if(null===e)throw r();if(!$(t.latencyHint))throw new TypeError(`The provided value '${t.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(void 0!==t.sampleRate&&e.sampleRate!==t.sampleRate)throw n();super(e,2);const{latencyHint:i}=t,{sampleRate:s}=e;if(this._baseLatency="number"===typeof e.baseLatency?e.baseLatency:"balanced"===i?512/s:"interactive"===i||void 0===i?256/s:"playback"===i?1024/s:128*Math.max(2,Math.min(128,Math.round(i*s/128)))/s,this._nativeAudioContext=e,"webkitAudioContext"===l.name?(this._nativeGainNode=e.createGain(),this._nativeOscillatorNode=e.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(e.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,"running"===e.state){this._state="suspended";const t=()=>{"suspended"===this._state&&(this._state=null),e.removeEventListener("statechange",t)};e.addEventListener("statechange",t)}}get baseLatency(){return this._baseLatency}get state(){return null!==this._state?this._state:this._nativeAudioContext.state}close(){return"closed"===this.state?this._nativeAudioContext.close().then((()=>{throw t()})):("suspended"===this._state&&(this._state=null),this._nativeAudioContext.close().then((()=>{null!==this._nativeGainNode&&null!==this._nativeOscillatorNode&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),G(this)})))}createMediaElementSource(e){return new i(this,{mediaElement:e})}createMediaStreamDestination(){return new s(this)}createMediaStreamSource(e){return new o(this,{mediaStream:e})}createMediaStreamTrackSource(e){return new a(this,{mediaStreamTrack:e})}resume(){return"suspended"===this._state?new Promise(((e,t)=>{const n=()=>{this._nativeAudioContext.removeEventListener("statechange",n),"running"===this._nativeAudioContext.state?e():this.resume().then(e,t)};this._nativeAudioContext.addEventListener("statechange",n)})):this._nativeAudioContext.resume().catch((e=>{if(void 0===e||15===e.code)throw t();throw e}))}suspend(){return this._nativeAudioContext.suspend().catch((e=>{if(void 0===e)throw t();throw e}))}})(dr,je,tt,at,pr,fr,mr,vr,zt),_r=(e=>t=>{const n=e.get(t);if(void 0===n)throw new Error("The context has no set of AudioWorkletNodes.");return n})(Vn),br=(e=>(t,n)=>{e(t).add(n)})(_r),xr=(e=>function(t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const i=t[arguments.length>2&&void 0!==arguments[2]?arguments[2]:0];if(void 0===i)throw e();return ce(n)?i.connect(n,0,r):i.connect(n,0)})(D),wr=(e=>(t,n)=>{e(t).delete(n)})(_r),kr=(e=>function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return void 0===n?t.forEach((e=>e.disconnect())):"number"===typeof n?Ae(e,t,n).disconnect():ce(n)?void 0===r?t.forEach((e=>e.disconnect(n))):void 0===i?Ae(e,t,r).disconnect(n,0):Ae(e,t,r).disconnect(n,0,i):void 0===r?t.forEach((e=>e.disconnect(n))):Ae(e,t,r).disconnect(n,0)})(D),Cr=new WeakMap,Sr=((e,t)=>n=>t(e,n))(Cr,C),Tr=((e,t,n,r,i,s,o,a,l,u,c,h,d)=>(p,f,m,g)=>{if(0===g.numberOfInputs&&0===g.numberOfOutputs)throw l();const v=Array.isArray(g.outputChannelCount)?g.outputChannelCount:Array.from(g.outputChannelCount);if(v.some((e=>e<1)))throw l();if(v.length!==g.numberOfOutputs)throw t();if("explicit"!==g.channelCountMode)throw l();const _=g.channelCount*g.numberOfInputs,b=v.reduce(((e,t)=>e+t),0),x=void 0===m.parameterDescriptors?0:m.parameterDescriptors.length;if(_+x>6||b>6)throw l();const w=new MessageChannel,k=[],C=[];for(let e=0;e<g.numberOfInputs;e+=1)k.push(o(p,{channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,gain:1})),C.push(i(p,{channelCount:g.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:g.channelCount}));const S=[];if(void 0!==m.parameterDescriptors)for(const{defaultValue:e,maxValue:t,minValue:n,name:r}of m.parameterDescriptors){const i=s(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:void 0!==g.parameterData[r]?g.parameterData[r]:void 0===e?0:e});Object.defineProperties(i.offset,{defaultValue:{get:()=>void 0===e?0:e},maxValue:{get:()=>void 0===t?V:t},minValue:{get:()=>void 0===n?F:n}}),S.push(i)}const T=r(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,_+x)}),E=Ue(f,p.sampleRate),A=a(p,E,_+x,Math.max(1,b)),M=i(p,{channelCount:Math.max(1,b),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,b)}),P=[];for(let e=0;e<g.numberOfOutputs;e+=1)P.push(r(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:v[e]}));for(let e=0;e<g.numberOfInputs;e+=1){k[e].connect(C[e]);for(let t=0;t<g.channelCount;t+=1)C[e].connect(T,t,e*g.channelCount+t)}const j=new me(void 0===m.parameterDescriptors?[]:m.parameterDescriptors.map(((e,t)=>{let{name:n}=e;const r=S[t];return r.connect(T,0,_+t),r.start(0),[n,r.offset]})));T.connect(A);let O=g.channelInterpretation,I=null;const N=0===g.numberOfOutputs?[A]:P,D={get bufferSize(){return E},get channelCount(){return g.channelCount},set channelCount(e){throw n()},get channelCountMode(){return g.channelCountMode},set channelCountMode(e){throw n()},get channelInterpretation(){return O},set channelInterpretation(e){for(const t of k)t.channelInterpretation=e;O=e},get context(){return A.context},get inputs(){return k},get numberOfInputs(){return g.numberOfInputs},get numberOfOutputs(){return g.numberOfOutputs},get onprocessorerror(){return I},set onprocessorerror(e){"function"===typeof I&&D.removeEventListener("processorerror",I),I="function"===typeof e?e:null,"function"===typeof I&&D.addEventListener("processorerror",I)},get parameters(){return j},get port(){return w.port2},addEventListener(){return A.addEventListener(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2])},connect:e.bind(null,N),disconnect:u.bind(null,N),dispatchEvent(){return A.dispatchEvent(arguments.length<=0?void 0:arguments[0])},removeEventListener(){return A.removeEventListener(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2])}},R=new Map;var z,L;w.port1.addEventListener=(z=w.port1.addEventListener,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if("message"===t[0]){const e="function"===typeof t[1]?t[1]:"object"===typeof t[1]&&null!==t[1]&&"function"===typeof t[1].handleEvent?t[1].handleEvent:null;if(null!==e){const n=R.get(t[1]);void 0!==n?t[1]=n:(t[1]=t=>{c(p.currentTime,p.sampleRate,(()=>e(t)))},R.set(e,t[1]))}}return z.call(w.port1,t[0],t[1],t[2])}),w.port1.removeEventListener=(L=w.port1.removeEventListener,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if("message"===t[0]){const e=R.get(t[1]);void 0!==e&&(R.delete(t[1]),t[1]=e)}return L.call(w.port1,t[0],t[1],t[2])});let W=null;Object.defineProperty(w.port1,"onmessage",{get:()=>W,set:e=>{"function"===typeof W&&w.port1.removeEventListener("message",W),W="function"===typeof e?e:null,"function"===typeof W&&(w.port1.addEventListener("message",W),w.port1.start())}}),m.prototype.port=w.port1;let B=null;const q=((e,t,n,r)=>{let i=y.get(e);void 0===i&&(i=new WeakMap,y.set(e,i));const s=Ge(n,r);return i.set(t,s),s})(p,D,m,g);q.then((e=>B=e));const U=_e(g.numberOfInputs,g.channelCount),G=_e(g.numberOfOutputs,v),$=void 0===m.parameterDescriptors?[]:m.parameterDescriptors.reduce(((e,t)=>{let{name:n}=t;return{...e,[n]:new Float32Array(128)}}),{});let H=!0;const Q=()=>{g.numberOfOutputs>0&&A.disconnect(M);for(let e=0,t=0;e<g.numberOfOutputs;e+=1){const n=P[e];for(let r=0;r<v[e];r+=1)M.disconnect(n,t+r,r);t+=v[e]}},Y=new Map;A.onaudioprocess=e=>{let{inputBuffer:t,outputBuffer:n}=e;if(null!==B){const e=h(D);for(let i=0;i<E;i+=128){for(let e=0;e<g.numberOfInputs;e+=1)for(let n=0;n<g.channelCount;n+=1)ve(t,U[e],n,n,i);void 0!==m.parameterDescriptors&&m.parameterDescriptors.forEach(((e,n)=>{let{name:r}=e;ve(t,$,r,_+n,i)}));for(let e=0;e<g.numberOfInputs;e+=1)for(let t=0;t<v[e];t+=1)0===G[e][t].byteLength&&(G[e][t]=new Float32Array(128));try{const t=U.map(((t,n)=>{if(e[n].size>0)return Y.set(n,E/128),t;const r=Y.get(n);return void 0===r?[]:(t.every((e=>e.every((e=>0===e))))&&(1===r?Y.delete(n):Y.set(n,r-1)),t)})),r=c(p.currentTime+i/p.sampleRate,p.sampleRate,(()=>B.process(t,G,$)));H=r;for(let e=0,s=0;e<g.numberOfOutputs;e+=1){for(let t=0;t<v[e];t+=1)ye(n,G[e],t,s+t,i);s+=v[e]}}catch(r){H=!1,D.dispatchEvent(new ErrorEvent("processorerror",{colno:r.colno,filename:r.filename,lineno:r.lineno,message:r.message}))}if(!H){for(let e=0;e<g.numberOfInputs;e+=1){k[e].disconnect(C[e]);for(let t=0;t<g.channelCount;t+=1)C[i].disconnect(T,t,e*g.channelCount+t)}if(void 0!==m.parameterDescriptors){const e=m.parameterDescriptors.length;for(let t=0;t<e;t+=1){const e=S[t];e.disconnect(T,0,_+t),e.stop()}}T.disconnect(A),A.onaudioprocess=null,X?Q():J();break}}}};let X=!1;const Z=o(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),K=()=>A.connect(Z).connect(p.destination),J=()=>{A.disconnect(Z),Z.disconnect()};return K(),d(D,(()=>{if(H){J(),g.numberOfOutputs>0&&A.connect(M);for(let e=0,t=0;e<g.numberOfOutputs;e+=1){const n=P[e];for(let r=0;r<v[e];r+=1)M.connect(n,t+r,r);t+=v[e]}}X=!0}),(()=>{H&&(K(),Q()),X=!1}))})(xr,D,je,fn,He,bn,Xe,et,tt,kr,or,Sr,dn),Er=((e,t,n,r,i)=>(s,o,a,l,u,c)=>{if(null!==a)try{const t=new a(s,l,c),r=new Map;let o=null;if(Object.defineProperties(t,{channelCount:{get:()=>c.channelCount,set:()=>{throw e()}},channelCountMode:{get:()=>"explicit",set:()=>{throw e()}},onprocessorerror:{get:()=>o,set:e=>{"function"===typeof o&&t.removeEventListener("processorerror",o),o="function"===typeof e?e:null,"function"===typeof o&&t.addEventListener("processorerror",o)}}}),t.addEventListener=(d=t.addEventListener,function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];if("processorerror"===n[0]){const e="function"===typeof n[1]?n[1]:"object"===typeof n[1]&&null!==n[1]&&"function"===typeof n[1].handleEvent?n[1].handleEvent:null;if(null!==e){const t=r.get(n[1]);void 0!==t?n[1]=t:(n[1]=t=>{"error"===t.type?(Object.defineProperties(t,{type:{value:"processorerror"}}),e(t)):e(new ErrorEvent(n[0],{...t}))},r.set(e,n[1]))}}return d.call(t,"error",n[1],n[2]),d.call(t,...n)}),t.removeEventListener=(h=t.removeEventListener,function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];if("processorerror"===n[0]){const e=r.get(n[1]);void 0!==e&&(r.delete(n[1]),n[1]=e)}return h.call(t,"error",n[1],n[2]),h.call(t,n[0],n[1],n[2])}),0!==c.numberOfOutputs){const e=n(s,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});t.connect(e).connect(s.destination);return i(t,(()=>e.disconnect()),(()=>e.connect(s.destination)))}return t}catch(p){if(11===p.code)throw r();throw p}var h,d;if(void 0===u)throw r();return(e=>{const{port1:t}=new MessageChannel;try{t.postMessage(e)}finally{t.close()}})(c),t(s,o,u,c)})(je,Tr,Xe,tt,dn),Ar=((e,t,n,r,i,s,o,a,l,u,c,h,d,p,f,m)=>(g,v,y)=>{const _=new WeakMap;let b=null;return{render(x,w){a(w,x);const k=_.get(w);return void 0!==k?Promise.resolve(k):(async(a,x)=>{let w=c(a),k=null;const C=I(w,x),S=Array.isArray(v.outputChannelCount)?v.outputChannelCount:Array.from(v.outputChannelCount);if(null===h){const e=S.reduce(((e,t)=>e+t),0),n=i(x,{channelCount:Math.max(1,e),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,e)}),s=[];for(let t=0;t<a.numberOfOutputs;t+=1)s.push(r(x,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:S[t]}));const u=o(x,{channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,gain:1});u.connect=t.bind(null,s),u.disconnect=l.bind(null,s),k=[n,s,u]}else C||(w=new h(x,g));if(_.set(x,null===k?w:k[2]),null!==k){if(null===b){if(void 0===y)throw new Error("Missing the processor constructor.");if(null===d)throw new Error("Missing the native OfflineAudioContext constructor.");const e=a.channelCount*a.numberOfInputs,t=void 0===y.parameterDescriptors?0:y.parameterDescriptors.length,n=e+t,l=async()=>{const l=new d(n,128*Math.ceil(a.context.length/128),x.sampleRate),u=[],c=[];for(let e=0;e<v.numberOfInputs;e+=1)u.push(o(l,{channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,gain:1})),c.push(i(l,{channelCount:v.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:v.channelCount}));const h=await Promise.all(Array.from(a.parameters.values()).map((async e=>{const t=s(l,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:e.value});return await p(l,e,t.offset),t}))),g=r(l,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,e+t)});for(let e=0;e<v.numberOfInputs;e+=1){u[e].connect(c[e]);for(let t=0;t<v.channelCount;t+=1)c[e].connect(g,t,e*v.channelCount+t)}for(const[t,n]of h.entries())n.connect(g,0,e+t),n.start(0);return g.connect(l.destination),await Promise.all(u.map((e=>f(a,l,e)))),m(l)};b=be(a,0===n?null:await l(),x,v,S,y,u)}const e=await b,t=n(x,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[l,c,h]=k;null!==e&&(t.buffer=e,t.start(0)),t.connect(l);for(let n=0,r=0;n<a.numberOfOutputs;n+=1){const e=c[n];for(let t=0;t<S[n];t+=1)l.connect(e,r+t,t);r+=S[n]}return h}if(C)for(const[t,n]of a.parameters.entries())await e(x,n,w.parameters.get(t));else for(const[e,t]of a.parameters.entries())await p(x,t,w.parameters.get(e));return await f(a,x,w),w})(x,w)}}})(en,xr,tn,fn,He,bn,Xe,wr,kr,or,ie,Wt,It,nn,Mt,Nn),Mr=(e=>t=>e.get(t))(ar),Pr=(e=>(t,n)=>{e.set(t,n)})(Cr),jr=sr?((e,t,n,r,i,s,o,a,l,u,c,h,d,p)=>class extends t{constructor(t,p,f){var m;const g=a(t),y=l(g),_=c({...ge,...f});d(_);const b=v.get(g),x=null===b||void 0===b?void 0:b.get(p),w=y||"closed"!==g.state?g:null!==(m=o(g))&&void 0!==m?m:g,k=i(w,y?null:t.baseLatency,u,p,x,_);super(t,!0,k,y?r(p,_,x):null);const C=[];k.parameters.forEach(((e,t)=>{const r=n(this,y,e);C.push([t,r])})),this._nativeAudioWorkletNode=k,this._onprocessorerror=null,this._parameters=new me(C),y&&e(g,this);const{activeInputs:S}=s(this);h(k,S)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(e){const t="function"===typeof e?p(this,e):null;this._nativeAudioWorkletNode.onprocessorerror=t;const n=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=null!==n&&n===t?e:n}get parameters(){return null===this._parameters?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}})(br,Bt,sn,Ar,Er,B,Mr,jt,Nt,Wt,(e=>({...e,outputChannelCount:void 0!==e.outputChannelCount?e.outputChannelCount:1===e.numberOfInputs&&1===e.numberOfOutputs?[e.channelCount]:Array.from({length:e.numberOfOutputs},(()=>1))})),Pr,(e=>{const{port1:t,port2:n}=new MessageChannel;try{t.postMessage(e)}finally{t.close(),n.close()}}),vt):void 0,Or=(((e,t,n,r,i)=>{})(je,tt,at,Ln,zt),((e,t)=>(n,r,i)=>{if(null===t)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new t(n,r,i)}catch(s){if("SyntaxError"===s.name)throw e();throw s}})(tt,It)),Ir=((e,t,n,r,i,s,o,a)=>(l,u)=>n(l).render(l,u).then((()=>Promise.all(Array.from(r(u)).map((e=>n(e).render(e,u)))))).then((()=>i(u))).then((n=>("function"!==typeof n.copyFromChannel?(o(n),R(n)):t(s,(()=>s(n)))||a(n),e.add(n),n))))(Gt,kt,At,_r,Nn,N,Yt,Xt),Nr=(((e,t,n,r,i)=>{})(kt,je,Or,Ln,Ir),((e,t,n,r,i)=>class extends e{constructor(e,n,i){let s;if("number"===typeof e&&void 0!==n&&void 0!==i)s={length:n,numberOfChannels:e,sampleRate:i};else{if("object"!==typeof e)throw new Error("The given parameters are not valid.");s=e}const{length:o,numberOfChannels:a,sampleRate:l}={...nt,...s},u=r(a,o,l);t(Re,(()=>Re(u)))||u.addEventListener("statechange",(()=>{let e=0;const t=n=>{"running"===this._state&&(e>0?(u.removeEventListener("statechange",t),n.stopImmediatePropagation(),this._waitForThePromiseToSettle(n)):e+=1)};return t})()),super(u,a),this._length=o,this._nativeOfflineAudioContext=u,this._state=null}get length(){return void 0===this._nativeOfflineAudioContext.length?this._length:this._nativeOfflineAudioContext.length}get state(){return null===this._state?this._nativeOfflineAudioContext.state:this._state}startRendering(){return"running"===this._state?Promise.reject(n()):(this._state="running",i(this.destination,this._nativeOfflineAudioContext).finally((()=>{this._state=null,G(this)})))}_waitForThePromiseToSettle(e){null===this._state?this._nativeOfflineAudioContext.dispatchEvent(e):setTimeout((()=>this._waitForThePromiseToSettle(e)))}})(dr,kt,je,Or,Ir)),Dr=((e,t)=>n=>{const r=e.get(n);return t(r)||t(n)})(f,Ft),Rr=((e,t)=>n=>e.has(n)||t(n))(h,Vt),zr=((e,t)=>n=>e.has(n)||t(n))(p,Lt),Fr=((e,t)=>n=>{const r=e.get(n);return t(r)||t(n)})(f,Nt);var Vr,Lr,Wr,Br,qr,Ur,Gr,$r=Object.defineProperty,Hr=Object.defineProperties,Qr=Object.getOwnPropertyDescriptors,Yr=Object.getOwnPropertySymbols,Xr=Object.prototype.hasOwnProperty,Zr=Object.prototype.propertyIsEnumerable,Kr=e=>{throw TypeError(e)},Jr=(e,t,n)=>t in e?$r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ei=(e,t)=>{for(var n in t||(t={}))Xr.call(t,n)&&Jr(e,n,t[n]);if(Yr)for(var n of Yr(t))Zr.call(t,n)&&Jr(e,n,t[n]);return e},ti=(e,t)=>Hr(e,Qr(t)),ni=(e,t,n)=>t.has(e)||Kr("Cannot "+n),ri=(e,t,n)=>(ni(e,t,"read from private field"),n?n.call(e):t.get(e)),ii=(e,t,n)=>t.has(e)?Kr("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),si=(e,t,n,r)=>(ni(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),oi=(e,t,n)=>(ni(e,t,"access private method"),n),ai=(e,t,n)=>new Promise(((r,i)=>{var s=e=>{try{a(n.next(e))}catch(t){i(t)}},o=e=>{try{a(n.throw(e))}catch(t){i(t)}},a=e=>e.done?r(e.value):Promise.resolve(e.value).then(s,o);a((n=n.apply(e,t)).next())}));function li(e){const t=e.filter((e=>!!e));return t.reduce(((e,t)=>{const n="output"in e?e.output:e,r="input"in t?t.input:t;return n.connect(r),t})),()=>{t.reduce(((e,t)=>{const n="output"in e?e.output:e,r="input"in t?t.input:t;return n.disconnect(r),t}))}}function ui(e){let t=e;const n=new Set;return{subscribe:function(e){return n.add(e),e(t),()=>{n.delete(e)}},set:function(e){t=e,n.forEach((e=>e(t)))},get:function(){return t}}}function ci(e){return e*e/16129}var hi,di=class{constructor(e,t){var n,r,i;this.context=e,ii(this,Vr),ii(this,Lr),ii(this,Wr),ii(this,Br),ii(this,qr),ii(this,Ur),ii(this,Gr,!1),si(this,Ur,{destination:null!=(n=null==t?void 0:t.destination)?n:e.destination,volume:null!=(r=null==t?void 0:t.volume)?r:100,volumeToGain:null!=(i=null==t?void 0:t.volumeToGain)?i:ci}),this.input=e.createGain(),si(this,Vr,e.createGain()),si(this,Br,li([this.input,ri(this,Vr),ri(this,Ur).destination]));const s=ui(ri(this,Ur).volume);this.setVolume=s.set,si(this,qr,s.subscribe((e=>{ri(this,Vr).gain.value=ri(this,Ur).volumeToGain(e)})))}addInsert(e){if(ri(this,Gr))throw Error("Can't add insert to disconnected channel");null!=ri(this,Wr)||si(this,Wr,[]),ri(this,Wr).push(e),ri(this,Br).call(this),si(this,Br,li([this.input,...ri(this,Wr),ri(this,Vr),ri(this,Ur).destination]))}addEffect(e,t,n){if(ri(this,Gr))throw Error("Can't add effect to disconnected channel");const r=this.context.createGain();r.gain.value=n;const i="input"in t?t.input:t,s=li([ri(this,Vr),r,i]);null!=ri(this,Lr)||si(this,Lr,[]),ri(this,Lr).push({name:e,mix:r,disconnect:s})}sendEffect(e,t){var n;if(ri(this,Gr))throw Error("Can't send effect to disconnected channel");const r=null==(n=ri(this,Lr))?void 0:n.find((t=>t.name===e));r?r.mix.gain.value=t:console.warn("Send bus not found: "+e)}disconnect(){var e;ri(this,Gr)||(si(this,Gr,!0),ri(this,Br).call(this),ri(this,qr).call(this),null==(e=ri(this,Lr))||e.forEach((e=>e.disconnect())),si(this,Lr,void 0))}};Vr=new WeakMap,Lr=new WeakMap,Wr=new WeakMap,Br=new WeakMap,qr=new WeakMap,Ur=new WeakMap,Gr=new WeakMap;var pi,fi,mi,gi=class{constructor(e){this.compare=e,ii(this,hi,[])}push(e){const t=ri(this,hi).length;let n=0,r=t-1,i=t;for(;n<=r;){const t=Math.floor((n+r)/2);this.compare(e,ri(this,hi)[t])<0?(i=t,r=t-1):n=t+1}ri(this,hi).splice(i,0,e)}pop(){return ri(this,hi).shift()}peek(){return ri(this,hi)[0]}removeAll(e){const t=ri(this,hi).length;return si(this,hi,ri(this,hi).filter((t=>!e(t)))),ri(this,hi).length!==t}clear(){si(this,hi,[])}size(){return ri(this,hi).length}};function vi(e,t){return e&&t?n=>{e(n),t(n)}:null!=e?e:t}hi=new WeakMap;var yi,_i,bi,xi=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ii(this,pi),ii(this,fi),ii(this,mi),si(this,pi,function(e){var t,n,r;const i={disableScheduler:null!=(t=e.disableScheduler)&&t,scheduleLookaheadMs:null!=(n=e.scheduleLookaheadMs)?n:200,scheduleIntervalMs:null!=(r=e.scheduleIntervalMs)?r:50,onStart:e.onStart,onEnded:e.onEnded};if(i.scheduleLookaheadMs<1)throw Error("scheduleLookaheadMs must be greater than 0");if(i.scheduleIntervalMs<1)throw Error("scheduleIntervalMs must be greater than 0");if(i.scheduleLookaheadMs<i.scheduleIntervalMs)throw Error("scheduleLookaheadMs must be greater than scheduleIntervalMs");return i}(t)),si(this,fi,new gi(((e,t)=>e.time-t.time))),this.player=e}get context(){return this.player.context}get buffers(){return this.player.buffers}get isRunning(){return void 0!==ri(this,mi)}start(e){var t;if(ri(this,pi).disableScheduler)return this.player.start(e);const n=this.player.context,r=n.currentTime,i=null!=(t=e.time)?t:r,s=ri(this,pi).scheduleLookaheadMs/1e3;return e.onStart=vi(e.onStart,ri(this,pi).onStart),e.onEnded=vi(e.onEnded,ri(this,pi).onEnded),i<r+s?this.player.start(e):(ri(this,fi).push(ti(ei({},e),{time:i})),ri(this,mi)||si(this,mi,setInterval((()=>{const e=n.currentTime+s;for(;ri(this,fi).size()&&ri(this,fi).peek().time<=e;){const e=ri(this,fi).pop();e&&this.player.start(e)}ri(this,fi).size()||(clearInterval(ri(this,mi)),si(this,mi,void 0))}),ri(this,pi).scheduleIntervalMs)),t=>{(!t||t<i)&&ri(this,fi).removeAll((t=>t===e))||this.player.stop(ti(ei({},e),{time:t}))})}stop(e){var t;if(ri(this,pi).disableScheduler)return this.player.stop(e);if(this.player.stop(e),!e)return void ri(this,fi).clear();const n=null!=(t=null==e?void 0:e.time)?t:0,r=null==e?void 0:e.stopId;r?ri(this,fi).removeAll((e=>e.time>=n&&e.stopId?e.stopId===r:e.note===r)):ri(this,fi).removeAll((e=>e.time>=n))}disconnect(){this.player.disconnect()}};pi=new WeakMap,fi=new WeakMap,mi=new WeakMap;var wi=class{constructor(e,t){var n,r;this.context=e,this.options=t,ii(this,yi),ii(this,_i,!1),ii(this,bi),si(this,yi,{velocityToGain:null!=(n=t.velocityToGain)?n:ci,destination:null!=(r=t.destination)?r:e.destination}),this.buffers={},si(this,bi,function(){const e=new Set;return{subscribe:function(t){return e.add(t),()=>{e.delete(t)}},trigger:function(t){e.forEach((e=>e(t)))}}}())}start(e){var t,n,r,i,s,o,a,l,u,c,h,d,p,f;if(ri(this,_i))throw new Error("Can't start a sample on disconnected player");const m=this.context,g=e.name&&this.buffers[e.name]||this.buffers[e.note];if(!g)return console.warn(`Sample not found: '${e.note}'`),()=>{};const v=m.createBufferSource();v.buffer=g;const y=null!=(n=null!=(t=e.detune)?t:this.options.detune)?n:0;v.detune?v.detune.value=y:v.playbackRate&&(v.playbackRate.value=Math.pow(2,y/1200));const _=null!=(r=e.lpfCutoffHz)?r:this.options.lpfCutoffHz,b=_?m.createBiquadFilter():void 0;_&&b&&(b.type="lowpass",b.frequency.value=_);const x=m.createGain(),w=null!=(s=null!=(i=e.velocity)?i:this.options.velocity)?s:100;x.gain.value=ri(this,yi).velocityToGain(w);(null!=(o=e.loop)?o:this.options.loop)&&(v.loop=!0,v.loopStart=null!=(a=e.loopStart)?a:0,v.loopEnd=null!=(l=e.loopEnd)?l:g.duration);const k=null!=(u=e.decayTime)?u:this.options.decayTime,[C,S]=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.2,n=0;const r=e.createGain();function i(i){if(n)return n;r.gain.cancelScheduledValues(i);const s=i||e.currentTime;return n=s+t,r.gain.setValueAtTime(1,s),r.gain.linearRampToValueAtTime(0,n),n}return r.gain.value=1,[r,i]}(m,k);function T(e){if(null!=e||(e=m.currentTime),e<=P)v.stop(e);else{const t=S(e);v.stop(t)}}const E=e.gainOffset?m.createGain():void 0;E&&e.gainOffset&&(E.gain.value=e.gainOffset);const A=null!=(c=e.stopId)?c:e.note,M=function(e){let t=!1;return()=>{t||(t=!0,e.forEach((e=>null==e?void 0:e())))}}([li([v,b,x,C,E,ri(this,yi).destination]),null==(h=e.stop)?void 0:h.call(e,T),ri(this,bi).subscribe((e=>{e&&void 0!==e.stopId&&e.stopId!==A||T(null==e?void 0:e.time)}))]);v.onended=()=>{var t;M(),null==(t=e.onEnded)||t.call(e,e)},null==(d=e.onStart)||d.call(e,e);const P=Math.max(null!=(p=e.time)?p:0,m.currentTime);v.start(e.time);let j=null!=(f=e.duration)?f:g.duration;return"number"==typeof e.duration&&T(P+j),T}stop(e){ri(this,bi).trigger(e)}disconnect(){ri(this,_i)||(si(this,_i,!0),this.stop(),Object.keys(this.buffers).forEach((e=>{delete this.buffers[e]})))}get connected(){return!ri(this,_i)}};yi=new WeakMap,_i=new WeakMap,bi=new WeakMap;var ki=class{constructor(e,t){this.context=e;const n=new di(e,t);this.player=new xi(new wi(e,ti(ei({},t),{destination:n.input})),t),this.output=n}get buffers(){return this.player.buffers}start(e){return this.player.start(e)}stop(e){this.player.stop("object"===typeof e?e:void 0!==e?{stopId:e}:void 0)}disconnect(){this.output.disconnect(),this.player.disconnect()}};function Ci(e,t,n){return ai(this,null,(function*(){t=t.replace(/#/g,"%23").replace(/([^:]\/)\/+/g,"$1");const r=yield n.fetch(t);if(200===r.status)try{const t=yield r.arrayBuffer();return yield e.decodeAudioData(t)}catch(i){console.warn("Error loading buffer",i,t)}else console.warn("Error loading buffer. Invalid status: ",r.status,t)}))}function Si(e){if("undefined"===typeof document)return null;const t=document.createElement("audio");for(let n=0;n<e.length;n++){const r=e[n],i=t.canPlayType(`audio/${r}`);if("probably"===i||"maybe"===i)return r;if("m4a"===r){const e=t.canPlayType("audio/aac");if("probably"===e||"maybe"===e)return r}}return null}var Ti,Ei={fetch:e=>fetch(e)};Ti=new WeakMap,new WeakSet;function Ai(e){return void 0===e?void 0:"number"===typeof e?e:function(e){const t=/^([a-gA-G]?)(#{1,}|b{1,}|)(-?\d+)$/.exec(e);if(!t)return;const n=t[1].toUpperCase();if(!n)return;const r=t[2],i="b"===r[0]?-r.length:r.length,s=t[3]?+t[3]:4;return[0,2,4,5,7,9,11][(n.charCodeAt(0)+3)%7]+i+12*(s+1)}(e)}function Mi(e,t,n){return(void 0===t||void 0!==e&&e>=t)&&(void 0===n||void 0!==e&&e<=n)}new WeakMap;var Pi;Object.freeze({meta:{},global:{},groups:[]});Pi=new WeakMap,new WeakSet;new WeakSet;new WeakMap,new WeakMap,new WeakMap;new WeakMap;new WeakMap;new WeakMap;var ji,Oi,Ii=class{constructor(e,t){this.context=e,ii(this,ji),this.options=Object.assign({baseUrl:"https://danigb.github.io/samples/splendid-grand-piano",storage:Ei,detune:0,volume:100,velocity:100,decayTime:.5},t),this.player=new ki(e,this.options);const n=function(e,t,n){var r;const i=null!=(r=Si(["ogg","m4a"]))?r:"ogg";let s=n?Ni.filter((e=>e.vel_range[0]<=n.velocityRange[1]&&e.vel_range[1]>=n.velocityRange[0])):Ni;return(r,o)=>ai(this,null,(function*(){for(const a of s){const s=n?a.samples.filter((e=>n.notes.includes(e[0]))):a.samples;yield Promise.all(s.map((n=>ai(this,[n],(function(n){let[s,l]=n;return function*(){const n=`${e}/${l}.${i}`,u=yield Ci(r,n,t);u&&(o[a.name+s]=u)}()})))))}}))}(this.options.baseUrl,this.options.storage,this.options.notesToLoad);this.load=n(e,this.player.buffers).then((()=>this))}get output(){return this.player.output}get buffers(){return this.player.buffers}loaded(){return ai(this,null,(function*(){return console.warn("deprecated: use load instead"),this.load}))}start(e){var t,n;const r="object"===typeof e?ei({},e):{note:e},i=oi(this,ji,Oi).call(this,r);return i?(r.note=i[0],r.stopId=null!=(t=r.stopId)?t:i[1],r.detune=i[2]+(null!=(n=r.detune)?n:this.options.detune),this.player.start(r)):()=>{}}stop(e){var t;if("string"===typeof e)return this.player.stop(null!=(t=Ai(e))?t:e);if("object"===typeof e){const t=Ai(e.stopId);return this.player.stop(void 0!==t?ti(ei({},e),{stopId:t}):e)}return this.player.stop(e)}};ji=new WeakSet,Oi=function(e){var t;const n=Ai(e.note);if(!n)return;const r=null!=(t=e.velocity)?t:this.options.velocity,i=Ni.findIndex((e=>r>=e.vel_range[0]&&r<=e.vel_range[1])),s=Ni[i];return s?function(e,t,n){let r=0;for(;void 0===n[e+(t+r)]&&r<128;)r=r>0?-r:1-r;return 127===r?[e+t,t,0]:[e+(t+r),t,100*-r]}(s.name,n,this.player.buffers):void 0};var Ni=[{name:"PPP",vel_range:[1,40],cutoff:1e3,samples:[[23,"PP-B-1"],[27,"PP-D#0"],[29,"PP-F0"],[31,"PP-G0"],[33,"PP-A0"],[35,"PP-B0"],[37,"PP-C#1"],[38,"PP-D1"],[40,"PP-E1"],[41,"PP-F1"],[43,"PP-G1"],[45,"PP-A1"],[47,"PP-B1"],[48,"PP-C2"],[50,"PP-D2"],[52,"PP-E2"],[53,"PP-F2"],[55,"PP-G2"],[56,"PP-G#2"],[57,"PP-A2"],[58,"PP-A#2"],[59,"PP-B2"],[60,"PP-C3"],[62,"PP-D3"],[64,"PP-E3"],[65,"PP-F3"],[67,"PP-G3"],[69,"PP-A3"],[71,"PP-B3"],[72,"PP-C4"],[74,"PP-D4"],[76,"PP-E4"],[77,"PP-F4"],[79,"PP-G4"],[80,"PP-G#4"],[81,"PP-A4"],[82,"PP-A#4"],[83,"PP-B4"],[85,"PP-C#5"],[86,"PP-D5"],[87,"PP-D#5"],[89,"PP-F5"],[90,"PP-F#5"],[91,"PP-G5"],[92,"PP-G#5"],[93,"PP-A5"],[94,"PP-A#5"],[95,"PP-B5"],[96,"PP-C6"],[97,"PP-C#6"],[98,"PP-D6"],[99,"PP-D#6"],[100,"PP-E6"],[101,"PP-F6"],[102,"PP-F#6"],[103,"PP-G6"],[104,"PP-G#6"],[105,"PP-A6"],[106,"PP-A#6"],[107,"PP-B6"],[108,"PP-C7"]]},{name:"PP",vel_range:[41,67],samples:[[23,"PP-B-1"],[27,"PP-D#0"],[29,"PP-F0"],[31,"PP-G0"],[33,"PP-A0"],[35,"PP-B0"],[37,"PP-C#1"],[38,"PP-D1"],[40,"PP-E1"],[41,"PP-F1"],[43,"PP-G1"],[45,"PP-A1"],[47,"PP-B1"],[48,"PP-C2"],[50,"PP-D2"],[52,"PP-E2"],[53,"PP-F2"],[55,"PP-G2"],[56,"PP-G#2"],[57,"PP-A2"],[58,"PP-A#2"],[59,"PP-B2"],[60,"PP-C3"],[62,"PP-D3"],[64,"PP-E3"],[65,"PP-F3"],[67,"PP-G3"],[69,"PP-A3"],[71,"PP-B3"],[72,"PP-C4"],[74,"PP-D4"],[76,"PP-E4"],[77,"PP-F4"],[79,"PP-G4"],[80,"PP-G#4"],[81,"PP-A4"],[82,"PP-A#4"],[83,"PP-B4"],[85,"PP-C#5"],[86,"PP-D5"],[87,"PP-D#5"],[89,"PP-F5"],[90,"PP-F#5"],[91,"PP-G5"],[92,"PP-G#5"],[93,"PP-A5"],[94,"PP-A#5"],[95,"PP-B5"],[96,"PP-C6"],[97,"PP-C#6"],[98,"PP-D6"],[99,"PP-D#6"],[100,"PP-E6"],[101,"PP-F6"],[102,"PP-F#6"],[103,"PP-G6"],[104,"PP-G#6"],[105,"PP-A6"],[106,"PP-A#6"],[107,"PP-B6"],[108,"PP-C7"]]},{name:"MP",vel_range:[68,84],samples:[[23,"Mp-B-1"],[27,"Mp-D#0"],[29,"Mp-F0"],[31,"Mp-G0"],[33,"Mp-A0"],[35,"Mp-B0"],[37,"Mp-C#1"],[38,"Mp-D1"],[40,"Mp-E1"],[41,"Mp-F1"],[43,"Mp-G1"],[45,"Mp-A1"],[47,"Mp-B1"],[48,"Mp-C2"],[50,"Mp-D2"],[52,"Mp-E2"],[53,"Mp-F2"],[55,"Mp-G2"],[56,"Mp-G#2"],[57,"Mp-A2"],[58,"Mp-A#2"],[59,"Mp-B2"],[60,"Mp-C3"],[62,"Mp-D3"],[64,"Mp-E3"],[65,"Mp-F3"],[67,"Mp-G3"],[69,"Mp-A3"],[71,"Mp-B3"],[72,"Mp-C4"],[74,"Mp-D4"],[76,"Mp-E4"],[77,"Mp-F4"],[79,"Mp-G4"],[80,"Mp-G#4"],[81,"Mp-A4"],[82,"Mp-A#4"],[83,"Mp-B4"],[85,"Mp-C#5"],[86,"Mp-D5"],[87,"Mp-D#5"],[88,"Mp-E5"],[89,"Mp-F5"],[90,"Mp-F#5"],[91,"Mp-G5"],[92,"Mp-G#5"],[93,"Mp-A5"],[94,"Mp-A#5"],[95,"Mp-B5"],[96,"Mp-C6"],[97,"Mp-C#6"],[98,"Mp-D6"],[99,"Mp-D#6"],[100,"PP-E6"],[101,"Mp-F6"],[102,"Mp-F#6"],[103,"Mp-G6"],[104,"Mp-G#6"],[105,"Mp-A6"],[106,"Mp-A#6"],[107,"PP-B6"],[108,"PP-C7"]]},{name:"MF",vel_range:[85,100],samples:[[23,"Mf-B-1"],[27,"Mf-D#0"],[29,"Mf-F0"],[31,"Mf-G0"],[33,"Mf-A0"],[35,"Mf-B0"],[37,"Mf-C#1"],[38,"Mf-D1"],[40,"Mf-E1"],[41,"Mf-F1"],[43,"Mf-G1"],[45,"Mf-A1"],[47,"Mf-B1"],[48,"Mf-C2"],[50,"Mf-D2"],[52,"Mf-E2"],[53,"Mf-F2"],[55,"Mf-G2"],[56,"Mf-G#2"],[57,"Mf-A2"],[58,"Mf-A#2"],[59,"Mf-B2"],[60,"Mf-C3"],[62,"Mf-D3"],[64,"Mf-E3"],[65,"Mf-F3"],[67,"Mf-G3"],[69,"Mf-A3"],[71,"Mf-B3"],[72,"Mf-C4"],[74,"Mf-D4"],[76,"Mf-E4"],[77,"Mf-F4"],[79,"Mf-G4"],[80,"Mf-G#4"],[81,"Mf-A4"],[82,"Mf-A#4"],[83,"Mf-B4"],[85,"Mf-C#5"],[86,"Mf-D5"],[87,"Mf-D#5"],[88,"Mf-E5"],[89,"Mf-F5"],[90,"Mf-F#5"],[91,"Mf-G5"],[92,"Mf-G#5"],[93,"Mf-A5"],[94,"Mf-A#5"],[95,"Mf-B5"],[96,"Mf-C6"],[97,"Mf-C#6"],[98,"Mf-D6"],[99,"Mf-D#6"],[100,"Mf-E6"],[101,"Mf-F6"],[102,"Mf-F#6"],[103,"Mf-G6"],[104,"Mf-G#6"],[105,"Mf-A6"],[106,"Mf-A#6"],[107,"Mf-B6"],[108,"PP-C7"]]},{name:"FF",vel_range:[101,127],samples:[[23,"FF-B-1"],[27,"FF-D#0"],[29,"FF-F0"],[31,"FF-G0"],[33,"FF-A0"],[35,"FF-B0"],[37,"FF-C#1"],[38,"FF-D1"],[40,"FF-E1"],[41,"FF-F1"],[43,"FF-G1"],[45,"FF-A1"],[47,"FF-B1"],[48,"FF-C2"],[50,"FF-D2"],[52,"FF-E2"],[53,"FF-F2"],[55,"FF-G2"],[56,"FF-G#2"],[57,"FF-A2"],[58,"FF-A#2"],[59,"FF-B2"],[60,"FF-C3"],[62,"FF-D3"],[64,"FF-E3"],[65,"FF-F3"],[67,"FF-G3"],[69,"FF-A3"],[71,"FF-B3"],[72,"FF-C4"],[74,"FF-D4"],[76,"FF-E4"],[77,"FF-F4"],[79,"FF-G4"],[80,"FF-G#4"],[81,"FF-A4"],[82,"FF-A#4"],[83,"FF-B4"],[85,"FF-C#5"],[86,"FF-D5"],[88,"FF-E5"],[89,"FF-F5"],[91,"FF-G5"],[93,"FF-A5"],[95,"Mf-B5"],[96,"Mf-C6"],[97,"Mf-C#6"],[98,"Mf-D6"],[99,"Mf-D#6"],[100,"Mf-E6"],[102,"Mf-F#6"],[103,"Mf-G6"],[104,"Mf-G#6"],[105,"Mf-A6"],[106,"Mf-A#6"],[107,"Mf-B6"],[108,"Mf-C7"]]}];const Di=Object.freeze({ASCENDING:"ASCENDING",DESCENDING:"DESCENDING",SIMULTANEOUS:"SIMULTANEOUS",SEQUENTIAL:"SEQUENTIAL",RANDOM:"RANDOM"}),Ri=()=>{const e=(0,t.useRef)({}),n=(0,t.useRef)({});(0,t.useEffect)((()=>{e.current=new yr,n.current=new Ii(e.current,{})}),[]);const r=async function(e,t){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Di.SIMULTANEOUS,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if("number"===typeof e&&(e=[e]),i===Di.ASCENDING){e.sort(((e,t)=>e-t));for(let r=0;r<e.length;r++){var o;await new Promise((e=>setTimeout(e,0===r?0:1e3*t))),await(null===(o=n.current)||void 0===o?void 0:o.start({note:e[r],duration:t,velocity:127}))}}else if(i===Di.DESCENDING){e.sort(((e,t)=>t-e));for(let r=0;r<e.length;r++){var a;await new Promise((e=>setTimeout(e,0===r?0:1e3*t))),await(null===(a=n.current)||void 0===a?void 0:a.start({note:e[r],duration:t,velocity:80}))}}else if(i===Di.SEQUENTIAL)for(let r=0;r<e.length;r++){var l;await new Promise((e=>setTimeout(e,0===r?0:1e3*t))),await(null===(l=n.current)||void 0===l?void 0:l.start({note:e[r],duration:t,velocity:80}))}else if(i===Di.SIMULTANEOUS)for(let r of e){var u;await(null===(u=n.current)||void 0===u?void 0:u.start({note:r,duration:t,velocity:80}))}else if(i===Di.RANDOM){const n=[Di.SIMULTANEOUS,Di.ASCENDING,Di.DESCENDING],i=n[Math.floor(Math.random()*n.length)];await r(e,t,i,s)}};return{playNotes:r,stopPlaying:()=>{var e;null===(e=n.current)||void 0===e||e.stop()}}},zi=(0,t.createContext)();const Fi=function(e){let{children:n}=e;const{noteLength:r,noteSpacing:o}=(0,t.useContext)(s),[a,l]=(0,t.useState)(["piano","guitar","marimba","violin","flute","trombone"]),[u,c]=(0,t.useState)(Di.SIMULTANEOUS),h=(0,t.useRef)(Ri(u)),d=(0,t.useRef)(void 0!==navigator.requestMIDIAccess).current,[p,f]=(0,t.useState)(!1),[m,g]=(0,t.useState)(null),[v,y]=(0,t.useState)([]),[_,b]=(0,t.useState)([]),[x,w]=(0,t.useState)([]),[k,C]=(0,t.useState)(!1);return(0,i.jsx)(zi.Provider,{value:{playNotes:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o;for(let r=0;r<e.length;r++)await h.current.playNotes(e[r],t,u),r<e.length-1&&await new Promise((e=>setTimeout(e,1e3*n)))},stopPlaying:()=>{h.current.stopPlaying()},enabledInstruments:a,setEnabledInstruments:l,reproductionMode:u,setReproductionMode:c,trigger:p,lastInput:m,triggerLastInput:e=>{g(e),f(!p)},markedNotes:v,setMarkedNotes:y,playedNotes:_,setPlayedNotes:b,markedAnswers:x,setMarkedAnswers:w,isMidiInputEnabled:k,setIsMidiInputEnabled:C,isMidiAvailable:d},children:n})},Vi=(0,t.createContext)(),Li=(0,t.createContext)();const Wi=function(e){let{children:n}=e;const[r,s]=(0,t.useState)({notesCorrect:0,notesTotal:0}),[o,a]=(0,t.useState)({examplesCorrect:0,examplesTotal:0}),l=(e,t)=>{const n="notes"===e?r:o,i={...n,[`${e}Correct`]:t?n[`${e}Correct`]+1:n[`${e}Correct`],[`${e}Total`]:n[`${e}Total`]+1};"notes"===e?s(i):a(i)},u=e=>{"notes"===e?s({notesCorrect:0,notesTotal:0}):a({examplesCorrect:0,examplesTotal:0})};return(0,i.jsx)(Li.Provider,{value:{notesResults:r,examplesResults:o,updateNotesResults:e=>l("notes",e),updateExamplesResults:e=>l("examples",e),resetNotesResults:()=>u("notes"),resetExamplesResults:()=>u("examples")},children:n})};const Bi=function(e){let{children:n,minWidth:r,minHeight:s,type:o="center",padding:a=!0}=e;const{styleSheet:l}=(0,t.useContext)(Ol);let u={position:"fixed",transform:"translate(-50%, -50%)",backgroundColor:l.enabled,width:"fit-content",maxWidth:"85%",height:"auto",zIndex:99,border:"2px solid "+l.text,boxShadow:"1vmin 1vmin"+l.disabled,cursor:"default",display:"flex",flexDirection:"row",justifyContent:"space-around",paddingTop:a?"1vmin":"0",paddingBottom:a?"1vmin":"0",paddingLeft:a?"2vmin":"0",paddingRight:a?"2vmin":"0",left:"50%",top:"top"===o?"25%":"bottom"===o?"70%":"50%",minHeight:s||"auto",minWidth:r||"auto"};return(0,i.jsx)("div",{style:u,children:n})};const qi=function(e){let{children:n,wrap:r=!1,center:s=!0,lineHeight:o="1.5",size:a="normal",isSelected:l}=e;const{styleSheet:u}=(0,t.useContext)(Ol),c={flex:1,color:l?u.enabled:u.text,display:"flex",flexDirection:"column",boxSizing:"border-box",justifyContent:"center",WebkitTextSizeAdjust:"80%",whiteSpace:r?"normal":"nowrap",alignItems:s?"center":"flex-start",lineHeight:o,fontSize:"small"===a?"clamp(0.6em, 1.5vmax, 1rem)":"clamp(0.75rem, 1vmax, 1rem)",WebkitUserSelect:"none",MozUserSelect:"none"};return(0,i.jsx)("div",{style:c,children:n})};const Ui=function(e){let{length:t=1,children:n,direction:r="column",padding:s=!0,gap:o=0,alignItems:a="stretch"}=e;const l={flex:`${t}`,display:"flex",flexDirection:r,alignItems:a,justifyContent:"space-between",padding:s?"1vmin":"0",gap:`${o}vmin`,boxSizing:"border-box"};return(0,i.jsx)("div",{style:l,children:n})};const Gi=function(e){let{label:n,isEnabled:r=!0,isSelected:s=!1,onClick:o,icon:a,shadow:l=!0,children:u}=e;const[c,h]=(0,t.useState)(!1),{styleSheet:d}=(0,t.useContext)(Ol);let p=r&&o;const f={backgroundColor:r?p&&c||s?d.selected:d.enabled:d.disabled,boxShadow:l?"1vmin 1vmin 0 "+d.disabled:"none",cursor:p?"pointer":"default",border:"2px solid "+d.text,display:"flex",flex:1,justifyContent:"center",alignItems:"center",boxSizing:"border-box",padding:"0.5vmin"};return(0,i.jsxs)("div",{style:f,onClick:r?o:null,onMouseEnter:()=>h(!0),onMouseLeave:()=>h(!1),children:[n&&(0,i.jsx)(qi,{center:!0,isSelected:c&&r,children:n}),a&&(0,i.jsx)("img",{src:a,className:"icon",alt:"button with icon"}),u&&u]})};const $i=function(e){let{text:n,afterAlert:r}=e;const{hideAlert:s}=(0,t.useContext)(Ol);return(0,i.jsx)(Bi,{minHeight:"15%",children:(0,i.jsxs)(Ui,{children:[(0,i.jsx)(qi,{wrap:!0,children:n}),(0,i.jsx)(Ui,{children:(0,i.jsx)(Gi,{label:"OK",onClick:()=>{s(),r&&r()}})})]})})};const Hi=function(e){let{isEnabled:n=!0,text:r,children:s}=e;const{styleSheet:o}=(0,t.useContext)(Ol),a={display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",width:"100%",height:"auto",border:"2px solid "+o.text,cursor:"default",whiteSpace:"nowrap",flex:1,boxSizing:"border-box",backgroundColor:n?o.enabled:o.disabled};return(0,i.jsxs)("div",{style:a,children:[(0,i.jsx)(qi,{size:"small",children:r}),s]})};const Qi=function(e){let{text:t,onClick:n}=e;return(0,i.jsxs)("div",{style:{display:"flex",alignItems:"stretch",position:"absolute",top:"5%",left:"10%",width:"80%",height:"6%",gap:"1vmin"},children:[(0,i.jsx)(Hi,{text:t}),n&&(0,i.jsx)(Ui,{length:.05,padding:!1,children:(0,i.jsx)(Gi,{label:"\xbb",shadow:!1,onClick:n})})]})};const Yi=function(e){let{dimx:t=1,dimy:n=1,padding:r=!0,children:s,flex:o=1}=e,a={gridTemplateColumns:`repeat(${t}, 1fr)`,gridTemplateRows:`repeat(${n}, 1fr)`,padding:r?"1vmin":0,display:"grid",boxSizing:"border-box",rowGap:"1vw",columnGap:"1vw",flex:o};return(0,i.jsx)("div",{style:a,children:s})};const Xi=function(){const{examplesResults:e}=t.useContext(Li),{dictionary:n}=t.useContext(Il);return(0,i.jsxs)(Ui,{direction:"row",padding:!1,gap:2,children:[(0,i.jsx)(qi,{size:"small",children:n.result.toUpperCase()+":"}),(0,i.jsxs)(qi,{size:"small",children:[e.examplesCorrect,":",e.examplesTotal,"("+Math.round(100*e.examplesCorrect/e.examplesTotal)+"%)"]})]})};const Zi=function(){const{hasStarted:e,startExercise:n,nextExample:r,repeatExample:s,showHint:o,openSettings:a}=(0,t.useContext)(Vi),{showElement:l}=(0,t.useContext)(Ol),{resetNotesResults:u,resetExamplesResults:c}=(0,t.useContext)(Li),{dictionary:h}=(0,t.useContext)(Il);return(0,i.jsx)("div",{className:"control-panel",children:(0,i.jsxs)(Yi,{dimx:2,dimy:3,children:[(0,i.jsx)(Gi,{label:h.startreset.toUpperCase(),onClick:()=>n()}),(0,i.jsxs)(Ui,{direction:"row",padding:!1,gap:2,children:[(0,i.jsx)(Gi,{label:h.next.toUpperCase(),onClick:()=>r(),isEnabled:e&&void 0!==r}),(0,i.jsx)(Gi,{label:h.repeat.toUpperCase(),onClick:()=>s(),isEnabled:e&&void 0!==s})]}),(0,i.jsx)(Gi,{label:h.hint.toUpperCase(),onClick:()=>o(),isEnabled:e&&void 0!==o}),(0,i.jsx)(Gi,{children:(0,i.jsx)(Xi,{})}),(0,i.jsx)(Gi,{label:h.mainmenu.toUpperCase(),onClick:()=>{u(),c(),l((0,i.jsx)(Pl,{}))}}),(0,i.jsx)(Gi,{label:h.settings.toUpperCase(),isEnabled:void 0!==a,onClick:()=>a()})]})})},Ki="15.0.4";function Ji(e){return void 0===e}function es(e){return void 0!==e}function ts(e){return"number"===typeof e}function ns(e){return"[object Object]"===Object.prototype.toString.call(e)&&e.constructor===Object}function rs(e){return"boolean"===typeof e}function is(e){return Array.isArray(e)}function ss(e){return"string"===typeof e}function os(e){return ss(e)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(e)}function as(e,t){if(!e)throw new Error(t)}function ls(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1/0;if(!(t<=e&&e<=n))throw new RangeError(`Value must be within [${t}, ${n}], got: ${e}`)}function us(e){e.isOffline||"running"===e.state||fs('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let cs=!1,hs=!1;function ds(e){cs=e}let ps=console;function fs(){ps.warn(...arguments)}const ms="object"===typeof self?self:null,gs=ms&&(ms.hasOwnProperty("AudioContext")||ms.hasOwnProperty("webkitAudioContext"));function vs(e,t,n,r){var i,s=arguments.length,o=s<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,n,o):i(t,n))||o);return s>3&&o&&Object.defineProperty(t,n,o),o}function ys(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{l(r.next(e))}catch(t){s(t)}}function a(e){try{l(r.throw(e))}catch(t){s(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((r=r.apply(e,t||[])).next())}))}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;class _s{constructor(e,t,n,r){this._callback=e,this._type=t,this._minimumUpdateInterval=Math.max(128/(r||44100),.001),this.updateInterval=n,this._createClock()}_createWorker(){const e=new Blob([`\n\t\t\t// the initial timeout time\n\t\t\tlet timeoutTime =  ${(1e3*this._updateInterval).toFixed(1)};\n\t\t\t// onmessage callback\n\t\t\tself.onmessage = function(msg){\n\t\t\t\ttimeoutTime = parseInt(msg.data);\n\t\t\t};\n\t\t\t// the tick function which posts a message\n\t\t\t// and schedules a new tick\n\t\t\tfunction tick(){\n\t\t\t\tsetTimeout(tick, timeoutTime);\n\t\t\t\tself.postMessage('tick');\n\t\t\t}\n\t\t\t// call tick initially\n\t\t\ttick();\n\t\t\t`],{type:"text/javascript"}),t=URL.createObjectURL(e),n=new Worker(t);n.onmessage=this._callback.bind(this),this._worker=n}_createTimeout(){this._timeout=setTimeout((()=>{this._createTimeout(),this._callback()}),1e3*this._updateInterval)}_createClock(){if("worker"===this._type)try{this._createWorker()}catch(e){this._type="timeout",this._createClock()}else"timeout"===this._type&&this._createTimeout()}_disposeClock(){this._timeout&&clearTimeout(this._timeout),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(e){var t;this._updateInterval=Math.max(e,this._minimumUpdateInterval),"worker"===this._type&&(null===(t=this._worker)||void 0===t||t.postMessage(1e3*this._updateInterval))}get type(){return this._type}set type(e){this._disposeClock(),this._type=e,this._createClock()}dispose(){this._disposeClock()}}function bs(e){return zr(e)}function xs(e){return Rr(e)}function ws(e){return Fr(e)}function ks(e){return Dr(e)}function Cs(e,t){return"value"===e||bs(t)||xs(t)||function(e){return e instanceof Zt}(t)}function Ss(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(!n.length)return e;const i=n.shift();if(ns(e)&&ns(i))for(const s in i)Cs(s,i[s])?e[s]=i[s]:ns(i[s])?(e[s]||Object.assign(e,{[s]:{}}),Ss(e[s],i[s])):Object.assign(e,{[s]:i[s]});return Ss(e,...n)}function Ts(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3?arguments[3]:void 0;const i={},s=Array.from(t);if(ns(s[0])&&r&&!Reflect.has(s[0],r)){Object.keys(s[0]).some((t=>Reflect.has(e,t)))||(Ss(i,{[r]:s[0]}),n.splice(n.indexOf(r),1),s.shift())}if(1===s.length&&ns(s[0]))Ss(i,s[0]);else for(let o=0;o<n.length;o++)es(s[o])&&(i[n[o]]=s[o]);return Ss(e,i)}function Es(e,t){return Ji(e)?t:e}function As(e,t){return t.forEach((t=>{Reflect.has(e,t)&&delete e[t]})),e}class Ms{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(){if(this.debug||ms&&this.toString()===ms.TONE_DEBUG_CLASS){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];!function(){ps.log(...arguments)}(this,...t)}}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}Ms.version=Ki;const Ps=1e-6;function js(e,t){return e>t+Ps}function Os(e,t){return js(e,t)||Ns(e,t)}function Is(e,t){return e+Ps<t}function Ns(e,t){return Math.abs(e-t)<Ps}function Ds(e,t,n){return Math.max(Math.min(e,n),t)}class Rs extends Ms{constructor(){super(),this.name="Timeline",this._timeline=[];const e=Ts(Rs.getDefaults(),arguments,["memory"]);this.memory=e.memory,this.increasing=e.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(e){if(as(Reflect.has(e,"time"),"Timeline: events must have a time attribute"),e.time=e.time.valueOf(),this.increasing&&this.length){const t=this._timeline[this.length-1];as(Os(e.time,t.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(e)}else{const t=this._search(e.time);this._timeline.splice(t+1,0,e)}if(this.length>this.memory){const e=this.length-this.memory;this._timeline.splice(0,e)}return this}remove(e){const t=this._timeline.indexOf(e);return-1!==t&&this._timeline.splice(t,1),this}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"time";const n=this._search(e,t);return-1!==n?this._timeline[n]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"time";const n=this._search(e,t);return n+1<this._timeline.length?this._timeline[n+1]:null}getBefore(e){const t=this._timeline.length;if(t>0&&this._timeline[t-1].time<e)return this._timeline[t-1];const n=this._search(e);return n-1>=0?this._timeline[n-1]:null}cancel(e){if(this._timeline.length>1){let t=this._search(e);if(t>=0)if(Ns(this._timeline[t].time,e)){for(let n=t;n>=0&&Ns(this._timeline[n].time,e);n--)t=n;this._timeline=this._timeline.slice(0,t)}else this._timeline=this._timeline.slice(0,t+1);else this._timeline=[]}else 1===this._timeline.length&&Os(this._timeline[0].time,e)&&(this._timeline=[]);return this}cancelBefore(e){const t=this._search(e);return t>=0&&(this._timeline=this._timeline.slice(t+1)),this}previousEvent(e){const t=this._timeline.indexOf(e);return t>0?this._timeline[t-1]:null}_search(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"time";if(0===this._timeline.length)return-1;let n=0;const r=this._timeline.length;let i=r;if(r>0&&this._timeline[r-1][t]<=e)return r-1;for(;n<i;){let r=Math.floor(n+(i-n)/2);const s=this._timeline[r],o=this._timeline[r+1];if(Ns(s[t],e)){for(let n=r;n<this._timeline.length;n++){if(!Ns(this._timeline[n][t],e))break;r=n}return r}if(Is(s[t],e)&&js(o[t],e))return r;js(s[t],e)?i=r:n=r+1}return-1}_iterate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._timeline.length-1;this._timeline.slice(t,n+1).forEach(e)}forEach(e){return this._iterate(e),this}forEachBefore(e,t){const n=this._search(e);return-1!==n&&this._iterate(t,0,n),this}forEachAfter(e,t){const n=this._search(e);return this._iterate(t,n+1),this}forEachBetween(e,t,n){let r=this._search(e),i=this._search(t);return-1!==r&&-1!==i?(this._timeline[r].time!==e&&(r+=1),this._timeline[i].time===t&&(i-=1),this._iterate(n,r,i)):-1===r&&this._iterate(n,0,i),this}forEachFrom(e,t){let n=this._search(e);for(;n>=0&&this._timeline[n].time>=e;)n--;return this._iterate(t,n+1),this}forEachAtTime(e,t){const n=this._search(e);if(-1!==n&&Ns(this._timeline[n].time,e)){let r=n;for(let t=n;t>=0&&Ns(this._timeline[t].time,e);t--)r=t;this._iterate((e=>{t(e)}),r,n)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const zs=[];function Fs(e){zs.push(e)}const Vs=[];function Ls(e){Vs.push(e)}class Ws extends Ms{constructor(){super(...arguments),this.name="Emitter"}on(e,t){return e.split(/\W+/).forEach((e=>{Ji(this._events)&&(this._events={}),this._events.hasOwnProperty(e)||(this._events[e]=[]),this._events[e].push(t)})),this}once(e,t){var n=this;const r=function(){t(...arguments),n.off(e,r)};return this.on(e,r),this}off(e,t){return e.split(/\W+/).forEach((e=>{if(Ji(this._events)&&(this._events={}),this._events.hasOwnProperty(e))if(Ji(t))this._events[e]=[];else{const n=this._events[e];for(let e=n.length-1;e>=0;e--)n[e]===t&&n.splice(e,1)}})),this}emit(e){if(this._events&&this._events.hasOwnProperty(e)){const i=this._events[e].slice(0);for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(let e=0,t=i.length;e<t;e++)i[e].apply(this,n)}return this}static mixin(e){["on","once","off","emit"].forEach((t=>{const n=Object.getOwnPropertyDescriptor(Ws.prototype,t);Object.defineProperty(e.prototype,t,n)}))}dispose(){return super.dispose(),this._events=void 0,this}}class Bs extends Ws{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class qs extends Bs{constructor(){var e,t;super(),this.name="Context",this._constants=new Map,this._timeouts=new Rs,this._timeoutIds=0,this._initialized=!1,this._closeStarted=!1,this.isOffline=!1,this._workletPromise=null;const n=Ts(qs.getDefaults(),arguments,["context"]);n.context?(this._context=n.context,this._latencyHint=(null===(e=arguments[0])||void 0===e?void 0:e.latencyHint)||""):(this._context=function(e){return new yr(e)}({latencyHint:n.latencyHint}),this._latencyHint=n.latencyHint),this._ticker=new _s(this.emit.bind(this,"tick"),n.clockSource,n.updateInterval,this._context.sampleRate),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this[(null===(t=arguments[0])||void 0===t?void 0:t.hasOwnProperty("updateInterval"))?"_lookAhead":"lookAhead"]=n.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){var e;return this._initialized||(e=this,zs.forEach((t=>t(e))),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(e,t,n){return this._context.createBuffer(e,t,n)}createChannelMerger(e){return this._context.createChannelMerger(e)}createChannelSplitter(e){return this._context.createChannelSplitter(e)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(e){return this._context.createDelay(e)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(e,t){return this._context.createIIRFilter(e,t)}createPanner(){return this._context.createPanner()}createPeriodicWave(e,t,n){return this._context.createPeriodicWave(e,t,n)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(e){as(ks(this._context),"Not available if OfflineAudioContext");return this._context.createMediaStreamSource(e)}createMediaElementSource(e){as(ks(this._context),"Not available if OfflineAudioContext");return this._context.createMediaElementSource(e)}createMediaStreamDestination(){as(ks(this._context),"Not available if OfflineAudioContext");return this._context.createMediaStreamDestination()}decodeAudioData(e){return this._context.decodeAudioData(e)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(e){as(!this._initialized,"The listener cannot be set after initialization."),this._listener=e}get transport(){return this.initialize(),this._transport}set transport(e){as(!this._initialized,"The transport cannot be set after initialization."),this._transport=e}get draw(){return this.initialize(),this._draw}set draw(e){as(!this._initialized,"Draw cannot be set after initialization."),this._draw=e}get destination(){return this.initialize(),this._destination}set destination(e){as(!this._initialized,"The destination cannot be set after initialization."),this._destination=e}createAudioWorkletNode(e,t){return function(e,t,n){return as(es(jr),"AudioWorkletNode only works in a secure context (https or localhost)"),new(e instanceof(null===ms||void 0===ms?void 0:ms.BaseAudioContext)?null===ms||void 0===ms?void 0:ms.AudioWorkletNode:jr)(e,t,n)}(this.rawContext,e,t)}addAudioWorkletModule(e){return ys(this,void 0,void 0,(function*(){as(es(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletPromise||(this._workletPromise=this.rawContext.audioWorklet.addModule(e)),yield this._workletPromise}))}workletsAreReady(){return ys(this,void 0,void 0,(function*(){(yield this._workletPromise)?this._workletPromise:Promise.resolve()}))}get updateInterval(){return this._ticker.updateInterval}set updateInterval(e){this._ticker.updateInterval=e}get clockSource(){return this._ticker.type}set clockSource(e){this._ticker.type=e}get lookAhead(){return this._lookAhead}set lookAhead(e){this._lookAhead=e,this.updateInterval=e?e/2:.01}get latencyHint(){return this._latencyHint}get rawContext(){return this._context}now(){return this._context.currentTime+this._lookAhead}immediate(){return this._context.currentTime}resume(){return ks(this._context)?this._context.resume():Promise.resolve()}close(){return ys(this,void 0,void 0,(function*(){var e;ks(this._context)&&"closed"!==this.state&&!this._closeStarted&&(this._closeStarted=!0,yield this._context.close()),this._initialized&&(e=this,Vs.forEach((t=>t(e))))}))}getConstant(e){if(this._constants.has(e))return this._constants.get(e);{const t=this._context.createBuffer(1,128,this._context.sampleRate),n=t.getChannelData(0);for(let i=0;i<n.length;i++)n[i]=e;const r=this._context.createBufferSource();return r.channelCount=1,r.channelCountMode="explicit",r.buffer=t,r.loop=!0,r.start(0),this._constants.set(e,r),r}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map((e=>this._constants[e].disconnect())),this.close(),this}_timeoutLoop(){const e=this.now();let t=this._timeouts.peek();for(;this._timeouts.length&&t&&t.time<=e;)t.callback(),this._timeouts.shift(),t=this._timeouts.peek()}setTimeout(e,t){this._timeoutIds++;const n=this.now();return this._timeouts.add({callback:e,id:this._timeoutIds,time:n+t}),this._timeoutIds}clearTimeout(e){return this._timeouts.forEach((t=>{t.id===e&&this._timeouts.remove(t)})),this}clearInterval(e){return this.clearTimeout(e)}setInterval(e,t){const n=++this._timeoutIds,r=()=>{const i=this.now();this._timeouts.add({callback:()=>{e(),r()},id:n,time:i+t})};return r(),n}}function Us(e,t){is(t)?t.forEach((t=>Us(e,t))):Object.defineProperty(e,t,{enumerable:!0,writable:!1})}function Gs(e,t){is(t)?t.forEach((t=>Gs(e,t))):Object.defineProperty(e,t,{writable:!0})}const $s=()=>{};class Hs extends Ms{constructor(){super(),this.name="ToneAudioBuffer",this.onload=$s;const e=Ts(Hs.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=e.reverse,this.onload=e.onload,ss(e.url)?this.load(e.url).catch(e.onerror):e.url&&this.set(e.url)}static getDefaults(){return{onerror:$s,onload:$s,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:Zs().sampleRate}set(e){return e instanceof Hs?e.loaded?this._buffer=e.get():e.onload=()=>{this.set(e),this.onload(this)}:this._buffer=e,this._reversed&&this._reverse(),this}get(){return this._buffer}load(e){return ys(this,void 0,void 0,(function*(){const t=Hs.load(e).then((e=>{this.set(e),this.onload(this)}));Hs.downloads.push(t);try{yield t}finally{const e=Hs.downloads.indexOf(t);Hs.downloads.splice(e,1)}return this}))}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(e){const t=is(e)&&e[0].length>0,n=t?e.length:1,r=t?e[0].length:e.length,i=Zs(),s=i.createBuffer(n,r,i.sampleRate),o=t||1!==n?e:[e];for(let a=0;a<n;a++)s.copyToChannel(o[a],a);return this._buffer=s,this}toMono(e){if(ts(e))this.fromArray(this.toArray(e));else{let e=new Float32Array(this.length);const t=this.numberOfChannels;for(let n=0;n<t;n++){const t=this.toArray(n);for(let n=0;n<t.length;n++)e[n]+=t[n]}e=e.map((e=>e/t)),this.fromArray(e)}return this}toArray(e){if(ts(e))return this.getChannelData(e);if(1===this.numberOfChannels)return this.toArray(0);{const e=[];for(let t=0;t<this.numberOfChannels;t++)e[t]=this.getChannelData(t);return e}}getChannelData(e){return this._buffer?this._buffer.getChannelData(e):new Float32Array(0)}slice(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.duration;as(this.loaded,"Buffer is not loaded");const n=Math.floor(e*this.sampleRate),r=Math.floor(t*this.sampleRate);as(n<r,"The start time must be less than the end time");const i=r-n,s=Zs().createBuffer(this.numberOfChannels,i,this.sampleRate);for(let o=0;o<this.numberOfChannels;o++)s.copyToChannel(this.getChannelData(o).subarray(n,r),o);return new Hs(s)}_reverse(){if(this.loaded)for(let e=0;e<this.numberOfChannels;e++)this.getChannelData(e).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(e){this._reversed!==e&&(this._reversed=e,this._reverse())}static fromArray(e){return(new Hs).fromArray(e)}static fromUrl(e){return ys(this,void 0,void 0,(function*(){const t=new Hs;return yield t.load(e)}))}static load(e){return ys(this,void 0,void 0,(function*(){const t=e.match(/\[([^\]\[]+\|.+)\]$/);if(t){const n=t[1].split("|");let r=n[0];for(const e of n)if(Hs.supportsType(e)){r=e;break}e=e.replace(t[0],r)}const n=""===Hs.baseUrl||Hs.baseUrl.endsWith("/")?Hs.baseUrl:Hs.baseUrl+"/",r=document.createElement("a");r.href=n+e,r.pathname=(r.pathname+r.hash).split("/").map(encodeURIComponent).join("/");const i=yield fetch(r.href);if(!i.ok)throw new Error(`could not load url: ${e}`);const s=yield i.arrayBuffer();return yield Zs().decodeAudioData(s)}))}static supportsType(e){const t=e.split("."),n=t[t.length-1];return""!==document.createElement("audio").canPlayType("audio/"+n)}static loaded(){return ys(this,void 0,void 0,(function*(){for(yield Promise.resolve();Hs.downloads.length;)yield Hs.downloads[0]}))}}Hs.baseUrl="",Hs.downloads=[];class Qs extends qs{constructor(){var e,t,n;super({clockSource:"offline",context:ws(arguments[0])?arguments[0]:(e=arguments[0],t=arguments[1]*arguments[2],n=arguments[2],new Nr(e,t,n)),lookAhead:0,updateInterval:ws(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=ws(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(e){return ys(this,void 0,void 0,(function*(){let t=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,t++;const n=Math.floor(this.sampleRate/128);e&&t%n===0&&(yield new Promise((e=>setTimeout(e,1))))}}))}render(){return ys(this,arguments,void 0,(function(){var e=this;let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return function*(){yield e.workletsAreReady(),yield e._renderClock(t);const n=yield e._context.startRendering();return new Hs(n)}()}))}close(){return Promise.resolve()}}const Ys=new class extends Bs{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(e,t,n){return{}}createChannelMerger(e){return{}}createChannelSplitter(e){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(e){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(e,t){return{}}createPanner(){return{}}createPeriodicWave(e,t,n){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(e){return{}}createMediaElementSource(e){return{}}createMediaStreamDestination(){return{}}decodeAudioData(e){return Promise.resolve({})}createAudioWorkletNode(e,t){return{}}get rawContext(){return{}}addAudioWorkletModule(e){return ys(this,void 0,void 0,(function*(){return Promise.resolve()}))}resume(){return Promise.resolve()}setTimeout(e,t){return 0}clearTimeout(e){return this}setInterval(e,t){return 0}clearInterval(e){return this}getConstant(e){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(e){}get destination(){return{}}set destination(e){}now(){return 0}immediate(){return 0}};let Xs=Ys;function Zs(){return Xs===Ys&&gs&&function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t&&Xs.dispose();Xs=ks(e)?new qs(e):ws(e)?new Qs(e):e}(new qs),Xs}if(ms&&!ms.TONE_SILENCE_LOGGING){let e="v";0;const t=` * Tone.js ${e}${Ki} * `;console.log(`%c${t}`,"background: #000; color: #fff")}function Ks(e){return Math.pow(10,e/20)}function Js(e){return Math.log(e)/Math.LN10*20}function eo(e){return Math.pow(2,e/12)}let to=440;function no(e){return Math.round(ro(e))}function ro(e){return 69+12*Math.log2(e/to)}function io(e){return to*Math.pow(2,(e-69)/12)}class so extends Ms{constructor(e,t,n){super(),this.defaultUnits="s",this._val=t,this._units=n,this.context=e,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:e=>this._frequencyToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:e=>this._ticksToUnits(parseInt(e,10)),regexp:/^(\d+)i$/i},m:{method:e=>this._beatsToUnits(parseInt(e,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(e,t)=>{const n=parseInt(e,10),r="."===t?1.5:1;return 1===n?this._beatsToUnits(this._getTimeSignature())*r:this._beatsToUnits(4/n)*r},regexp:/^(\d+)n(\.?)$/i},number:{method:e=>this._expressions[this.defaultUnits].method.call(this,e),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:e=>this._secondsToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:e=>parseInt(e,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:e=>{const t=parseInt(e,10);return this._beatsToUnits(8/(3*Math.floor(t)))},regexp:/^(\d+)t$/i},tr:{method:(e,t,n)=>{let r=0;return e&&"0"!==e&&(r+=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),t&&"0"!==t&&(r+=this._beatsToUnits(parseFloat(t))),n&&"0"!==n&&(r+=this._beatsToUnits(parseFloat(n)/4)),r},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof so&&this.fromType(this._val),Ji(this._val))return this._noArg();if(ss(this._val)&&Ji(this._units)){for(const e in this._expressions)if(this._expressions[e].regexp.test(this._val.trim())){this._units=e;break}}else if(ns(this._val)){let e=0;for(const t in this._val)if(es(this._val[t])){const n=this._val[t];e+=new this.constructor(this.context,t).valueOf()*n}return e}if(es(this._units)){const e=this._expressions[this._units],t=this._val.toString().trim().match(e.regexp);return t?e.method.apply(this,t.slice(1)):e.method.call(this,this._val)}return ss(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(e){return 1/e}_beatsToUnits(e){return 60/this._getBpm()*e}_secondsToUnits(e){return e}_ticksToUnits(e){return e*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(e){switch(this._units=void 0,this.defaultUnits){case"s":this._val=e.toSeconds();break;case"i":this._val=e.toTicks();break;case"hz":this._val=e.toFrequency();break;case"midi":this._val=e.toMidi()}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return 1e3*this.toSeconds()}}class oo extends so{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:e=>this._now()+new this.constructor(this.context,e).valueOf(),regexp:/^\+(.+)/},quantize:{method:e=>{const t=new oo(this.context,e).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(t))},regexp:/^@(.+)/}})}quantize(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;const n=new this.constructor(this.context,e).valueOf(),r=this.valueOf();return r+(Math.round(r/n)*n-r)*t}toNotation(){const e=this.toSeconds(),t=["1m"];for(let i=1;i<9;i++){const e=Math.pow(2,i);t.push(e+"n."),t.push(e+"n"),t.push(e+"t")}t.push("0");let n=t[0],r=new oo(this.context,t[0]).toSeconds();return t.forEach((t=>{const i=new oo(this.context,t).toSeconds();Math.abs(i-e)<Math.abs(r-e)&&(n=t,r=i)})),n}toBarsBeatsSixteenths(){const e=this._beatsToUnits(1);let t=this.valueOf()/e;t=parseFloat(t.toFixed(4));const n=Math.floor(t/this._getTimeSignature());let r=t%1*4;t=Math.floor(t)%this._getTimeSignature();const i=r.toString();i.length>3&&(r=parseFloat(parseFloat(i).toFixed(3)));return[n,t,r].join(":")}toTicks(){const e=this._beatsToUnits(1);return this.valueOf()/e*this._getPPQ()}toSeconds(){return this.valueOf()}toMidi(){return no(this.toFrequency())}_now(){return this.context.now()}}class ao extends oo{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return to}static set A4(e){!function(e){to=e}(e)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(e){return"midi"===this.defaultUnits?e:ao.mtof(e)}},note:{regexp:/^([a-g]{1}(?:b|#|##|x|bb|###|#x|x#|bbb)?)(-?[0-9]+)/i,method(e,t){const n=lo[e.toLowerCase()]+12*(parseInt(t,10)+1);return"midi"===this.defaultUnits?n:ao.mtof(n)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(e,t,n){let r=1;return e&&"0"!==e&&(r*=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),t&&"0"!==t&&(r*=this._beatsToUnits(parseFloat(t))),n&&"0"!==n&&(r*=this._beatsToUnits(parseFloat(n)/4)),r}}})}transpose(e){return new ao(this.context,this.valueOf()*eo(e))}harmonize(e){return e.map((e=>this.transpose(e)))}toMidi(){return no(this.valueOf())}toNote(){const e=this.toFrequency(),t=Math.log2(e/ao.A4);let n=Math.round(12*t)+57;const r=Math.floor(n/12);r<0&&(n+=-12*r);return uo[n%12]+r.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const e=this._beatsToUnits(1),t=this.valueOf()/e;return Math.floor(t*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(e){return e}_ticksToUnits(e){return 1/(60*e/(this._getBpm()*this._getPPQ()))}_beatsToUnits(e){return 1/super._beatsToUnits(e)}_secondsToUnits(e){return 1/e}static mtof(e){return io(e)}static ftom(e){return no(e)}}const lo={cbbb:-3,cbb:-2,cb:-1,c:0,"c#":1,cx:2,"c##":2,"c###":3,"cx#":3,"c#x":3,dbbb:-1,dbb:0,db:1,d:2,"d#":3,dx:4,"d##":4,"d###":5,"dx#":5,"d#x":5,ebbb:1,ebb:2,eb:3,e:4,"e#":5,ex:6,"e##":6,"e###":7,"ex#":7,"e#x":7,fbbb:2,fbb:3,fb:4,f:5,"f#":6,fx:7,"f##":7,"f###":8,"fx#":8,"f#x":8,gbbb:4,gbb:5,gb:6,g:7,"g#":8,gx:9,"g##":9,"g###":10,"gx#":10,"g#x":10,abbb:6,abb:7,ab:8,a:9,"a#":10,ax:11,"a##":11,"a###":12,"ax#":12,"a#x":12,bbbb:8,bbb:9,bb:10,b:11,"b#":12,bx:13,"b##":13,"b###":14,"bx#":14,"b#x":14},uo=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];class co extends oo{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}class ho extends Ms{constructor(){super();const e=Ts(ho.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=e.context}static getDefaults(){return{context:Zs()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(e){return function(e){Ji(e)&&cs&&!hs&&(hs=!0,fs("Events scheduled inside of scheduled callbacks should use the passed in scheduling time. See https://github.com/Tonejs/Tone.js/wiki/Accurate-Timing"))}(e),new oo(this.context,e).toSeconds()}toFrequency(e){return new ao(this.context,e).toFrequency()}toTicks(e){return new co(this.context,e).toTicks()}_getPartialProperties(e){const t=this.get();return Object.keys(t).forEach((n=>{Ji(e[n])&&delete t[n]})),t}get(){const e=this.constructor.getDefaults();return Object.keys(e).forEach((t=>{if(Reflect.has(this,t)){const n=this[t];es(n)&&es(n.value)&&es(n.setValueAtTime)?e[t]=n.value:n instanceof ho?e[t]=n._getPartialProperties(e[t]):is(n)||ts(n)||ss(n)||rs(n)?e[t]=n:delete e[t]}})),e}set(e){return Object.keys(e).forEach((t=>{Reflect.has(this,t)&&es(this[t])&&(this[t]&&es(this[t].value)&&es(this[t].setValueAtTime)?this[t].value!==e[t]&&(this[t].value=e[t]):this[t]instanceof ho?this[t].set(e[t]):this[t]=e[t])})),this}}class po extends Rs{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"stopped";super(),this.name="StateTimeline",this._initial=e,this.setStateAtTime(this._initial,0)}getValueAtTime(e){const t=this.get(e);return null!==t?t.state:this._initial}setStateAtTime(e,t,n){return ls(t,0),this.add(Object.assign({},n,{state:e,time:t})),this}getLastState(e,t){for(let n=this._search(t);n>=0;n--){const t=this._timeline[n];if(t.state===e)return t}}getNextState(e,t){const n=this._search(t);if(-1!==n)for(let r=n;r<this._timeline.length;r++){const t=this._timeline[r];if(t.state===e)return t}}}class fo extends ho{constructor(){const e=Ts(fo.getDefaults(),arguments,["param","units","convert"]);for(super(e),this.name="Param",this.overridden=!1,this._minOutput=1e-7,as(es(e.param)&&(bs(e.param)||e.param instanceof fo),"param must be an AudioParam");!bs(e.param);)e.param=e.param._param;this._swappable=!!es(e.swappable)&&e.swappable,this._swappable?(this.input=this.context.createGain(),this._param=e.param,this.input.connect(this._param)):this._param=this.input=e.param,this._events=new Rs(1e3),this._initialValue=this._param.defaultValue,this.units=e.units,this.convert=e.convert,this._minValue=e.minValue,this._maxValue=e.maxValue,es(e.value)&&e.value!==this._toType(this._initialValue)&&this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(ho.getDefaults(),{convert:!0,units:"number"})}get value(){const e=this.now();return this.getValueAtTime(e)}set value(e){this.cancelScheduledValues(this.now()),this.setValueAtTime(e,this.now())}get minValue(){return es(this._minValue)?this._minValue:"time"===this.units||"frequency"===this.units||"normalRange"===this.units||"positive"===this.units||"transportTime"===this.units||"ticks"===this.units||"bpm"===this.units||"hertz"===this.units||"samples"===this.units?0:"audioRange"===this.units?-1:"decibels"===this.units?-1/0:this._param.minValue}get maxValue(){return es(this._maxValue)?this._maxValue:"normalRange"===this.units||"audioRange"===this.units?1:this._param.maxValue}_is(e,t){return this.units===t}_assertRange(e){return es(this.maxValue)&&es(this.minValue)&&ls(e,this._fromType(this.minValue),this._fromType(this.maxValue)),e}_fromType(e){return this.convert&&!this.overridden?this._is(e,"time")?this.toSeconds(e):this._is(e,"decibels")?Ks(e):this._is(e,"frequency")?this.toFrequency(e):e:this.overridden?0:e}_toType(e){return this.convert&&"decibels"===this.units?Js(e):e}setValueAtTime(e,t){const n=this.toSeconds(t),r=this._fromType(e);return as(isFinite(r)&&isFinite(n),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._assertRange(r),this.log(this.units,"setValueAtTime",e,n),this._events.add({time:n,type:"setValueAtTime",value:r}),this._param.setValueAtTime(r,n),this}getValueAtTime(e){const t=Math.max(this.toSeconds(e),0),n=this._events.getAfter(t),r=this._events.get(t);let i=this._initialValue;if(null===r)i=this._initialValue;else if("setTargetAtTime"!==r.type||null!==n&&"setValueAtTime"!==n.type)if(null===n)i=r.value;else if("linearRampToValueAtTime"===n.type||"exponentialRampToValueAtTime"===n.type){let e=r.value;if("setTargetAtTime"===r.type){const t=this._events.getBefore(r.time);e=null===t?this._initialValue:t.value}i="linearRampToValueAtTime"===n.type?this._linearInterpolate(r.time,e,n.time,n.value,t):this._exponentialInterpolate(r.time,e,n.time,n.value,t)}else i=r.value;else{const e=this._events.getBefore(r.time);let n;n=null===e?this._initialValue:e.value,"setTargetAtTime"===r.type&&(i=this._exponentialApproach(r.time,n,r.value,r.constant,t))}return this._toType(i)}setRampPoint(e){e=this.toSeconds(e);let t=this.getValueAtTime(e);return this.cancelAndHoldAtTime(e),0===this._fromType(t)&&(t=this._toType(this._minOutput)),this.setValueAtTime(t,e),this}linearRampToValueAtTime(e,t){const n=this._fromType(e),r=this.toSeconds(t);return as(isFinite(n)&&isFinite(r),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._assertRange(n),this._events.add({time:r,type:"linearRampToValueAtTime",value:n}),this.log(this.units,"linearRampToValueAtTime",e,r),this._param.linearRampToValueAtTime(n,r),this}exponentialRampToValueAtTime(e,t){let n=this._fromType(e);n=Ns(n,0)?this._minOutput:n,this._assertRange(n);const r=this.toSeconds(t);return as(isFinite(n)&&isFinite(r),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._events.add({time:r,type:"exponentialRampToValueAtTime",value:n}),this.log(this.units,"exponentialRampToValueAtTime",e,r),this._param.exponentialRampToValueAtTime(n,r),this}exponentialRampTo(e,t,n){return n=this.toSeconds(n),this.setRampPoint(n),this.exponentialRampToValueAtTime(e,n+this.toSeconds(t)),this}linearRampTo(e,t,n){return n=this.toSeconds(n),this.setRampPoint(n),this.linearRampToValueAtTime(e,n+this.toSeconds(t)),this}targetRampTo(e,t,n){return n=this.toSeconds(n),this.setRampPoint(n),this.exponentialApproachValueAtTime(e,n,t),this}exponentialApproachValueAtTime(e,t,n){t=this.toSeconds(t),n=this.toSeconds(n);const r=Math.log(n+1)/Math.log(200);return this.setTargetAtTime(e,t,r),this.cancelAndHoldAtTime(t+.9*n),this.linearRampToValueAtTime(e,t+n),this}setTargetAtTime(e,t,n){const r=this._fromType(e);as(isFinite(n)&&n>0,"timeConstant must be a number greater than 0");const i=this.toSeconds(t);return this._assertRange(r),as(isFinite(r)&&isFinite(i),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._events.add({constant:n,time:i,type:"setTargetAtTime",value:r}),this.log(this.units,"setTargetAtTime",e,i,n),this._param.setTargetAtTime(r,i,n),this}setValueCurveAtTime(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;n=this.toSeconds(n),t=this.toSeconds(t);const i=this._fromType(e[0])*r;this.setValueAtTime(this._toType(i),t);const s=n/(e.length-1);for(let o=1;o<e.length;o++){const n=this._fromType(e[o])*r;this.linearRampToValueAtTime(this._toType(n),t+o*s)}return this}cancelScheduledValues(e){const t=this.toSeconds(e);return as(isFinite(t),`Invalid argument to cancelScheduledValues: ${JSON.stringify(e)}`),this._events.cancel(t),this._param.cancelScheduledValues(t),this.log(this.units,"cancelScheduledValues",t),this}cancelAndHoldAtTime(e){const t=this.toSeconds(e),n=this._fromType(this.getValueAtTime(t));as(isFinite(t),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(e)}`),this.log(this.units,"cancelAndHoldAtTime",t,"value="+n);const r=this._events.get(t),i=this._events.getAfter(t);return r&&Ns(r.time,t)?i?(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time)):(this._param.cancelAndHoldAtTime(t),this._events.cancel(t+this.sampleTime)):i&&(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time),"linearRampToValueAtTime"===i.type?this.linearRampToValueAtTime(this._toType(n),t):"exponentialRampToValueAtTime"===i.type&&this.exponentialRampToValueAtTime(this._toType(n),t)),this._events.add({time:t,type:"setValueAtTime",value:n}),this._param.setValueAtTime(n,t),this}rampTo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.1,n=arguments.length>2?arguments[2]:void 0;return"frequency"===this.units||"bpm"===this.units||"decibels"===this.units?this.exponentialRampTo(e,t,n):this.linearRampTo(e,t,n),this}apply(e){const t=this.context.currentTime;e.setValueAtTime(this.getValueAtTime(t),t);const n=this._events.get(t);if(n&&"setTargetAtTime"===n.type){const r=this._events.getAfter(n.time),i=r?r.time:t+2,s=(i-t)/10;for(let n=t;n<i;n+=s)e.linearRampToValueAtTime(this.getValueAtTime(n),n)}return this._events.forEachAfter(this.context.currentTime,(t=>{"cancelScheduledValues"===t.type?e.cancelScheduledValues(t.time):"setTargetAtTime"===t.type?e.setTargetAtTime(t.value,t.time,t.constant):e[t.type](t.value,t.time)})),this}setParam(e){as(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const t=this.input;return t.disconnect(this._param),this.apply(e),this._param=e,t.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(e,t,n,r,i){return n+(t-n)*Math.exp(-(i-e)/r)}_linearInterpolate(e,t,n,r,i){return t+(i-e)/(n-e)*(r-t)}_exponentialInterpolate(e,t,n,r,i){return t*Math.pow(r/t,(i-e)/(n-e))}}class mo extends ho{constructor(){super(...arguments),this._internalChannels=[]}get numberOfInputs(){return es(this.input)?bs(this.input)||this.input instanceof fo?1:this.input.numberOfInputs:0}get numberOfOutputs(){return es(this.output)?this.output.numberOfOutputs:0}_isAudioNode(e){return es(e)&&(e instanceof mo||xs(e))}_getInternalNodes(){const e=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&e.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&e.push(this.output),e}_setChannelProperties(e){this._getInternalNodes().forEach((t=>{t.channelCount=e.channelCount,t.channelCountMode=e.channelCountMode,t.channelInterpretation=e.channelInterpretation}))}_getChannelProperties(){const e=this._getInternalNodes();as(e.length>0,"ToneAudioNode does not have any internal nodes");const t=e[0];return{channelCount:t.channelCount,channelCountMode:t.channelCountMode,channelInterpretation:t.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelCount:e}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelCountMode:e}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelInterpretation:e}))}connect(e){return vo(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return fs("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(e){return yo(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0),this}chain(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return go(this,...t),this}fan(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.forEach((e=>this.connect(e))),this}dispose(){return super.dispose(),es(this.input)&&(this.input instanceof mo?this.input.dispose():xs(this.input)&&this.input.disconnect()),es(this.output)&&(this.output instanceof mo?this.output.dispose():xs(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function go(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.shift();t.reduce(((e,t)=>(e instanceof mo?e.connect(t):xs(e)&&vo(e,t),t)),r)}function vo(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;for(as(es(e),"Cannot connect from undefined node"),as(es(t),"Cannot connect to undefined node"),(t instanceof mo||xs(t))&&as(t.numberOfInputs>0,"Cannot connect to node with no inputs"),as(e.numberOfOutputs>0,"Cannot connect from node with no outputs");t instanceof mo||t instanceof fo;)es(t.input)&&(t=t.input);for(;e instanceof mo;)es(e.output)&&(e=e.output);bs(t)?e.connect(t,n):e.connect(t,n,r)}function yo(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(es(t))for(;t instanceof mo;)t=t.input;for(;!xs(e);)es(e.output)&&(e=e.output);bs(t)?e.disconnect(t,n):xs(t)?e.disconnect(t,n,r):e.disconnect()}class _o extends mo{constructor(){const e=Ts(_o.getDefaults(),arguments,["gain","units"]);super(e),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode,this.gain=new fo({context:this.context,convert:e.convert,param:this._gainNode.gain,units:e.units,value:e.gain,minValue:e.minValue,maxValue:e.maxValue}),Us(this,"gain")}static getDefaults(){return Object.assign(mo.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class bo extends mo{constructor(e){super(e),this.onended=$s,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new _o({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(e){const t=this.toSeconds(e);return-1!==this._startTime&&t>=this._startTime&&(-1===this._stopTime||t<=this._stopTime)?"started":"stopped"},this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut,this._curve=e.curve,this.onended=e.onended}static getDefaults(){return Object.assign(mo.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:$s})}_startGain(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;as(-1===this._startTime,"Source cannot be started more than once");const n=this.toSeconds(this._fadeIn);return this._startTime=e+n,this._startTime=Math.max(this._startTime,this.context.currentTime),n>0?(this._gainNode.gain.setValueAtTime(0,e),"linear"===this._curve?this._gainNode.gain.linearRampToValueAtTime(t,e+n):this._gainNode.gain.exponentialApproachValueAtTime(t,e,n)):this._gainNode.gain.setValueAtTime(t,e),this}stop(e){return this.log("stop",e),this._stopGain(this.toSeconds(e)),this}_stopGain(e){as(-1!==this._startTime,"'start' must be called before 'stop'"),this.cancelStop();const t=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(e)+t,this._stopTime=Math.max(this._stopTime,this.now()),t>0?"linear"===this._curve?this._gainNode.gain.linearRampTo(0,t,e):this._gainNode.gain.targetRampTo(0,t,e):(this._gainNode.gain.cancelAndHoldAtTime(e),this._gainNode.gain.setValueAtTime(0,e)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout((()=>{const e="exponential"===this._curve?2*t:0;this._stopSource(this.now()+e),this._onended()}),this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==$s&&(this.onended(this),this.onended=$s,!this.context.isOffline)){const e=()=>this.dispose();"undefined"!==typeof window.requestIdleCallback?window.requestIdleCallback(e):setTimeout(e,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),as(-1!==this._startTime,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.dispose(),this.onended=$s,this}}class xo extends bo{constructor(){const e=Ts(xo.getDefaults(),arguments,["offset"]);super(e),this.name="ToneConstantSource",this._source=this.context.createConstantSource(),vo(this._source,this._gainNode),this.offset=new fo({context:this.context,convert:e.convert,param:this._source.offset,units:e.units,value:e.offset,minValue:e.minValue,maxValue:e.maxValue})}static getDefaults(){return Object.assign(bo.getDefaults(),{convert:!0,offset:1,units:"number"})}start(e){const t=this.toSeconds(e);return this.log("start",t),this._startGain(t),this._source.start(t),this}_stopSource(e){this._source.stop(e)}dispose(){return super.dispose(),"started"===this.state&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class wo extends mo{constructor(){const e=Ts(wo.getDefaults(),arguments,["value","units"]);super(e),this.name="Signal",this.override=!0,this.output=this._constantSource=new xo({context:this.context,convert:e.convert,offset:e.value,units:e.units,minValue:e.minValue,maxValue:e.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(mo.getDefaults(),{convert:!0,units:"number",value:0})}connect(e){return ko(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(e,t){return this._param.setValueAtTime(e,t),this}getValueAtTime(e){return this._param.getValueAtTime(e)}setRampPoint(e){return this._param.setRampPoint(e),this}linearRampToValueAtTime(e,t){return this._param.linearRampToValueAtTime(e,t),this}exponentialRampToValueAtTime(e,t){return this._param.exponentialRampToValueAtTime(e,t),this}exponentialRampTo(e,t,n){return this._param.exponentialRampTo(e,t,n),this}linearRampTo(e,t,n){return this._param.linearRampTo(e,t,n),this}targetRampTo(e,t,n){return this._param.targetRampTo(e,t,n),this}exponentialApproachValueAtTime(e,t,n){return this._param.exponentialApproachValueAtTime(e,t,n),this}setTargetAtTime(e,t,n){return this._param.setTargetAtTime(e,t,n),this}setValueCurveAtTime(e,t,n,r){return this._param.setValueCurveAtTime(e,t,n,r),this}cancelScheduledValues(e){return this._param.cancelScheduledValues(e),this}cancelAndHoldAtTime(e){return this._param.cancelAndHoldAtTime(e),this}rampTo(e,t,n){return this._param.rampTo(e,t,n),this}get value(){return this._param.value}set value(e){this._param.value=e}get convert(){return this._param.convert}set convert(e){this._param.convert=e}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(e){this._param.overridden=e}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(e){return this._param.apply(e),this}}function ko(e,t,n,r){(t instanceof fo||bs(t)||t instanceof wo&&t.override)&&(t.cancelScheduledValues(0),t.setValueAtTime(0,0),t instanceof wo&&(t.overridden=!0)),vo(e,t,n,r)}class Co extends fo{constructor(){const e=Ts(Co.getDefaults(),arguments,["value"]);super(e),this.name="TickParam",this._events=new Rs(1/0),this._multiplier=1,this._multiplier=e.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(e.value)}),this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(fo.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(e,t,n){t=this.toSeconds(t),this.setRampPoint(t);const r=this._fromType(e),i=this._events.get(t),s=Math.round(Math.max(1/n,1));for(let o=0;o<=s;o++){const e=n*o+t,s=this._exponentialApproach(i.time,i.value,r,n,e);this.linearRampToValueAtTime(this._toType(s),e)}return this}setValueAtTime(e,t){const n=this.toSeconds(t);super.setValueAtTime(e,t);const r=this._events.get(n),i=this._events.previousEvent(r),s=this._getTicksUntilEvent(i,n);return r.ticks=Math.max(s,0),this}linearRampToValueAtTime(e,t){const n=this.toSeconds(t);super.linearRampToValueAtTime(e,t);const r=this._events.get(n),i=this._events.previousEvent(r),s=this._getTicksUntilEvent(i,n);return r.ticks=Math.max(s,0),this}exponentialRampToValueAtTime(e,t){t=this.toSeconds(t);const n=this._fromType(e),r=this._events.get(t),i=Math.round(Math.max(10*(t-r.time),1)),s=(t-r.time)/i;for(let o=0;o<=i;o++){const e=s*o+r.time,i=this._exponentialInterpolate(r.time,r.value,t,n,e);this.linearRampToValueAtTime(this._toType(i),e)}return this}_getTicksUntilEvent(e,t){if(null===e)e={ticks:0,time:0,type:"setValueAtTime",value:0};else if(Ji(e.ticks)){const t=this._events.previousEvent(e);e.ticks=this._getTicksUntilEvent(t,e.time)}const n=this._fromType(this.getValueAtTime(e.time));let r=this._fromType(this.getValueAtTime(t));const i=this._events.get(t);return i&&i.time===t&&"setValueAtTime"===i.type&&(r=this._fromType(this.getValueAtTime(t-this.sampleTime))),.5*(t-e.time)*(n+r)+e.ticks}getTicksAtTime(e){const t=this.toSeconds(e),n=this._events.get(t);return Math.max(this._getTicksUntilEvent(n,t),0)}getDurationOfTicks(e,t){const n=this.toSeconds(t),r=this.getTicksAtTime(t);return this.getTimeOfTick(r+e)-n}getTimeOfTick(e){const t=this._events.get(e,"ticks"),n=this._events.getAfter(e,"ticks");if(t&&t.ticks===e)return t.time;if(t&&n&&"linearRampToValueAtTime"===n.type&&t.value!==n.value){const r=this._fromType(this.getValueAtTime(t.time)),i=(this._fromType(this.getValueAtTime(n.time))-r)/(n.time-t.time),s=Math.sqrt(Math.pow(r,2)-2*i*(t.ticks-e)),o=(-r+s)/i;return(o>0?o:(-r-s)/i)+t.time}return t?0===t.value?1/0:t.time+(e-t.ticks)/t.value:e/this._initialValue}ticksToTime(e,t){return this.getDurationOfTicks(e,t)}timeToTicks(e,t){const n=this.toSeconds(t),r=this.toSeconds(e),i=this.getTicksAtTime(n);return this.getTicksAtTime(n+r)-i}_fromType(e){return"bpm"===this.units&&this.multiplier?1/(60/e/this.multiplier):super._fromType(e)}_toType(e){return"bpm"===this.units&&this.multiplier?e/this.multiplier*60:super._toType(e)}get multiplier(){return this._multiplier}set multiplier(e){const t=this.value;this._multiplier=e,this.cancelScheduledValues(0),this.setValueAtTime(t,0)}}class So extends wo{constructor(){const e=Ts(So.getDefaults(),arguments,["value"]);super(e),this.name="TickSignal",this.input=this._param=new Co({context:this.context,convert:e.convert,multiplier:e.multiplier,param:this._constantSource.offset,units:e.units,value:e.value})}static getDefaults(){return Object.assign(wo.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(e,t){return this._param.ticksToTime(e,t)}timeToTicks(e,t){return this._param.timeToTicks(e,t)}getTimeOfTick(e){return this._param.getTimeOfTick(e)}getDurationOfTicks(e,t){return this._param.getDurationOfTicks(e,t)}getTicksAtTime(e){return this._param.getTicksAtTime(e)}get multiplier(){return this._param.multiplier}set multiplier(e){this._param.multiplier=e}dispose(){return super.dispose(),this._param.dispose(),this}}class To extends ho{constructor(){const e=Ts(To.getDefaults(),arguments,["frequency"]);super(e),this.name="TickSource",this._state=new po,this._tickOffset=new Rs,this._ticksAtTime=new Rs,this._secondsAtTime=new Rs,this.frequency=new So({context:this.context,units:e.units,value:e.frequency}),Us(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},ho.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(e,t){const n=this.toSeconds(e);return"started"!==this._state.getValueAtTime(n)&&(this._state.setStateAtTime("started",n),es(t)&&this.setTicksAtTime(t,n),this._ticksAtTime.cancel(n),this._secondsAtTime.cancel(n)),this}stop(e){const t=this.toSeconds(e);if("stopped"===this._state.getValueAtTime(t)){const e=this._state.get(t);e&&e.time>0&&(this._tickOffset.cancel(e.time),this._state.cancel(e.time))}return this._state.cancel(t),this._state.setStateAtTime("stopped",t),this.setTicksAtTime(0,t),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t),this}pause(e){const t=this.toSeconds(e);return"started"===this._state.getValueAtTime(t)&&(this._state.setStateAtTime("paused",t),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t)),this}cancel(e){return e=this.toSeconds(e),this._state.cancel(e),this._tickOffset.cancel(e),this._ticksAtTime.cancel(e),this._secondsAtTime.cancel(e),this}getTicksAtTime(e){const t=this.toSeconds(e),n=this._state.getLastState("stopped",t),r=this._ticksAtTime.get(t),i={state:"paused",time:t};this._state.add(i);let s=r||n,o=r?r.ticks:0,a=null;return this._state.forEachBetween(s.time,t+this.sampleTime,(e=>{let t=s.time;const n=this._tickOffset.get(e.time);n&&n.time>=s.time&&(o=n.ticks,t=n.time),"started"===s.state&&"started"!==e.state&&(o+=this.frequency.getTicksAtTime(e.time)-this.frequency.getTicksAtTime(t),e.time!==i.time&&(a={state:e.state,time:e.time,ticks:o})),s=e})),this._state.remove(i),a&&this._ticksAtTime.add(a),o}get ticks(){return this.getTicksAtTime(this.now())}set ticks(e){this.setTicksAtTime(e,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(e){const t=this.now(),n=this.frequency.timeToTicks(e,t);this.setTicksAtTime(n,t)}getSecondsAtTime(e){e=this.toSeconds(e);const t=this._state.getLastState("stopped",e),n={state:"paused",time:e};this._state.add(n);const r=this._secondsAtTime.get(e);let i=r||t,s=r?r.seconds:0,o=null;return this._state.forEachBetween(i.time,e+this.sampleTime,(e=>{let t=i.time;const r=this._tickOffset.get(e.time);r&&r.time>=i.time&&(s=r.seconds,t=r.time),"started"===i.state&&"started"!==e.state&&(s+=e.time-t,e.time!==n.time&&(o={state:e.state,time:e.time,seconds:s})),i=e})),this._state.remove(n),o&&this._secondsAtTime.add(o),s}setTicksAtTime(e,t){return t=this.toSeconds(t),this._tickOffset.cancel(t),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(e,t),ticks:e,time:t}),this._ticksAtTime.cancel(t),this._secondsAtTime.cancel(t),this}getStateAtTime(e){return e=this.toSeconds(e),this._state.getValueAtTime(e)}getTimeOfTick(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.now();const n=this._tickOffset.get(t),r=this._state.get(t),i=Math.max(n.time,r.time),s=this.frequency.getTicksAtTime(i)+e-n.ticks;return this.frequency.getTimeOfTick(s)}forEachTickBetween(e,t,n){let r=this._state.get(e);this._state.forEachBetween(e,t,(t=>{r&&"started"===r.state&&"started"!==t.state&&this.forEachTickBetween(Math.max(r.time,e),t.time-this.sampleTime,n),r=t}));let i=null;if(r&&"started"===r.state){const o=Math.max(r.time,e),a=this.frequency.getTicksAtTime(o),l=a-this.frequency.getTicksAtTime(r.time);let u=Math.ceil(l)-l;u=Ns(u,1)?0:u;let c=this.frequency.getTimeOfTick(a+u);for(;c<t;){try{n(c,Math.round(this.getTicksAtTime(c)))}catch(s){i=s;break}c+=this.frequency.getDurationOfTicks(1,c)}}if(i)throw i;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this._ticksAtTime.dispose(),this._secondsAtTime.dispose(),this.frequency.dispose(),this}}class Eo extends ho{constructor(){const e=Ts(Eo.getDefaults(),arguments,["callback","frequency"]);super(e),this.name="Clock",this.callback=$s,this._lastUpdate=0,this._state=new po("stopped"),this._boundLoop=this._loop.bind(this),this.callback=e.callback,this._tickSource=new To({context:this.context,frequency:e.frequency,units:e.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,Us(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(ho.getDefaults(),{callback:$s,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(e,t){us(this.context);const n=this.toSeconds(e);return this.log("start",n),"started"!==this._state.getValueAtTime(n)&&(this._state.setStateAtTime("started",n),this._tickSource.start(n,t),n<this._lastUpdate&&this.emit("start",n,t)),this}stop(e){const t=this.toSeconds(e);return this.log("stop",t),this._state.cancel(t),this._state.setStateAtTime("stopped",t),this._tickSource.stop(t),t<this._lastUpdate&&this.emit("stop",t),this}pause(e){const t=this.toSeconds(e);return"started"===this._state.getValueAtTime(t)&&(this._state.setStateAtTime("paused",t),this._tickSource.pause(t),t<this._lastUpdate&&this.emit("pause",t)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(e){this._tickSource.ticks=e}get seconds(){return this._tickSource.seconds}set seconds(e){this._tickSource.seconds=e}getSecondsAtTime(e){return this._tickSource.getSecondsAtTime(e)}setTicksAtTime(e,t){return this._tickSource.setTicksAtTime(e,t),this}getTimeOfTick(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.now();return this._tickSource.getTimeOfTick(e,t)}getTicksAtTime(e){return this._tickSource.getTicksAtTime(e)}nextTickTime(e,t){const n=this.toSeconds(t),r=this.getTicksAtTime(n);return this._tickSource.getTimeOfTick(r+e,n)}_loop(){const e=this._lastUpdate,t=this.now();this._lastUpdate=t,this.log("loop",e,t),e!==t&&(this._state.forEachBetween(e,t,(e=>{switch(e.state){case"started":const t=this._tickSource.getTicksAtTime(e.time);this.emit("start",e.time,t);break;case"stopped":0!==e.time&&this.emit("stop",e.time);break;case"paused":this.emit("pause",e.time)}})),this._tickSource.forEachTickBetween(e,t,((e,t)=>{this.callback(e,t)})))}getStateAtTime(e){const t=this.toSeconds(e);return this._state.getValueAtTime(t)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}Ws.mixin(Eo);class Ao extends mo{constructor(){const e=Ts(Ao.getDefaults(),arguments,["volume"]);super(e),this.name="Volume",this.input=this.output=new _o({context:this.context,gain:e.volume,units:"decibels"}),this.volume=this.output.gain,Us(this,"volume"),this._unmutedVolume=e.volume,this.mute=e.mute}static getDefaults(){return Object.assign(mo.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(e){!this.mute&&e?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!e&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class Mo extends mo{constructor(){const e=Ts(Mo.getDefaults(),arguments);super(e),this.name="Destination",this.input=new Ao({context:this.context}),this.output=new _o({context:this.context}),this.volume=this.input.volume,go(this.input,this.output,this.context.rawContext.destination),this.mute=e.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(mo.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(e){this.input.mute=e}chain(){this.input.disconnect();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.unshift(this.input),t.push(this.output),go(...t),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}Fs((e=>{e.destination=new Mo({context:e})})),Ls((e=>{e.destination.dispose()}));class Po extends mo{constructor(){super(...arguments),this.name="Listener",this.positionX=new fo({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new fo({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new fo({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new fo({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new fo({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new fo({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new fo({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new fo({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new fo({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(mo.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}Fs((e=>{e.listener=new Po({context:e})})),Ls((e=>{e.listener.dispose()}));class jo extends Ms{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const e=Ts(jo.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=e.baseUrl,Object.keys(e.urls).forEach((t=>{this._loadingCount++;const n=e.urls[t];this.add(t,n,this._bufferLoaded.bind(this,e.onload),e.onerror)}))}static getDefaults(){return{baseUrl:"",onerror:$s,onload:$s,urls:{}}}has(e){return this._buffers.has(e.toString())}get(e){return as(this.has(e),`ToneAudioBuffers has no buffer named: ${e}`),this._buffers.get(e.toString())}_bufferLoaded(e){this._loadingCount--,0===this._loadingCount&&e&&e()}get loaded(){return Array.from(this._buffers).every((e=>{let[t,n]=e;return n.loaded}))}add(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:$s,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:$s;return ss(t)?(this.baseUrl&&"data:audio/"===t.trim().substring(0,11).toLowerCase()&&(this.baseUrl=""),this._buffers.set(e.toString(),new Hs(this.baseUrl+t,n,r))):this._buffers.set(e.toString(),new Hs(t,n,r)),this}dispose(){return super.dispose(),this._buffers.forEach((e=>e.dispose())),this._buffers.clear(),this}}class Oo extends co{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(e){return this._getPPQ()*e}_secondsToUnits(e){return Math.floor(e/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(e){return e}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}class Io extends ho{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new Rs,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(e,t){return this._events.add({callback:e,time:this.toSeconds(t)}),1===this._events.length&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(e){return this._events.cancel(this.toSeconds(e)),this}_drawLoop(){const e=this.context.currentTime;for(;this._events.length&&this._events.peek().time-this.anticipation<=e;){const t=this._events.shift();t&&e-t.time<=this.expiration&&t.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}Fs((e=>{e.draw=new Io({context:e})})),Ls((e=>{e.draw.dispose()}));class No extends Ms{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(e){as(es(e.time),"Events must have a time property"),as(es(e.duration),"Events must have a duration parameter"),e.time=e.time.valueOf();let t=new Do(e.time,e.time+e.duration,e);for(null===this._root?this._root=t:this._root.insert(t),this._length++;null!==t;)t.updateHeight(),t.updateMax(),this._rebalance(t),t=t.parent;return this}remove(e){if(null!==this._root){const t=[];this._root.search(e.time,t);for(const n of t)if(n.event===e){this._removeNode(n),this._length--;break}}return this}get length(){return this._length}cancel(e){return this.forEachFrom(e,(e=>this.remove(e))),this}_setRoot(e){this._root=e,null!==this._root&&(this._root.parent=null)}_replaceNodeInParent(e,t){null!==e.parent?(e.isLeftChild()?e.parent.left=t:e.parent.right=t,this._rebalance(e.parent)):this._setRoot(t)}_removeNode(e){if(null===e.left&&null===e.right)this._replaceNodeInParent(e,null);else if(null===e.right)this._replaceNodeInParent(e,e.left);else if(null===e.left)this._replaceNodeInParent(e,e.right);else{let t,n=null;if(e.getBalance()>0)if(null===e.left.right)t=e.left,t.right=e.right,n=t;else{for(t=e.left.right;null!==t.right;)t=t.right;t.parent&&(t.parent.right=t.left,n=t.parent,t.left=e.left,t.right=e.right)}else if(null===e.right.left)t=e.right,t.left=e.left,n=t;else{for(t=e.right.left;null!==t.left;)t=t.left;t.parent&&(t.parent.left=t.right,n=t.parent,t.left=e.left,t.right=e.right)}null!==e.parent?e.isLeftChild()?e.parent.left=t:e.parent.right=t:this._setRoot(t),n&&this._rebalance(n)}e.dispose()}_rotateLeft(e){const t=e.parent,n=e.isLeftChild(),r=e.right;r&&(e.right=r.left,r.left=e),null!==t?n?t.left=r:t.right=r:this._setRoot(r)}_rotateRight(e){const t=e.parent,n=e.isLeftChild(),r=e.left;r&&(e.left=r.right,r.right=e),null!==t?n?t.left=r:t.right=r:this._setRoot(r)}_rebalance(e){const t=e.getBalance();t>1&&e.left?e.left.getBalance()<0?this._rotateLeft(e.left):this._rotateRight(e):t<-1&&e.right&&(e.right.getBalance()>0?this._rotateRight(e.right):this._rotateLeft(e))}get(e){if(null!==this._root){const t=[];if(this._root.search(e,t),t.length>0){let e=t[0];for(let n=1;n<t.length;n++)t[n].low>e.low&&(e=t[n]);return e.event}}return null}forEach(e){if(null!==this._root){const t=[];this._root.traverse((e=>t.push(e))),t.forEach((t=>{t.event&&e(t.event)}))}return this}forEachAtTime(e,t){if(null!==this._root){const n=[];this._root.search(e,n),n.forEach((e=>{e.event&&t(e.event)}))}return this}forEachFrom(e,t){if(null!==this._root){const n=[];this._root.searchAfter(e,n),n.forEach((e=>{e.event&&t(e.event)}))}return this}dispose(){return super.dispose(),null!==this._root&&this._root.traverse((e=>e.dispose())),this._root=null,this}}class Do{constructor(e,t,n){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=n,this.low=e,this.high=t,this.max=this.high}insert(e){e.low<=this.low?null===this.left?this.left=e:this.left.insert(e):null===this.right?this.right=e:this.right.insert(e)}search(e,t){e>this.max||(null!==this.left&&this.left.search(e,t),this.low<=e&&this.high>e&&t.push(this),this.low>e||null!==this.right&&this.right.search(e,t))}searchAfter(e,t){this.low>=e&&(t.push(this),null!==this.left&&this.left.searchAfter(e,t)),null!==this.right&&this.right.searchAfter(e,t)}traverse(e){e(this),null!==this.left&&this.left.traverse(e),null!==this.right&&this.right.traverse(e)}updateHeight(){null!==this.left&&null!==this.right?this.height=Math.max(this.left.height,this.right.height)+1:null!==this.right?this.height=this.right.height+1:null!==this.left?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,null!==this.left&&(this.max=Math.max(this.max,this.left.max)),null!==this.right&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let e=0;return null!==this.left&&null!==this.right?e=this.left.height-this.right.height:null!==this.left?e=this.left.height+1:null!==this.right&&(e=-(this.right.height+1)),e}isLeftChild(){return null!==this.parent&&this.parent.left===this}get left(){return this._left}set left(e){this._left=e,null!==e&&(e.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(e){this._right=e,null!==e&&(e.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class Ro extends Ms{constructor(e){super(),this.name="TimelineValue",this._timeline=new Rs({memory:10}),this._initialValue=e}set(e,t){return this._timeline.add({value:e,time:t}),this}get(e){const t=this._timeline.get(e);return t?t.value:this._initialValue}}class zo extends mo{constructor(){super(Ts(zo.getDefaults(),arguments,["context"]))}connect(e){return ko(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0),this}}class Fo extends zo{constructor(){const e=Ts(Fo.getDefaults(),arguments,["mapping","length"]);super(e),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper,is(e.mapping)||e.mapping instanceof Float32Array?this.curve=Float32Array.from(e.mapping):"function"===typeof e.mapping&&this.setMap(e.mapping,e.length)}static getDefaults(){return Object.assign(wo.getDefaults(),{length:1024})}setMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=new Float32Array(t);for(let r=0,i=t;r<i;r++){const t=r/(i-1)*2-1;n[r]=e(t,r)}return this.curve=n,this}get curve(){return this._shaper.curve}set curve(e){this._shaper.curve=e}get oversample(){return this._shaper.oversample}set oversample(e){as(["none","2x","4x"].some((t=>t.includes(e))),"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class Vo extends zo{constructor(){const e=Ts(Vo.getDefaults(),arguments,["value"]);super(e),this.name="Pow",this._exponentScaler=this.input=this.output=new Fo({context:this.context,mapping:this._expFunc(e.value),length:8192}),this._exponent=e.value}static getDefaults(){return Object.assign(zo.getDefaults(),{value:1})}_expFunc(e){return t=>Math.pow(Math.abs(t),e)}get value(){return this._exponent}set value(e){this._exponent=e,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class Lo{constructor(e,t){this.id=Lo._eventId++,this._remainderTime=0;const n=Object.assign(Lo.getDefaults(),t);this.transport=e,this.callback=n.callback,this._once=n.once,this.time=Math.floor(n.time),this._remainderTime=n.time-this.time}static getDefaults(){return{callback:$s,once:!1,time:0}}get floatTime(){return this.time+this._remainderTime}invoke(e){if(this.callback){const t=this.transport.bpm.getDurationOfTicks(1,e);this.callback(e+this._remainderTime*t),this._once&&this.transport.clear(this.id)}}dispose(){return this.callback=void 0,this}}Lo._eventId=0;class Wo extends Lo{constructor(e,t){super(e,t),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const n=Object.assign(Wo.getDefaults(),t);this.duration=n.duration,this._interval=n.interval,this._nextTick=n.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.transport.on("ticks",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},Lo.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(e){this._createEvents(e),super.invoke(e)}_createEvent(){return Is(this._nextTick,this.floatTime+this.duration)?this.transport.scheduleOnce(this.invoke.bind(this),new Oo(this.context,this._nextTick).toSeconds()):-1}_createEvents(e){Is(this._nextTick+this._interval,this.floatTime+this.duration)&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new Oo(this.context,this._nextTick).toSeconds()))}_restart(e){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.floatTime;const t=this.transport.getTicksAtTime(e);js(t,this.time)&&(this._nextTick=this.floatTime+Math.ceil((t-this.floatTime)/this._interval)*this._interval),this._currentId=this._createEvent(),this._nextTick+=this._interval,this._nextId=this._createEvent()}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this.transport.off("ticks",this._boundRestart),this}}class Bo extends ho{constructor(){const e=Ts(Bo.getDefaults(),arguments);super(e),this.name="Transport",this._loop=new Ro(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new Rs,this._repeatedEvents=new No,this._syncedSignals=[],this._swingAmount=0,this._ppq=e.ppq,this._clock=new Eo({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=e.ppq,this.bpm.setValueAtTime(e.bpm,0),Us(this,"bpm"),this._timeSignature=e.timeSignature,this._swingTicks=e.ppq/2}static getDefaults(){return Object.assign(ho.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(e,t){if(this._loop.get(e)&&t>=this._loopEnd&&(this.emit("loopEnd",e),this._clock.setTicksAtTime(this._loopStart,e),t=this._loopStart,this.emit("loopStart",e,this._clock.getSecondsAtTime(e)),this.emit("loop",e)),this._swingAmount>0&&t%this._ppq!==0&&t%(2*this._swingTicks)!==0){const n=t%(2*this._swingTicks)/(2*this._swingTicks),r=Math.sin(n*Math.PI)*this._swingAmount;e+=new Oo(this.context,2*this._swingTicks/3).toSeconds()*r}ds(!0),this._timeline.forEachAtTime(t,(t=>t.invoke(e))),ds(!1)}schedule(e,t){const n=new Lo(this,{callback:e,time:new co(this.context,t).toTicks()});return this._addEvent(n,this._timeline)}scheduleRepeat(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1/0;const i=new Wo(this,{callback:e,duration:new oo(this.context,r).toTicks(),interval:new oo(this.context,t).toTicks(),time:new co(this.context,n).toTicks()});return this._addEvent(i,this._repeatedEvents)}scheduleOnce(e,t){const n=new Lo(this,{callback:e,once:!0,time:new co(this.context,t).toTicks()});return this._addEvent(n,this._timeline)}clear(e){if(this._scheduledEvents.hasOwnProperty(e)){const t=this._scheduledEvents[e.toString()];t.timeline.remove(t.event),t.event.dispose(),delete this._scheduledEvents[e.toString()]}return this}_addEvent(e,t){return this._scheduledEvents[e.id.toString()]={event:e,timeline:t},t.add(e),e.id}cancel(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;const t=this.toTicks(e);return this._timeline.forEachFrom(t,(e=>this.clear(e.id))),this._repeatedEvents.forEachFrom(t,(e=>this.clear(e.id))),this}_bindClockEvents(){this._clock.on("start",((e,t)=>{t=new Oo(this.context,t).toSeconds(),this.emit("start",e,t)})),this._clock.on("stop",(e=>{this.emit("stop",e)})),this._clock.on("pause",(e=>{this.emit("pause",e)}))}get state(){return this._clock.getStateAtTime(this.now())}start(e,t){let n;return this.context.resume(),es(t)&&(n=this.toTicks(t)),this._clock.start(e,n),this}stop(e){return this._clock.stop(e),this}pause(e){return this._clock.pause(e),this}toggle(e){return e=this.toSeconds(e),"started"!==this._clock.getStateAtTime(e)?this.start(e):this.stop(e),this}get timeSignature(){return this._timeSignature}set timeSignature(e){is(e)&&(e=e[0]/e[1]*4),this._timeSignature=e}get loopStart(){return new oo(this.context,this._loopStart,"i").toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e)}get loopEnd(){return new oo(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e)}get loop(){return this._loop.get(this.now())}set loop(e){this._loop.set(e,this.now())}setLoopPoints(e,t){return this.loopStart=e,this.loopEnd=t,this}get swing(){return this._swingAmount}set swing(e){this._swingAmount=e}get swingSubdivision(){return new Oo(this.context,this._swingTicks).toNotation()}set swingSubdivision(e){this._swingTicks=this.toTicks(e)}get position(){const e=this.now(),t=this._clock.getTicksAtTime(e);return new Oo(this.context,t).toBarsBeatsSixteenths()}set position(e){const t=this.toTicks(e);this.ticks=t}get seconds(){return this._clock.seconds}set seconds(e){const t=this.now(),n=this._clock.frequency.timeToTicks(e,t);this.ticks=n}get progress(){if(this.loop){const e=this.now();return(this._clock.getTicksAtTime(e)-this._loopStart)/(this._loopEnd-this._loopStart)}return 0}get ticks(){return this._clock.ticks}set ticks(e){if(this._clock.ticks!==e){const t=this.now();if("started"===this.state){const n=this._clock.getTicksAtTime(t),r=t+this._clock.frequency.getDurationOfTicks(Math.ceil(n)-n,t);this.emit("stop",r),this._clock.setTicksAtTime(e,r),this.emit("start",r,this._clock.getSecondsAtTime(r))}else this.emit("ticks",t),this._clock.setTicksAtTime(e,t)}}getTicksAtTime(e){return this._clock.getTicksAtTime(e)}getSecondsAtTime(e){return this._clock.getSecondsAtTime(e)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(e){this._clock.frequency.multiplier=e}nextSubdivision(e){if(e=this.toTicks(e),"started"!==this.state)return 0;{const t=this.now(),n=e-this.getTicksAtTime(t)%e;return this._clock.nextTickTime(n,t)}}syncSignal(e,t){const n=this.now();let r=this.bpm,i=1/(60/r.getValueAtTime(n)/this.PPQ),s=[];if("time"===e.units){const e=1/64/i,t=new _o(e),n=new Vo(-1),o=new _o(e);r.chain(t,n,o),r=o,i=1/i,s=[t,n,o]}t||(t=0!==e.getValueAtTime(n)?e.getValueAtTime(n)/i:0);const o=new _o(t);return r.connect(o),o.connect(e._param),s.push(o),this._syncedSignals.push({initial:e.value,nodes:s,signal:e}),e.value=0,this}unsyncSignal(e){for(let t=this._syncedSignals.length-1;t>=0;t--){const n=this._syncedSignals[t];n.signal===e&&(n.nodes.forEach((e=>e.dispose())),n.signal.value=n.initial,this._syncedSignals.splice(t,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),Gs(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}Ws.mixin(Bo),Fs((e=>{e.transport=new Bo({context:e})})),Ls((e=>{e.transport.dispose()}));class qo extends mo{constructor(e){super(e),this.input=void 0,this._state=new po("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=$s,this._syncedStop=$s,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new Ao({context:this.context,mute:e.mute,volume:e.volume}),this.volume=this._volume.volume,Us(this,"volume"),this.onstop=e.onstop}static getDefaults(){return Object.assign(mo.getDefaults(),{mute:!1,onstop:$s,volume:0})}get state(){return this._synced?"started"===this.context.transport.state?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}_clampToCurrentTime(e){return this._synced?e:Math.max(e,this.context.currentTime)}start(e,t,n){let r=Ji(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(r=this._clampToCurrentTime(r),this._synced||"started"!==this._state.getValueAtTime(r))if(this.log("start",r),this._state.setStateAtTime("started",r),this._synced){const e=this._state.get(r);e&&(e.offset=this.toSeconds(Es(t,0)),e.duration=n?this.toSeconds(n):void 0);const i=this.context.transport.schedule((e=>{this._start(e,t,n)}),r);this._scheduled.push(i),"started"===this.context.transport.state&&this.context.transport.getSecondsAtTime(this.immediate())>r&&this._syncedStart(this.now(),this.context.transport.seconds)}else us(this.context),this._start(r,t,n);else as(js(r,this._state.get(r).time),"Start time must be strictly greater than previous start time"),this._state.cancel(r),this._state.setStateAtTime("started",r),this.log("restart",r),this.restart(r,t,n);return this}stop(e){let t=Ji(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(t=this._clampToCurrentTime(t),"started"===this._state.getValueAtTime(t)||es(this._state.getNextState("started",t))){if(this.log("stop",t),this._synced){const e=this.context.transport.schedule(this._stop.bind(this),t);this._scheduled.push(e)}else this._stop(t);this._state.cancel(t),this._state.setStateAtTime("stopped",t)}return this}restart(e,t,n){return e=this.toSeconds(e),"started"===this._state.getValueAtTime(e)&&(this._state.cancel(e),this._restart(e,t,n)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(e,t)=>{if(js(t,0)){const n=this._state.get(t);if(n&&"started"===n.state&&n.time!==t){const r=t-this.toSeconds(n.time);let i;n.duration&&(i=this.toSeconds(n.duration)-r),this._start(e,this.toSeconds(n.offset)+r,i)}}},this._syncedStop=e=>{const t=this.context.transport.getSecondsAtTime(Math.max(e-this.sampleTime,0));"started"===this._state.getValueAtTime(t)&&this._stop(e)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach((e=>this.context.transport.clear(e))),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=$s,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class Uo extends bo{constructor(){const e=Ts(Uo.getDefaults(),arguments,["url","onload"]);super(e),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1,vo(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new fo({context:this.context,param:this._source.playbackRate,units:"positive",value:e.playbackRate}),this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this._buffer=new Hs(e.url,e.onload,e.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(bo.getDefaults(),{url:new Hs,loop:!1,loopEnd:0,loopStart:0,onload:$s,onerror:$s,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e}get curve(){return this._curve}set curve(e){this._curve=e}start(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;as(this.buffer.loaded,"buffer is either not set or not loaded");const i=this.toSeconds(e);this._startGain(i,r),t=this.loop?Es(t,this.loopStart):Es(t,0);let s=Math.max(this.toSeconds(t),0);if(this.loop){const e=this.toSeconds(this.loopEnd)||this.buffer.duration,t=this.toSeconds(this.loopStart),n=e-t;Os(s,e)&&(s=(s-t)%n+t),Ns(s,this.buffer.duration)&&(s=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,Is(s,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(i,s)),es(n)){let e=this.toSeconds(n);e=Math.max(e,0),this.stop(i+e)}return this}_stopSource(e){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(e)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(e){this._source.loopStart=this.toSeconds(e)}get loopEnd(){return this._source.loopEnd}set loopEnd(e){this._source.loopEnd=this.toSeconds(e)}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._source.loop}set loop(e){this._source.loop=e,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}function Go(e,t){return ys(this,void 0,void 0,(function*(){const n=t/e.context.sampleRate,r=new Qs(1,n,e.context.sampleRate);new e.constructor(Object.assign(e.get(),{frequency:2/n,detune:0,context:r})).toDestination().start(0);return(yield r.render()).getChannelData(0)}))}class $o extends bo{constructor(){const e=Ts($o.getDefaults(),arguments,["frequency","type"]);super(e),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator],vo(this._oscillator,this._gainNode),this.type=e.type,this.frequency=new fo({context:this.context,param:this._oscillator.frequency,units:"frequency",value:e.frequency}),this.detune=new fo({context:this.context,param:this._oscillator.detune,units:"cents",value:e.detune}),Us(this,["frequency","detune"])}static getDefaults(){return Object.assign(bo.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(e){const t=this.toSeconds(e);return this.log("start",t),this._startGain(t),this._oscillator.start(t),this}_stopSource(e){this._oscillator.stop(e)}setPeriodicWave(e){return this._oscillator.setPeriodicWave(e),this}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e}dispose(){return super.dispose(),"started"===this.state&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class Ho extends qo{constructor(){const e=Ts(Ho.getDefaults(),arguments,["frequency","type"]);super(e),this.name="Oscillator",this._oscillator=null,this.frequency=new wo({context:this.context,units:"frequency",value:e.frequency}),Us(this,"frequency"),this.detune=new wo({context:this.context,units:"cents",value:e.detune}),Us(this,"detune"),this._partials=e.partials,this._partialCount=e.partialCount,this._type=e.type,e.partialCount&&"custom"!==e.type&&(this._type=this.baseType+e.partialCount.toString()),this.phase=e.phase}static getDefaults(){return Object.assign(qo.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(e){const t=this.toSeconds(e),n=new $o({context:this.context,onended:()=>this.onstop(this)});this._oscillator=n,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(t)}_stop(e){const t=this.toSeconds(e);this._oscillator&&this._oscillator.stop(t)}_restart(e){const t=this.toSeconds(e);return this.log("restart",t),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(t),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if("custom"===this._type){return Ho._periodicWaveCache.find((e=>{return e.phase===this._phase&&(t=e.partials,n=this._partials,t.length===n.length&&t.every(((e,t)=>n[t]===e)));var t,n}))}{const e=Ho._periodicWaveCache.find((e=>e.type===this._type&&e.phase===this._phase));return this._partialCount=e?e.partialCount:this._partialCount,e}}get type(){return this._type}set type(e){this._type=e;const t=-1!==["sine","square","sawtooth","triangle"].indexOf(e);if(0===this._phase&&t)this._wave=void 0,this._partialCount=0,null!==this._oscillator&&(this._oscillator.type=e);else{const t=this._getCachedPeriodicWave();if(es(t)){const{partials:e,wave:n}=t;this._wave=n,this._partials=e,null!==this._oscillator&&this._oscillator.setPeriodicWave(this._wave)}else{const[t,n]=this._getRealImaginary(e,this._phase),r=this.context.createPeriodicWave(t,n);this._wave=r,null!==this._oscillator&&this._oscillator.setPeriodicWave(this._wave),Ho._periodicWaveCache.push({imag:n,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:t,type:this._type,wave:this._wave}),Ho._periodicWaveCache.length>100&&Ho._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(e){this.partialCount&&"custom"!==this._type&&"custom"!==e?this.type=e+this.partialCount:this.type=e}get partialCount(){return this._partialCount}set partialCount(e){ls(e,0);let t=this._type;const n=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(n&&(t=n[1]),"custom"!==this._type)this.type=0===e?t:t+e.toString();else{const t=new Float32Array(e);this._partials.forEach(((e,n)=>t[n]=e)),this._partials=Array.from(t),this.type=this._type}}_getRealImaginary(e,t){let n=2048;const r=new Float32Array(n),i=new Float32Array(n);let s=1;if("custom"===e){if(s=this._partials.length+1,this._partialCount=this._partials.length,n=s,0===this._partials.length)return[r,i]}else{const t=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(e);t?(s=parseInt(t[2],10)+1,this._partialCount=parseInt(t[2],10),e=t[1],s=Math.max(s,2),n=s):this._partialCount=0,this._partials=[]}for(let o=1;o<n;++o){const n=2/(o*Math.PI);let a;switch(e){case"sine":a=o<=s?1:0,this._partials[o-1]=a;break;case"square":a=1&o?2*n:0,this._partials[o-1]=a;break;case"sawtooth":a=n*(1&o?1:-1),this._partials[o-1]=a;break;case"triangle":a=1&o?n*n*2*(o-1>>1&1?-1:1):0,this._partials[o-1]=a;break;case"custom":a=this._partials[o-1];break;default:throw new TypeError("Oscillator: invalid type: "+e)}0!==a?(r[o]=-a*Math.sin(t*o),i[o]=a*Math.cos(t*o)):(r[o]=0,i[o]=0)}return[r,i]}_inverseFFT(e,t,n){let r=0;const i=e.length;for(let s=0;s<i;s++)r+=e[s]*Math.cos(s*n)+t[s]*Math.sin(s*n);return r}getInitialValue(){const[e,t]=this._getRealImaginary(this._type,0);let n=0;const r=2*Math.PI;for(let i=0;i<32;i++)n=Math.max(this._inverseFFT(e,t,i/32*r),n);return Ds(-this._inverseFFT(e,t,this._phase)/n,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(e){this._phase=e*Math.PI/180,this.type=this._type}asArray(){return ys(this,arguments,void 0,(function(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1024;return function*(){return Go(e,t)}()}))}dispose(){return super.dispose(),null!==this._oscillator&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}Ho._periodicWaveCache=[];class Qo extends zo{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new Fo({context:this.context,mapping:e=>(e+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Yo extends wo{constructor(){const e=Ts(Yo.getDefaults(),arguments,["value"]);super(e),this.name="Multiply",this.override=!1,this._mult=this.input=this.output=new _o({context:this.context,minValue:e.minValue,maxValue:e.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(wo.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class Xo extends qo{constructor(){const e=Ts(Xo.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="AMOscillator",this._modulationScale=new Qo({context:this.context}),this._modulationNode=new _o({context:this.context}),this._carrier=new Ho({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new Ho({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new Yo({context:this.context,units:"positive",value:e.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),Us(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Ho.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){this._modulator.restart(e),this._carrier.restart(e)}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return ys(this,arguments,void 0,(function(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1024;return function*(){return Go(e,t)}()}))}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class Zo extends qo{constructor(){const e=Ts(Zo.getDefaults(),arguments,["frequency","type","modulationType"]);super(e),this.name="FMOscillator",this._modulationNode=new _o({context:this.context,gain:0}),this._carrier=new Ho({context:this.context,detune:e.detune,frequency:0,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.detune=this._carrier.detune,this.frequency=new wo({context:this.context,units:"frequency",value:e.frequency}),this._modulator=new Ho({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new Yo({context:this.context,units:"positive",value:e.harmonicity}),this.modulationIndex=new Yo({context:this.context,units:"positive",value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),Us(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Ho.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){return this._modulator.restart(e),this._carrier.restart(e),this}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(){return ys(this,arguments,void 0,(function(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1024;return function*(){return Go(e,t)}()}))}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class Ko extends qo{constructor(){const e=Ts(Ko.getDefaults(),arguments,["frequency","width"]);super(e),this.name="PulseOscillator",this._widthGate=new _o({context:this.context,gain:0}),this._thresh=new Fo({context:this.context,mapping:e=>e<=0?-1:1}),this.width=new wo({context:this.context,units:"audioRange",value:e.width}),this._triangle=new Ho({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),Us(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(qo.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(e){e=this.toSeconds(e),this._triangle.start(e),this._widthGate.gain.setValueAtTime(1,e)}_stop(e){e=this.toSeconds(e),this._triangle.stop(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(0,e)}_restart(e){this._triangle.restart(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(1,e)}get phase(){return this._triangle.phase}set phase(e){this._triangle.phase=e}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(e){this._triangle.type=e}asArray(){return ys(this,arguments,void 0,(function(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1024;return function*(){return Go(e,t)}()}))}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class Jo extends qo{constructor(){const e=Ts(Jo.getDefaults(),arguments,["frequency","type","spread"]);super(e),this.name="FatOscillator",this._oscillators=[],this.frequency=new wo({context:this.context,units:"frequency",value:e.frequency}),this.detune=new wo({context:this.context,units:"cents",value:e.detune}),this._spread=e.spread,this._type=e.type,this._phase=e.phase,this._partials=e.partials,this._partialCount=e.partialCount,this.count=e.count,Us(this,["frequency","detune"])}static getDefaults(){return Object.assign(Ho.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(e){e=this.toSeconds(e),this._forEach((t=>t.start(e)))}_stop(e){e=this.toSeconds(e),this._forEach((t=>t.stop(e)))}_restart(e){this._forEach((t=>t.restart(e)))}_forEach(e){for(let t=0;t<this._oscillators.length;t++)e(this._oscillators[t],t)}get type(){return this._type}set type(e){this._type=e,this._forEach((t=>t.type=e))}get spread(){return this._spread}set spread(e){if(this._spread=e,this._oscillators.length>1){const t=-e/2,n=e/(this._oscillators.length-1);this._forEach(((e,r)=>e.detune.value=t+n*r))}}get count(){return this._oscillators.length}set count(e){if(ls(e,1),this._oscillators.length!==e){this._forEach((e=>e.dispose())),this._oscillators=[];for(let t=0;t<e;t++){const n=new Ho({context:this.context,volume:-6-1.1*e,type:this._type,phase:this._phase+t/e*360,partialCount:this._partialCount,onstop:0===t?()=>this.onstop(this):$s});"custom"===this.type&&(n.partials=this._partials),this.frequency.connect(n.frequency),this.detune.connect(n.detune),n.detune.overridden=!1,n.connect(this.output),this._oscillators[t]=n}this.spread=this._spread,"started"===this.state&&this._forEach((e=>e.start()))}}get phase(){return this._phase}set phase(e){this._phase=e,this._forEach(((e,t)=>e.phase=this._phase+t/this.count*360))}get baseType(){return this._oscillators[0].baseType}set baseType(e){this._forEach((t=>t.baseType=e)),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this._type="custom",this._forEach((t=>t.partials=e)))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(e){this._partialCount=e,this._forEach((t=>t.partialCount=e)),this._type=this._oscillators[0].type}asArray(){return ys(this,arguments,void 0,(function(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1024;return function*(){return Go(e,t)}()}))}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach((e=>e.dispose())),this}}class ea extends qo{constructor(){const e=Ts(ea.getDefaults(),arguments,["frequency","modulationFrequency"]);super(e),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new Yo({context:this.context,value:2}),this._pulse=new Ko({context:this.context,frequency:e.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new Ho({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),Us(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(qo.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(e){e=this.toSeconds(e),this._modulator.start(e),this._pulse.start(e)}_stop(e){e=this.toSeconds(e),this._modulator.stop(e),this._pulse.stop(e)}_restart(e){this._modulator.restart(e),this._pulse.restart(e)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(e){this._modulator.phase=e}asArray(){return ys(this,arguments,void 0,(function(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1024;return function*(){return Go(e,t)}()}))}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const ta={am:Xo,fat:Jo,fm:Zo,oscillator:Ho,pulse:Ko,pwm:ea};class na extends qo{constructor(){const e=Ts(na.getDefaults(),arguments,["frequency","type"]);super(e),this.name="OmniOscillator",this.frequency=new wo({context:this.context,units:"frequency",value:e.frequency}),this.detune=new wo({context:this.context,units:"cents",value:e.detune}),Us(this,["frequency","detune"]),this.set(e)}static getDefaults(){return Object.assign(Ho.getDefaults(),Zo.getDefaults(),Xo.getDefaults(),Jo.getDefaults(),Ko.getDefaults(),ea.getDefaults())}_start(e){this._oscillator.start(e)}_stop(e){this._oscillator.stop(e)}_restart(e){return this._oscillator.restart(e),this}get type(){let e="";return["am","fm","fat"].some((e=>this._sourceType===e))&&(e=this._sourceType),e+this._oscillator.type}set type(e){"fm"===e.substr(0,2)?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):"am"===e.substr(0,2)?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):"fat"===e.substr(0,3)?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(3)):"pwm"===e?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):"pulse"===e?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=e)}get partials(){return this._oscillator.partials}set partials(e){this._getOscType(this._oscillator,"pulse")||this._getOscType(this._oscillator,"pwm")||(this._oscillator.partials=e)}get partialCount(){return this._oscillator.partialCount}set partialCount(e){this._getOscType(this._oscillator,"pulse")||this._getOscType(this._oscillator,"pwm")||(this._oscillator.partialCount=e)}set(e){return Reflect.has(e,"type")&&e.type&&(this.type=e.type),super.set(e),this}_createNewOscillator(e){if(e!==this._sourceType){this._sourceType=e;const t=ta[e],n=this.now();if(this._oscillator){const e=this._oscillator;e.stop(n),this.context.setTimeout((()=>e.dispose()),this.blockTime)}this._oscillator=new t({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),"started"===this.state&&this._oscillator.start(n)}}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e}get sourceType(){return this._sourceType}set sourceType(e){let t="sine";"pwm"!==this._oscillator.type&&"pulse"!==this._oscillator.type&&(t=this._oscillator.type),"fm"===e?this.type="fm"+t:"am"===e?this.type="am"+t:"fat"===e?this.type="fat"+t:"oscillator"===e?this.type=t:"pulse"===e?this.type="pulse":"pwm"===e&&(this.type="pwm")}_getOscType(e,t){return e instanceof ta[t]}get baseType(){return this._oscillator.baseType}set baseType(e){this._getOscType(this._oscillator,"pulse")||this._getOscType(this._oscillator,"pwm")||"pulse"===e||"pwm"===e||(this._oscillator.baseType=e)}get width(){return this._getOscType(this._oscillator,"pulse")?this._oscillator.width:void 0}get count(){return this._getOscType(this._oscillator,"fat")?this._oscillator.count:void 0}set count(e){this._getOscType(this._oscillator,"fat")&&ts(e)&&(this._oscillator.count=e)}get spread(){return this._getOscType(this._oscillator,"fat")?this._oscillator.spread:void 0}set spread(e){this._getOscType(this._oscillator,"fat")&&ts(e)&&(this._oscillator.spread=e)}get modulationType(){return this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am")?this._oscillator.modulationType:void 0}set modulationType(e){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&ss(e)&&(this._oscillator.modulationType=e)}get modulationIndex(){return this._getOscType(this._oscillator,"fm")?this._oscillator.modulationIndex:void 0}get harmonicity(){return this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am")?this._oscillator.harmonicity:void 0}get modulationFrequency(){return this._getOscType(this._oscillator,"pwm")?this._oscillator.modulationFrequency:void 0}asArray(){return ys(this,arguments,void 0,(function(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1024;return function*(){return Go(e,t)}()}))}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}function ra(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;const n=new WeakMap;return function(r,i){Reflect.defineProperty(r,i,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(r){ls(r,e,t),n.set(this,r)}})}}function ia(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;const n=new WeakMap;return function(r,i){Reflect.defineProperty(r,i,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(r){ls(this.toSeconds(r),e,t),n.set(this,r)}})}}class sa extends qo{constructor(){const e=Ts(sa.getDefaults(),arguments,["url","onload"]);super(e),this.name="Player",this._activeSources=new Set,this._buffer=new Hs({onload:this._onload.bind(this,e.onload),onerror:e.onerror,reverse:e.reverse,url:e.url}),this.autostart=e.autostart,this._loop=e.loop,this._loopStart=e.loopStart,this._loopEnd=e.loopEnd,this._playbackRate=e.playbackRate,this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut}static getDefaults(){return Object.assign(qo.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:$s,onerror:$s,playbackRate:1,reverse:!1})}load(e){return ys(this,void 0,void 0,(function*(){return yield this._buffer.load(e),this._onload(),this}))}_onload(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:$s)(),this.autostart&&this.start()}_onSourceEnd(e){this.onstop(this),this._activeSources.delete(e),0!==this._activeSources.size||this._synced||"started"!==this._state.getValueAtTime(this.now())||(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(e,t,n){return super.start(e,t,n),this}_start(e,t,n){t=this._loop?Es(t,this._loopStart):Es(t,0);const r=this.toSeconds(t),i=n;n=Es(n,Math.max(this._buffer.duration-r,0));let s=this.toSeconds(n);s/=this._playbackRate,e=this.toSeconds(e);const o=new Uo({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);this._loop||this._synced||(this._state.cancel(e+s),this._state.setStateAtTime("stopped",e+s,{implicitEnd:!0})),this._activeSources.add(o),this._loop&&Ji(i)?o.start(e,r):o.start(e,r,s-this.toSeconds(this.fadeOut))}_stop(e){const t=this.toSeconds(e);this._activeSources.forEach((e=>e.stop(t)))}restart(e,t,n){return super.restart(e,t,n),this}_restart(e,t,n){var r;null===(r=[...this._activeSources].pop())||void 0===r||r.stop(e),this._start(e,t,n)}seek(e,t){const n=this.toSeconds(t);if("started"===this._state.getValueAtTime(n)){const t=this.toSeconds(e);this._stop(n),this._start(n,t)}return this}setLoopPoints(e,t){return this.loopStart=e,this.loopEnd=t,this}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this.buffer.loaded&&ls(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach((t=>{t.loopStart=e}))}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,this.buffer.loaded&&ls(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach((t=>{t.loopEnd=e}))}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._loop}set loop(e){if(this._loop!==e&&(this._loop=e,this._activeSources.forEach((t=>{t.loop=e})),e)){const e=this._state.getNextState("stopped",this.now());e&&this._state.cancel(e.time)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e;const t=this.now(),n=this._state.getNextState("stopped",t);n&&n.implicitEnd&&(this._state.cancel(n.time),this._activeSources.forEach((e=>e.cancelStop()))),this._activeSources.forEach((n=>{n.playbackRate.setValueAtTime(e,t)}))}get reverse(){return this._buffer.reverse}set reverse(e){this._buffer.reverse=e}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach((e=>e.dispose())),this._activeSources.clear(),this._buffer.dispose(),this}}vs([ia(0)],sa.prototype,"fadeIn",void 0),vs([ia(0)],sa.prototype,"fadeOut",void 0);class oa extends mo{constructor(){const e=Ts(oa.getDefaults(),arguments,["attack","decay","sustain","release"]);super(e),this.name="Envelope",this._sig=new wo({context:this.context,value:0}),this.output=this._sig,this.input=void 0,this.attack=e.attack,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this.attackCurve=e.attackCurve,this.releaseCurve=e.releaseCurve,this.decayCurve=e.decayCurve}static getDefaults(){return Object.assign(mo.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(e,t){if(ss(e))return e;{let n;for(n in aa)if(aa[n][t]===e)return n;return e}}_setCurve(e,t,n){if(ss(n)&&Reflect.has(aa,n)){const r=aa[n];ns(r)?"_decayCurve"!==e&&(this[e]=r[t]):this[e]=r}else{if(!is(n)||"_decayCurve"===e)throw new Error("Envelope: invalid curve: "+n);this[e]=n}}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(e){this._setCurve("_attackCurve","In",e)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(e){this._setCurve("_releaseCurve","Out",e)}get decayCurve(){return this._getCurve(this._decayCurve,"Out")}set decayCurve(e){this._setCurve("_decayCurve","Out",e)}triggerAttack(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.log("triggerAttack",e,t),e=this.toSeconds(e);let n=this.toSeconds(this.attack);const r=this.toSeconds(this.decay),i=this.getValueAtTime(e);if(i>0){n=(1-i)/(1/n)}if(n<this.sampleTime)this._sig.cancelScheduledValues(e),this._sig.setValueAtTime(t,e);else if("linear"===this._attackCurve)this._sig.linearRampTo(t,n,e);else if("exponential"===this._attackCurve)this._sig.targetRampTo(t,n,e);else{this._sig.cancelAndHoldAtTime(e);let r=this._attackCurve;for(let e=1;e<r.length;e++)if(r[e-1]<=i&&i<=r[e]){r=this._attackCurve.slice(e),r[0]=i;break}this._sig.setValueCurveAtTime(r,e,n,t)}if(r&&this.sustain<1){const i=t*this.sustain,s=e+n;this.log("decay",s),"linear"===this._decayCurve?this._sig.linearRampToValueAtTime(i,r+s):this._sig.exponentialApproachValueAtTime(i,s,r)}return this}triggerRelease(e){this.log("triggerRelease",e),e=this.toSeconds(e);const t=this.getValueAtTime(e);if(t>0){const n=this.toSeconds(this.release);n<this.sampleTime?this._sig.setValueAtTime(0,e):"linear"===this._releaseCurve?this._sig.linearRampTo(0,n,e):"exponential"===this._releaseCurve?this._sig.targetRampTo(0,n,e):(as(is(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(e),this._sig.setValueCurveAtTime(this._releaseCurve,e,n,t))}return this}getValueAtTime(e){return this._sig.getValueAtTime(e)}triggerAttackRelease(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return t=this.toSeconds(t),this.triggerAttack(t,n),this.triggerRelease(t+this.toSeconds(e)),this}cancel(e){return this._sig.cancelScheduledValues(this.toSeconds(e)),this}connect(e){return ko(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:0),this}asArray(){return ys(this,arguments,void 0,(function(){var e=this;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1024;return function*(){const n=t/e.context.sampleRate,r=new Qs(1,n,e.context.sampleRate),i=e.toSeconds(e.attack)+e.toSeconds(e.decay),s=i+e.toSeconds(e.release),o=.1*s,a=s+o,l=new e.constructor(Object.assign(e.get(),{attack:n*e.toSeconds(e.attack)/a,decay:n*e.toSeconds(e.decay)/a,release:n*e.toSeconds(e.release)/a,context:r}));l._sig.toDestination(),l.triggerAttackRelease(n*(i+o)/a,0);return(yield r.render()).getChannelData(0)}()}))}dispose(){return super.dispose(),this._sig.dispose(),this}}vs([ia(0)],oa.prototype,"attack",void 0),vs([ia(0)],oa.prototype,"decay",void 0),vs([ra(0,1)],oa.prototype,"sustain",void 0),vs([ia(0)],oa.prototype,"release",void 0);const aa=(()=>{const e=128;let t,n;const r=[];for(t=0;t<e;t++)r[t]=Math.sin(t/127*(Math.PI/2));const i=[];for(t=0;t<127;t++){n=t/127;const e=Math.sin(n*(2*Math.PI)*6.4-Math.PI/2)+1;i[t]=e/10+.83*n}i[127]=1;const s=[];for(t=0;t<e;t++)s[t]=Math.ceil(t/127*5)/5;const o=[];for(t=0;t<e;t++)n=t/127,o[t]=.5*(1-Math.cos(Math.PI*n));const a=[];for(t=0;t<e;t++){n=t/127;const e=4*Math.pow(n,3)+.2,r=Math.cos(e*Math.PI*2*n);a[t]=Math.abs(r*(1-n))}function l(e){const t=new Array(e.length);for(let n=0;n<e.length;n++)t[n]=1-e[n];return t}return{bounce:{In:l(a),Out:a},cosine:{In:r,Out:(u=r,u.slice(0).reverse())},exponential:"exponential",linear:"linear",ripple:{In:i,Out:l(i)},sine:{In:o,Out:l(o)},step:{In:s,Out:l(s)}};var u})();class la extends mo{constructor(){const e=Ts(la.getDefaults(),arguments);super(e),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease,this._syncedRelease=e=>this._original_triggerRelease(e),this._volume=this.output=new Ao({context:this.context,volume:e.volume}),this.volume=this._volume.volume,Us(this,"volume")}static getDefaults(){return Object.assign(mo.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0),this.context.transport.on("stop",this._syncedRelease),this.context.transport.on("pause",this._syncedRelease),this.context.transport.on("loopEnd",this._syncedRelease)),this}_syncState(){let e=!1;return this._synced||(this._synced=!0,e=!0),e}_syncMethod(e,t){var n=this;const r=this["_original_"+e]=this[e];this[e]=function(){for(var e=arguments.length,i=new Array(e),s=0;s<e;s++)i[s]=arguments[s];const o=i[t],a=n.context.transport.schedule((e=>{i[t]=e,r.apply(n,i)}),o);n._scheduledEvents.push(a)}}unsync(){return this._scheduledEvents.forEach((e=>this.context.transport.clear(e))),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease,this.context.transport.off("stop",this._syncedRelease),this.context.transport.off("pause",this._syncedRelease),this.context.transport.off("loopEnd",this._syncedRelease)),this}triggerAttackRelease(e,t,n,r){const i=this.toSeconds(n),s=this.toSeconds(t);return this.triggerAttack(e,i,r),this.triggerRelease(i+s),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class ua extends la{constructor(){const e=Ts(ua.getDefaults(),arguments);super(e),this.portamento=e.portamento,this.onsilence=e.onsilence}static getDefaults(){return Object.assign(la.getDefaults(),{detune:0,onsilence:$s,portamento:0})}triggerAttack(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;this.log("triggerAttack",e,t,n);const r=this.toSeconds(t);return this._triggerEnvelopeAttack(r,n),this.setNote(e,r),this}triggerRelease(e){this.log("triggerRelease",e);const t=this.toSeconds(e);return this._triggerEnvelopeRelease(t),this}setNote(e,t){const n=this.toSeconds(t),r=e instanceof ao?e.toFrequency():e;if(this.portamento>0&&this.getLevelAtTime(n)>.05){const e=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(r,e,n)}else this.frequency.setValueAtTime(r,n);return this}}vs([ia(0)],ua.prototype,"portamento",void 0);class ca extends oa{constructor(){super(Ts(ca.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new _o({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class ha extends ua{constructor(){const e=Ts(ha.getDefaults(),arguments);super(e),this.name="Synth",this.oscillator=new na(Object.assign({context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)},e.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new ca(Object.assign({context:this.context},e.envelope)),this.oscillator.chain(this.envelope,this.output),Us(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(ua.getDefaults(),{envelope:Object.assign(As(oa.getDefaults(),Object.keys(mo.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(As(na.getDefaults(),[...Object.keys(qo.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(e,t){if(this.envelope.triggerAttack(e,t),this.oscillator.start(e),0===this.envelope.sustain){const t=this.toSeconds(this.envelope.attack),n=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+t+n)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class da extends ha{constructor(){const e=Ts(da.getDefaults(),arguments);super(e),this.name="MembraneSynth",this.portamento=0,this.pitchDecay=e.pitchDecay,this.octaves=e.octaves,Us(this,["oscillator","envelope"])}static getDefaults(){return Ss(ua.getDefaults(),ha.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(e,t){const n=this.toSeconds(t),r=this.toFrequency(e instanceof ao?e.toFrequency():e),i=r*this.octaves;return this.oscillator.frequency.setValueAtTime(i,n),this.oscillator.frequency.exponentialRampToValueAtTime(r,n+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}vs([ra(0)],da.prototype,"octaves",void 0),vs([ia(0)],da.prototype,"pitchDecay",void 0);const pa=new Set;function fa(e){pa.add(e)}function ma(e,t){const n=`registerProcessor("${e}", ${t})`;pa.add(n)}fa('\n\t/**\n\t * The base AudioWorkletProcessor for use in Tone.js. Works with the {@link ToneAudioWorklet}. \n\t */\n\tclass ToneAudioWorkletProcessor extends AudioWorkletProcessor {\n\n\t\tconstructor(options) {\n\t\t\t\n\t\t\tsuper(options);\n\t\t\t/**\n\t\t\t * If the processor was disposed or not. Keep alive until it\'s disposed.\n\t\t\t */\n\t\t\tthis.disposed = false;\n\t\t   \t/** \n\t\t\t * The number of samples in the processing block\n\t\t\t */\n\t\t\tthis.blockSize = 128;\n\t\t\t/**\n\t\t\t * the sample rate\n\t\t\t */\n\t\t\tthis.sampleRate = sampleRate;\n\n\t\t\tthis.port.onmessage = (event) => {\n\t\t\t\t// when it receives a dispose \n\t\t\t\tif (event.data === "dispose") {\n\t\t\t\t\tthis.disposed = true;\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t}\n');fa("\n\t/**\n\t * Abstract class for a single input/output processor. \n\t * has a 'generate' function which processes one sample at a time\n\t */\n\tclass SingleIOProcessor extends ToneAudioWorkletProcessor {\n\n\t\tconstructor(options) {\n\t\t\tsuper(Object.assign(options, {\n\t\t\t\tnumberOfInputs: 1,\n\t\t\t\tnumberOfOutputs: 1\n\t\t\t}));\n\t\t\t/**\n\t\t\t * Holds the name of the parameter and a single value of that\n\t\t\t * parameter at the current sample\n\t\t\t * @type { [name: string]: number }\n\t\t\t */\n\t\t\tthis.params = {}\n\t\t}\n\n\t\t/**\n\t\t * Generate an output sample from the input sample and parameters\n\t\t * @abstract\n\t\t * @param input number\n\t\t * @param channel number\n\t\t * @param parameters { [name: string]: number }\n\t\t * @returns number\n\t\t */\n\t\tgenerate(){}\n\n\t\t/**\n\t\t * Update the private params object with the \n\t\t * values of the parameters at the given index\n\t\t * @param parameters { [name: string]: Float32Array },\n\t\t * @param index number\n\t\t */\n\t\tupdateParams(parameters, index) {\n\t\t\tfor (const paramName in parameters) {\n\t\t\t\tconst param = parameters[paramName];\n\t\t\t\tif (param.length > 1) {\n\t\t\t\t\tthis.params[paramName] = parameters[paramName][index];\n\t\t\t\t} else {\n\t\t\t\t\tthis.params[paramName] = parameters[paramName][0];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Process a single frame of the audio\n\t\t * @param inputs Float32Array[][]\n\t\t * @param outputs Float32Array[][]\n\t\t */\n\t\tprocess(inputs, outputs, parameters) {\n\t\t\tconst input = inputs[0];\n\t\t\tconst output = outputs[0];\n\t\t\t// get the parameter values\n\t\t\tconst channelCount = Math.max(input && input.length || 0, output.length);\n\t\t\tfor (let sample = 0; sample < this.blockSize; sample++) {\n\t\t\t\tthis.updateParams(parameters, sample);\n\t\t\t\tfor (let channel = 0; channel < channelCount; channel++) {\n\t\t\t\t\tconst inputSample = input && input.length ? input[channel][sample] : 0;\n\t\t\t\t\toutput[channel][sample] = this.generate(inputSample, channel, this.params);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn !this.disposed;\n\t\t}\n\t};\n");fa("\n\t/**\n\t * A multichannel buffer for use within an AudioWorkletProcessor as a delay line\n\t */\n\tclass DelayLine {\n\t\t\n\t\tconstructor(size, channels) {\n\t\t\tthis.buffer = [];\n\t\t\tthis.writeHead = []\n\t\t\tthis.size = size;\n\n\t\t\t// create the empty channels\n\t\t\tfor (let i = 0; i < channels; i++) {\n\t\t\t\tthis.buffer[i] = new Float32Array(this.size);\n\t\t\t\tthis.writeHead[i] = 0;\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Push a value onto the end\n\t\t * @param channel number\n\t\t * @param value number\n\t\t */\n\t\tpush(channel, value) {\n\t\t\tthis.writeHead[channel] += 1;\n\t\t\tif (this.writeHead[channel] > this.size) {\n\t\t\t\tthis.writeHead[channel] = 0;\n\t\t\t}\n\t\t\tthis.buffer[channel][this.writeHead[channel]] = value;\n\t\t}\n\n\t\t/**\n\t\t * Get the recorded value of the channel given the delay\n\t\t * @param channel number\n\t\t * @param delay number delay samples\n\t\t */\n\t\tget(channel, delay) {\n\t\t\tlet readHead = this.writeHead[channel] - Math.floor(delay);\n\t\t\tif (readHead < 0) {\n\t\t\t\treadHead += this.size;\n\t\t\t}\n\t\t\treturn this.buffer[channel][readHead];\n\t\t}\n\t}\n");const ga="feedback-comb-filter";ma(ga,'\n\tclass FeedbackCombFilterWorklet extends SingleIOProcessor {\n\n\t\tconstructor(options) {\n\t\t\tsuper(options);\n\t\t\tthis.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);\n\t\t}\n\n\t\tstatic get parameterDescriptors() {\n\t\t\treturn [{\n\t\t\t\tname: "delayTime",\n\t\t\t\tdefaultValue: 0.1,\n\t\t\t\tminValue: 0,\n\t\t\t\tmaxValue: 1,\n\t\t\t\tautomationRate: "k-rate"\n\t\t\t}, {\n\t\t\t\tname: "feedback",\n\t\t\t\tdefaultValue: 0.5,\n\t\t\t\tminValue: 0,\n\t\t\t\tmaxValue: 0.9999,\n\t\t\t\tautomationRate: "k-rate"\n\t\t\t}];\n\t\t}\n\n\t\tgenerate(input, channel, parameters) {\n\t\t\tconst delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);\n\t\t\tthis.delayLine.push(channel, input + delayedSample * parameters.feedback);\n\t\t\treturn delayedSample;\n\t\t}\n\t}\n');class va extends la{constructor(){const e=Ts(va.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");super(e),this.name="Sampler",this._activeSources=new Map;const t={};Object.keys(e.urls).forEach((n=>{const r=parseInt(n,10);if(as(os(n)||ts(r)&&isFinite(r),`url key is neither a note or midi pitch: ${n}`),os(n)){const r=new ao(this.context,n).toMidi();t[r]=e.urls[n]}else ts(r)&&isFinite(r)&&(t[r]=e.urls[r])})),this._buffers=new jo({urls:t,onload:e.onload,baseUrl:e.baseUrl,onerror:e.onerror}),this.attack=e.attack,this.release=e.release,this.curve=e.curve,this._buffers.loaded&&Promise.resolve().then(e.onload)}static getDefaults(){return Object.assign(la.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:$s,onerror:$s,release:.1,urls:{}})}_findClosest(e){let t=0;for(;t<96;){if(this._buffers.has(e+t))return-t;if(this._buffers.has(e-t))return t;t++}throw new Error(`No available buffers for note: ${e}`)}triggerAttack(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return this.log("triggerAttack",e,t,n),Array.isArray(e)||(e=[e]),e.forEach((e=>{const r=ro(new ao(this.context,e).toFrequency()),i=Math.round(r),s=r-i,o=this._findClosest(i),a=i-o,l=this._buffers.get(a),u=eo(o+s),c=new Uo({url:l,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:u}).connect(this.output);c.start(t,0,l.duration/u,n),is(this._activeSources.get(i))||this._activeSources.set(i,[]),this._activeSources.get(i).push(c),c.onended=()=>{if(this._activeSources&&this._activeSources.has(i)){const e=this._activeSources.get(i),t=e.indexOf(c);-1!==t&&e.splice(t,1)}}})),this}triggerRelease(e,t){return this.log("triggerRelease",e,t),Array.isArray(e)||(e=[e]),e.forEach((e=>{const n=new ao(this.context,e).toMidi();if(this._activeSources.has(n)&&this._activeSources.get(n).length){const e=this._activeSources.get(n);t=this.toSeconds(t),e.forEach((e=>{e.stop(t)})),this._activeSources.set(n,[])}})),this}releaseAll(e){const t=this.toSeconds(e);return this._activeSources.forEach((e=>{for(;e.length;){e.shift().stop(t)}})),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const i=this.toSeconds(n);return this.triggerAttack(e,i,r),is(t)?(as(is(e),"notes must be an array when duration is array"),e.forEach(((e,n)=>{const r=t[Math.min(n,t.length-1)];this.triggerRelease(e,i+this.toSeconds(r))}))):this.triggerRelease(e,i+this.toSeconds(t)),this}add(e,t,n){if(as(os(e)||isFinite(e),`note must be a pitch or midi: ${e}`),os(e)){const r=new ao(this.context,e).toMidi();this._buffers.add(r,t,n)}else this._buffers.add(e,t,n);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach((e=>{e.forEach((e=>e.dispose()))})),this._activeSources.clear(),this}}vs([ia(0)],va.prototype,"attack",void 0),vs([ia(0)],va.prototype,"release",void 0);class ya extends mo{constructor(){const e=Ts(ya.getDefaults(),arguments,["pan"]);super(e),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner,this.pan=new fo({context:this.context,param:this._panner.pan,value:e.pan,minValue:-1,maxValue:1}),this._panner.channelCount=e.channelCount,this._panner.channelCountMode="explicit",Us(this,"pan")}static getDefaults(){return Object.assign(mo.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}const _a="bit-crusher";ma(_a,"\n\tclass BitCrusherWorklet extends SingleIOProcessor {\n\n\t\tstatic get parameterDescriptors() {\n\t\t\treturn [{\n\t\t\t\tname: \"bits\",\n\t\t\t\tdefaultValue: 12,\n\t\t\t\tminValue: 1,\n\t\t\t\tmaxValue: 16,\n\t\t\t\tautomationRate: 'k-rate'\n\t\t\t}];\n\t\t}\n\n\t\tgenerate(input, _channel, parameters) {\n\t\t\tconst step = Math.pow(0.5, parameters.bits - 1);\n\t\t\tconst val = step * Math.floor(input / step + 0.5);\n\t\t\treturn val;\n\t\t}\n\t}\n");class ba extends mo{constructor(){const e=Ts(ba.getDefaults(),arguments,["solo"]);super(e),this.name="Solo",this.input=this.output=new _o({context:this.context}),ba._allSolos.has(this.context)||ba._allSolos.set(this.context,new Set),ba._allSolos.get(this.context).add(this),this.solo=e.solo}static getDefaults(){return Object.assign(mo.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(e){e?this._addSolo():this._removeSolo(),ba._allSolos.get(this.context).forEach((e=>e._updateSolo()))}get muted(){return 0===this.input.gain.value}_addSolo(){ba._soloed.has(this.context)||ba._soloed.set(this.context,new Set),ba._soloed.get(this.context).add(this)}_removeSolo(){ba._soloed.has(this.context)&&ba._soloed.get(this.context).delete(this)}_isSoloed(){return ba._soloed.has(this.context)&&ba._soloed.get(this.context).has(this)}_noSolos(){return!ba._soloed.has(this.context)||ba._soloed.has(this.context)&&0===ba._soloed.get(this.context).size}_updateSolo(){this._isSoloed()||this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),ba._allSolos.get(this.context).delete(this),this._removeSolo(),this}}ba._allSolos=new Map,ba._soloed=new Map;class xa extends mo{constructor(){const e=Ts(xa.getDefaults(),arguments,["pan","volume"]);super(e),this.name="PanVol",this._panner=this.input=new ya({context:this.context,pan:e.pan,channelCount:e.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new Ao({context:this.context,volume:e.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=e.mute,Us(this,["pan","volume"])}static getDefaults(){return Object.assign(mo.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class wa extends mo{constructor(){const e=Ts(wa.getDefaults(),arguments,["volume","pan"]);super(e),this.name="Channel",this._solo=this.input=new ba({solo:e.solo,context:this.context}),this._panVol=this.output=new xa({context:this.context,pan:e.pan,volume:e.volume,mute:e.mute,channelCount:e.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),Us(this,["pan","volume"])}static getDefaults(){return Object.assign(mo.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(e){this._solo.solo=e}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(e){this._panVol.mute=e}_getBus(e){return wa.buses.has(e)||wa.buses.set(e,new _o({context:this.context})),wa.buses.get(e)}send(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=this._getBus(e),r=new _o({context:this.context,units:"decibels",gain:t});return this.connect(r),r.connect(n),r}receive(e){return this._getBus(e).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}wa.buses=new Map;Zs().transport;Zs().destination,Zs().destination;Zs().listener;Zs().draw;Zs();const ka=function(e){let{name:n,inputElement:r,generateExample:s,convertExampleToAnswers:o,convertInputToAnswer:a,settingsComponent:l,repeatEnabled:u=!0,showHintEnabled:c=!0,altVersion:h,repeat:d,doBeforePlayExample:p}=e;const f=n,{playNotes:m,shuffleInstruments:g,triggerInstrumentChange:v,trigger:y,lastInput:_,markedNotes:b,setMarkedNotes:x,playedNotes:w,setPlayedNotes:k}=(0,t.useContext)(zi),{updateExamplesResults:C,resetExamplesResults:S}=(0,t.useContext)(Li),[T,E]=(0,t.useState)(!1),{showElement:A}=(0,t.useContext)(Ol),[M,P]=(0,t.useState)([]),[j,O]=(0,t.useState)([]),[I,N]=(0,t.useState)([]),D=(0,t.useRef)(w.length),[R,z]=(0,t.useState)(!1);(0,t.useEffect)((()=>{E(!1),x([]),k([])}),[n]),(0,t.useEffect)((()=>{if(T){const e=a?a(_):_;e&&N((t=>[...t,e]))}}),[y]);const F=async()=>{N([]),z(!1),g&&await v();const e=await s(),t=await o(e);P(e),O(t),V(e)},V=async e=>{p&&await p(),await m(e)},L=u?()=>{N([]),k([]),d&&d(),V(M)}:void 0,W=c&&!R?()=>{let e=(is(M[0])?M[0]:M).sort(((e,t)=>e-t));b.length+1===e.length&&z(!0),x([...b,Array.isArray(e[0])?e[b.length][0]:e[b.length]])}:void 0;(0,t.useEffect)((()=>{if(T&&D.current!==I.length&&I.length===j.length){const e=JSON.stringify(I)===JSON.stringify(j);console.log("isCorrect: ",e,"answers: ",JSON.stringify(I),"correctAnswers: ",JSON.stringify(j)),C(e),e?(x([]),setTimeout((()=>{F()}),900)):(N([]),u?setTimeout((()=>L()),900):setTimeout((()=>F()),900))}D.current=I.length}),[I,j,T,F,L,C]);const B=void 0!==l?()=>{A(l)}:void 0;return(0,i.jsxs)(Vi.Provider,{value:{answers:I,hasStarted:T,startExercise:()=>{S(),E(!0),F()},nextExample:F,repeatExample:L,showHint:W,openSettings:B},children:[(0,i.jsx)(Qi,{text:f,onClick:h?()=>A(h):void 0}),r,(0,i.jsx)(Zi,{})]})};const Ca=function(e){let{isChecked:n,onClick:r,label:s}=e;const{styleSheet:o}=(0,t.useContext)(Ol),a={backgroundColor:n?o.text:o.enabled,height:"3vmin",aspectRatio:1,cursor:"pointer",fontSize:"100%",border:"3px solid "+o.text,display:"flex",alignItems:"flex-start",boxShadow:"1vmin 1vmin"+(n?o.enabled:o.text)};return(0,i.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",gap:"1vmax",flex:1,width:"fit-content"},children:[(0,i.jsx)("div",{style:a,onClick:r}),(0,i.jsx)(qi,{children:s})]})};const Sa=function(e){let{min:n,max:r,value:s,isEnabled:o,onChange:a}=e;const{styleSheet:l}=(0,t.useContext)(Ol),u=n||0,c=r||100,h=(0,t.useRef)(),d=(0,t.useRef)(),p={backgroundColor:l.lightbackground,display:"flex",flex:1,justifyContent:"left",alignItems:"center",border:"2px solid black",boxSizing:"border-box"},f={backgroundColor:o?l.enabled:l.disabled,cursor:"pointer",display:"flex",justifyContent:"center",alignItems:"center",position:"relative",minWidth:"8vmin",height:"100%",borderLeft:"2px solid black",borderRight:"2px solid black",padding:"0.5vmin",boxSizing:"border-box",zIndex:1};return(0,t.useEffect)((()=>{(e=>{const{offsetWidth:t}=h.current,{offsetWidth:n,style:r}=d.current;r.left=(e-u)/(c-u)*(t-n)+"px"})(s)}),[s]),(0,i.jsx)("div",{style:p,ref:h,children:(0,i.jsx)("div",{style:f,onMouseDown:o?e=>{const t=h.current,n=d.current,r=t.offsetWidth,i=n.offsetWidth,o=e=>{const{left:o}=t.getBoundingClientRect(),l=Math.min(Math.max(0,e.clientX-o-i/2),r-i),h=Math.round(l/(r-i)*(c-u)+u);n.style.left=(h-u)/(c-u)*(r-i)+"px",s=h,a(h)},l=()=>{document.removeEventListener("mousemove",o),document.removeEventListener("mouseup",l)};document.addEventListener("mousemove",o),document.addEventListener("mouseup",l),e.preventDefault()}:null,ref:d,children:Math.round(s)})})};const Ta=function(e){let{text:t,isEnabled:n=!0,onChange:r,min:s,max:o,value:a}=e;return(0,i.jsxs)(Ui,{gap:.5,children:[t&&(0,i.jsx)(Ui,{length:1,padding:!1,children:(0,i.jsx)(Hi,{text:t,isEnabled:n})}),(0,i.jsx)(Ui,{length:2,padding:!1,children:(0,i.jsx)(Sa,{isEnabled:n,value:a,onChange:r,min:s,max:o})})]})};const Ea=function(e){let{children:t,top:n,left:r,minHeight:s,minWidth:o}=e;const a={position:"absolute",top:n,left:r,minHeight:s,minWidth:o,transform:"translate(-50%, -50%)",display:"flex"};return(0,i.jsx)("div",{style:a,children:t})};const Aa=function(e){let{onOK:n,onCancel:r,top:s}=e;const{dictionary:o}=(0,t.useContext)(Il);return(0,i.jsx)(Ea,{top:s,left:"50%",minWidth:"30%",minHeight:"10%",children:(0,i.jsxs)(Ui,{direction:"row",gap:2,children:[(0,i.jsx)(Gi,{label:o.ok,onClick:n}),(0,i.jsx)(Gi,{label:o.cancel,onClick:r})]})})};const Ma=function(e){let{nExamplesSliderEnabled:n=!1}=e;const{showElement:r,lastOpenedElement:o,showAlert:a,hideAlert:l}=(0,t.useContext)(Ol),{enabledIntervals:u,setEnabledIntervals:c}=(0,t.useContext)(s),{intervalsN:h,setIntervalsN:d}=(0,t.useContext)(s),{reproductionMode:p,setReproductionMode:f}=(0,t.useContext)(zi),[m,g]=(0,t.useState)(h),[v,y]=(0,t.useState)(u),[_,b]=(0,t.useState)(p),x=n&&_===Di.SIMULTANEOUS,{dictionary:w}=(0,t.useContext)(Il),k=e=>{v.includes(e)?y(v.filter((t=>t!==e))):y([...v,e])};return(0,i.jsxs)("div",{children:[(0,i.jsx)(Bi,{minHeight:x?"50%":"40%",minWidth:"50%",children:(0,i.jsx)(Ui,{direction:"row",children:(0,i.jsxs)(Ui,{children:[(0,i.jsxs)(Ui,{direction:"row",gap:5,length:5,children:[(0,i.jsxs)(Ui,{length:2,children:[(0,i.jsx)(qi,{center:!1,children:w.intervals}),(0,i.jsxs)(Yi,{dimx:3,dimy:4,padding:!1,flex:4,children:[(0,i.jsx)(Ca,{label:w.minorsecond,isChecked:v.includes(1),onClick:()=>k(1)}),(0,i.jsx)(Ca,{label:w.majorsecond,isChecked:v.includes(2),onClick:()=>k(2)}),(0,i.jsx)(Ca,{label:w.minorthird,isChecked:v.includes(3),onClick:()=>k(3)}),(0,i.jsx)(Ca,{label:w.majorthird,isChecked:v.includes(4),onClick:()=>k(4)}),(0,i.jsx)(Ca,{label:w.perfectfourth,isChecked:v.includes(5),onClick:()=>k(5)}),(0,i.jsx)(Ca,{label:w.tritone,isChecked:v.includes(6),onClick:()=>k(6)}),(0,i.jsx)(Ca,{label:w.perfectfifth,isChecked:v.includes(7),onClick:()=>k(7)}),(0,i.jsx)(Ca,{label:w.minorsixth,isChecked:v.includes(8),onClick:()=>k(8)}),(0,i.jsx)(Ca,{label:w.majorsixth,isChecked:v.includes(9),onClick:()=>k(9)}),(0,i.jsx)(Ca,{label:w.minorseventh,isChecked:v.includes(10),onClick:()=>k(10)}),(0,i.jsx)(Ca,{label:w.majorseventh,isChecked:v.includes(11),onClick:()=>k(11)}),(0,i.jsx)(Ca,{label:w.octave,isChecked:v.includes(12),onClick:()=>k(12)})]})]}),(0,i.jsxs)(Ui,{children:[(0,i.jsx)(qi,{center:!1,children:w.intervalplayingmode}),(0,i.jsx)(Yi,{dimx:2,dimy:1,padding:!1,flex:4,children:(0,i.jsxs)(Yi,{dimx:1,dimy:4,padding:!1,children:[(0,i.jsx)(Ca,{label:w.simultaneousmode,isChecked:_===Di.SIMULTANEOUS,onClick:()=>{b(Di.SIMULTANEOUS)}}),(0,i.jsx)(Ca,{label:w.ascendingmode,isChecked:_===Di.ASCENDING,onClick:()=>{b(Di.ASCENDING),g(1)}}),(0,i.jsx)(Ca,{label:w.descendingmode,isChecked:_===Di.DESCENDING,onClick:()=>{b(Di.DESCENDING),g(1)}}),(0,i.jsx)(Ca,{label:w.randommode,isChecked:_===Di.RANDOM,onClick:()=>{b(Di.RANDOM),g(1)}})]})})]})]}),x&&(0,i.jsxs)(Ui,{length:.5,direction:"row",padding:!1,children:[(0,i.jsx)(Ui,{children:(0,i.jsx)(qi,{children:w.numberofexamples})}),(0,i.jsx)(Ui,{length:2,children:(0,i.jsx)(Ta,{label:w.intervalsn,min:1,max:5,value:m,onChange:g})})]})]})})}),(0,i.jsx)(Aa,{onOK:()=>{v!==u||m!==h||_!==p?0!==v.length?(_===Di.RANDOM&&g(1),f(_),c(v),d(m),l(),r(o)):a(w.selectatleastoneinterval):r(o)},onCancel:()=>r(o),top:x?"85%":"80%"})]})};var Pa=Object.defineProperty,ja=(e,t,n)=>(((e,t,n)=>{t in e?Pa(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n})(e,"symbol"!=typeof t?t+"":t,n),n);function Oa(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ia={exports:{}};Symbol.toStringTag;var Na=typeof process<"u"&&process.pid?process.pid.toString(36):"";function Da(){var e=Date.now(),t=Da.last||e;return Da.last=e>t?e:t+1}Ia.exports=Ia.exports.default=function(e,t){return(e||"")+""+Na+Da().toString(36)+(t||"")},Ia.exports.process=function(e,t){return(e||"")+Na+Da().toString(36)+(t||"")},Ia.exports.time=function(e,t){return(e||"")+Da().toString(36)+(t||"")};const Ra=Oa(Ia.exports),za=144,Fa=128,Va=176,La=240;class Wa{constructor(){ja(this,"subscriptions",{all:{},note:{},clock:{},control:{}})}subscribe(e,t){const n=Ra();return this.subscriptions[e][n]=t,n}unsubscribe(e,t){delete this.subscriptions[e][t]}onMIDIMessage(e){const t=240&e.data[0],n=15&e.data[0],r=n+1,{all:i,note:s,control:o,clock:a}=this.subscriptions;for(const l in i)i[l](e);switch(t){case Va:for(const t in o)o[t]({target:e.data[1],value:e.data[2],channel:r});break;case za:case Fa:for(const n in s)s[n]({target:e.data[1],value:e.data[2],channel:r,on:t===za});break;case La:for(const e in a)a[e](n)}}}const Ba={inputs:[],outputs:[],selectedInputId:null,selectedOutputId:null},qa=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ba,t=arguments.length>1?arguments[1]:void 0;const{type:n,payload:r}=t;switch(n){case"AccessReceived":const t=r.inputs.some((t=>t.id===e.selectedInputId)),n=r.outputs.find((t=>t.id===e.selectedOutputId));return{...e,inputs:r.inputs,outputs:r.outputs,selectedInputId:t?e.selectedInputId:r.inputs.length?r.inputs[0].id:null,selectedOutputId:n?e.selectedOutputId:r.outputs.length?r.outputs[0].id:null};case"InputSelected":return{...e,selectedInputId:r.inputId};case"OutputSelected":return{...e,selectedOutputId:r.outputId};default:return e}},Ua=e=>({type:"AccessReceived",payload:{inputs:Array.from(e.inputs.values()),outputs:Array.from(e.outputs.values())}}),Ga=t.createContext({state:Ba,dispatch:()=>null,emitter:new Wa}),$a=e=>{let{children:n}=e;const r=(0,t.useRef)(new Wa),[s,o]=(0,t.useReducer)(qa,Ba),{inputs:a,selectedInputId:l}=s;return(0,t.useEffect)((()=>{null!=navigator&&navigator.requestMIDIAccess&&navigator.requestMIDIAccess().then((e=>{o(Ua(e)),e.onstatechange=()=>{o(Ua(e))}}))}),[o]),(0,t.useEffect)((()=>{const e=a.find((e=>e.id===l));return e?(e.onmidimessage=r.current.onMIDIMessage.bind(r.current),()=>e.onmidimessage=null):()=>{}}),[a,l]),(0,i.jsx)(Ga.Provider,{value:{state:s,dispatch:o,emitter:r.current},children:n})},Ha=(e,n)=>{const{emitter:r}=(0,t.useContext)(Ga);(0,t.useEffect)((()=>{const t=r.subscribe(e,n);return()=>{r.unsubscribe("note",t)}}),[r,n])},Qa=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const[n,r]=(0,t.useState)([]),i=function(){let{note:e,channel:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const[r,i]=(0,t.useState)(),s=(0,t.useCallback)((t=>{const{target:r,value:s,on:o,channel:a}=t;(!e||e===r)&&(!n||n===a)&&i({note:r,on:o,velocity:s,channel:a})}),[e,n,i]);return Ha("note",s),r}(e);return(0,t.useEffect)((()=>{if(i){if(i===n[n.length-1])return;i.on?r([...n,i]):r(n.filter((e=>e.note!==i.note)))}}),[i]),n};const Ya=function(){const{styleSheet:e}=t.useContext(Ol),n={position:"absolute",bottom:"5%",width:"1em",aspectRatio:"1",backgroundColor:e.background,borderRadius:"50%"};return(0,i.jsx)("div",{style:n})};const Xa=function(e){let{onClick:n,isWhite:r,left:s,width:o,midiNote:a,isMarked:l,isPlayed:u}=e;const[c,h]=t.useState(!1),[d,p]=t.useState(!1),{styleSheet:f}=t.useContext(Ol),m=a%12===0,g=Math.floor(a/12)-1,v=m?`C${["\u2084","\u2083","\u2082","\u2081"][g+1]||["\xb9","\xb2","\xb3","\u2074"][g-4]||""}`:"",y={position:"absolute",left:s,width:o,display:"flex",justifyContent:"center",alignItems:"flex-end",cursor:"pointer"},_={...y,backgroundColor:d?f.selected:f.enabled,border:"1px solid "+f.text,height:"100%"},b={...y,height:"63%",backgroundColor:d?f.selected:f.text,borderRadius:"0 0 5px 5px",zIndex:1};return(0,i.jsxs)("div",{style:r?_:b,onClick:function(){h(!0),n&&n(a),setTimeout((()=>{h(!1)}),300)},onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),children:[c&&(0,i.jsx)(Ya,{}),l&&(0,i.jsx)(Ya,{type:"marked"}),u&&r&&(0,i.jsx)("div",{style:{position:"absolute",width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.1)"}}),u&&!r&&(0,i.jsx)("div",{style:{position:"absolute",width:"100%",height:"100%",backgroundColor:"rgba(255, 255, 255, 0.3)"}}),v&&(0,i.jsx)(qi,{children:v})]})};const Za=function(){const{playNotes:e,triggerLastInput:n,markedNotes:r,playedNotes:o}=(0,t.useContext)(zi),{styleSheet:a}=(0,t.useContext)(Ol),{effectiveScale:l}=(0,t.useContext)(s),[u,c]=[l[0]-2,l[l.length-1]+2],h=function(e,t){const n=[0,2,4,5,7,9,11],s=[1,3,6,8,10],a=[],l=[],u=Array.from({length:t-e+1},((t,n)=>e+n)).filter((e=>n.includes(e%12))).length;for(let c=e;c<=t;c++)n.includes(c%12)?a.push((0,i.jsx)(Xa,{isWhite:!0,left:100/u*a.length+"%",width:100/u+"%",midiNote:c,onClick:f,isMarked:!!r&&r.includes(c),isPlayed:!!o&&o.includes(c)},c)):s.includes(c%12)&&l.push((0,i.jsx)(Xa,{isWhite:!1,midiNote:c,left:100/u*a.length-100/u/3.5+"%",width:100/u*3/5+"%",onClick:f,isMarked:!!r&&r.includes(c),isPlayed:!!o&&o.includes(c)},c));return[a,l]}(u,c),d=Qa({channel:1});(0,t.useEffect)((()=>{for(let e of d)f(e.note)}),[d]);const p={display:"block",position:"absolute",top:"14%",left:"10%",height:"40%",width:"80%",overflow:"hidden",border:"2px solid "+a.text};function f(t){e([t]),n(t)}return(0,i.jsx)("div",{style:p,children:h.flat().map((e=>e))})},Ka=Object.freeze({SIMULTANEOUS:"SIMULTANEOUS",SEQUENTIAL_ASCENDING:"SEQUENTIAL_ASCENDING",SEQUENTIAL_DESCENDING:"SEQUENTIAL_DESCENDING",RANDOM:"RANDOM"});const Ja=function(){const{effectiveScale:e,enabledIntervals:n,intervalPlayingMode:r}=(0,t.useContext)(s),{setMarkedNotes:o}=(0,t.useContext)(zi),[a,l]=(0,t.useState)(0),{dictionary:u}=(0,t.useContext)(Il);return(0,i.jsx)(ka,{name:u.interval,inputElement:(0,i.jsx)(Za,{}),generateExample:function t(){let i=r;if(i===Ka.RANDOM){const e=[Ka.SEQUENTIAL_ASCENDING,Ka.SEQUENTIAL_DESCENDING,Ka.SIMULTANEOUS];i=e[Math.floor(Math.random()*e.length)]}let s=Array.from({length:2},(()=>e[Math.floor(Math.random()*e.length)]));return s.sort(((e,t)=>e-t)),n.includes(Math.abs(s[1]-s[0]))?(o([s[0]]),l(s[0]),[s]):t()},convertExampleToAnswers:function(e){let t=[];return e.forEach((e=>{t.push({halftones:Math.abs(e[1]-e[0])})})),t},convertInputToAnswer:function(e){return e===a?null:{halftones:Math.abs(e-a)}},settingsComponent:(0,i.jsx)(Ma,{nExamplesSliderEnabled:!1}),includeFirstNoteInAnswers:!0,altVersion:(0,i.jsx)(tl,{})})};const el=function(){const e=(0,t.useContext)(zi).triggerLastInput,n=(0,t.useContext)(s).enabledIntervals,{dictionary:r}=(0,t.useContext)(Il);return(0,i.jsx)("div",{style:{display:"flex",flexDirection:"column",position:"absolute",top:"15%",left:"10%",height:"35%",width:"80%",gap:"8%"},children:(0,i.jsxs)("div",{className:"quiz-input-buttons",children:[(0,i.jsxs)("div",{className:"quiz-input-buttons-row",children:[(0,i.jsx)(Gi,{label:r.minorsecond,onClick:()=>e(1),isEnabled:n.includes(1)}),(0,i.jsx)(Gi,{label:r.minorthird,onClick:()=>e(3),isEnabled:n.includes(3)}),(0,i.jsx)(Ui,{length:1}),(0,i.jsx)(Gi,{label:r.tritone,onClick:()=>e(6),isEnabled:n.includes(6)}),(0,i.jsx)(Gi,{label:r.minorsixth,onClick:()=>e(8),isEnabled:n.includes(8)}),(0,i.jsx)(Gi,{label:r.minorseventh,onClick:()=>e(10),isEnabled:n.includes(10)}),(0,i.jsx)(Ui,{length:1.5})]}),(0,i.jsxs)("div",{className:"quiz-input-buttons-row",children:[(0,i.jsx)(Ui,{length:.5}),(0,i.jsx)(Gi,{label:r.majorsecond,onClick:()=>e(2),isEnabled:n.includes(2)}),(0,i.jsx)(Gi,{label:r.majorthird,onClick:()=>e(4),isEnabled:n.includes(4)}),(0,i.jsx)(Gi,{label:r.perfectfourth,onClick:()=>e(5),isEnabled:n.includes(5)}),(0,i.jsx)(Gi,{label:r.perfectfifth,onClick:()=>e(7),isEnabled:n.includes(7)}),(0,i.jsx)(Gi,{label:r.majorsixth,onClick:()=>e(9),isEnabled:n.includes(9)}),(0,i.jsx)(Gi,{label:r.majorseventh,onClick:()=>e(11),isEnabled:n.includes(11)}),(0,i.jsx)(Gi,{label:r.octave,onClick:()=>e(12),isEnabled:n.includes(12)})]})]})})};const tl=function(){const{effectiveScale:e,enabledIntervals:n,intervalsN:r}=(0,t.useContext)(s),{dictionary:o}=(0,t.useContext)(Il);return(0,i.jsx)(ka,{name:o.interval,inputElement:(0,i.jsx)(el,{}),generateExample:function(){return Array.from({length:r},(()=>{const t=n[Math.floor(Math.random()*n.length)],r=e[Math.floor(Math.random()*e.length)];return[r,r+t]}))},convertExampleToAnswers:function(e){return e.map((e=>({halftones:Math.abs(e[1]-e[0])})))},convertInputToAnswer:function(e){return{halftones:e}},settingsComponent:(0,i.jsx)(Ma,{nExamplesSliderEnabled:!0}),showHintEnabled:!1,undoNoteEnabled:!0,altVersion:(0,i.jsx)(Ja,{})})};const nl=function(e){let{sliderEnabled:n=!1}=e;const{showElement:r,lastOpenedElement:o,showAlert:a}=(0,t.useContext)(Ol),{dictionary:l}=(0,t.useContext)(Il),{enabledChords:u,setEnabledChordsByType:c}=(0,t.useContext)(s),{enabledInversions:h,setEnabledInversionsByType:d}=(0,t.useContext)(s),{triadsN:p,setTriadsN:f}=(0,t.useContext)(s),[m,g]=(0,t.useState)(u.triads),[v,y]=(0,t.useState)(h.triads),_=e=>{m.includes(e)?g(m.filter((t=>t!==e))):g([...m,e])},b=e=>{v.includes(e)?y(v.filter((t=>t!==e))):y([...v,e])};return(0,i.jsxs)("div",{children:[(0,i.jsx)(Bi,{minWidth:"50%",minHeight:n?"50%":"40%",children:(0,i.jsxs)(Ui,{direction:"column",padding:!1,children:[(0,i.jsxs)(Ui,{direction:"row",length:5,padding:!1,children:[(0,i.jsxs)(Ui,{padding:!1,children:[(0,i.jsx)(qi,{center:!1,children:"Tr\xf3jd\u017awi\u0119ki:"}),(0,i.jsx)(Ca,{label:l.major,isChecked:m.includes("maj"),onClick:()=>_("maj")}),(0,i.jsx)(Ca,{label:l.minor,isChecked:m.includes("min"),onClick:()=>_("min")}),(0,i.jsx)(Ca,{label:l.diminished,isChecked:m.includes("dim"),onClick:()=>_("dim")}),(0,i.jsx)(Ca,{label:l.augmented,isChecked:m.includes("aug"),onClick:()=>_("aug")})]}),(0,i.jsxs)(Ui,{padding:!1,children:[(0,i.jsx)(qi,{center:!1,children:"Przewroty:"}),(0,i.jsx)(Ca,{label:"Posta\u0107 zas.",isChecked:v.includes(0),onClick:()=>b(0)}),(0,i.jsx)(Ca,{label:"I przewr\xf3t",isChecked:v.includes(1),onClick:()=>b(1)}),(0,i.jsx)(Ca,{label:"II przewr\xf3t",isChecked:v.includes(2),onClick:()=>b(2)}),(0,i.jsx)(Ui,{length:1})]})]}),n&&(0,i.jsxs)(Ui,{direction:"row",length:1,padding:!1,children:[(0,i.jsx)(Ui,{padding:!1,length:1,children:(0,i.jsx)(qi,{center:!1,children:"Liczba przyk\u0142ad\xf3w:"})}),(0,i.jsx)(Ui,{padding:!0,length:2,children:(0,i.jsx)(Ta,{value:p,onChange:f,min:1,max:4,enabled:n})})]})]})}),(0,i.jsx)(Aa,{onOK:()=>{m!==u.triads||v!==h.triads?0!==m.length?0!==v.length?(c("triads",m),d("triads",v),r(o)):a("Musisz wybra\u0107 przynajmniej jeden przewr\xf3t!"):a("Musisz wybra\u0107 przynajmniej jeden tr\xf3jd\u017awi\u0119k!"):r(o)},onCancel:()=>r(o),top:n?"85%":"80%"})]})};const rl=function(){const e=(0,t.useContext)(s).enabledChords.triads,n=(0,t.useContext)(s).enabledInversions.triads,r=(0,t.useContext)(s).isMobile,o=(0,t.useContext)(Ol).aspectRatio,a=(0,t.useContext)(zi).triggerLastInput,l=(0,t.useContext)(zi).markedAnswers,{dictionary:u,symbols:c}=(0,t.useContext)(Il),h=(0,t.useMemo)((()=>({major:o<=1.25||r?c.maj:u.major,minor:o<=1.25||r?c.min:u.minor,diminished:o<=1.25||r?c.dim:u.diminished,augmented:o<=1.25||r?c.aug:u.augmented})),[o,r,c,u]),{major:d,minor:p,diminished:f,augmented:m}=h;return(0,i.jsxs)("div",{style:{display:"flex",flexDirection:"row",position:"absolute",top:"13%",left:"10%",height:"40%",width:"80%",gap:"2vmin"},children:[(0,i.jsxs)(Ui,{direction:"column",length:2,padding:!1,gap:1,children:[(0,i.jsxs)(Ui,{direction:"row",length:2,padding:!1,gap:1,children:[(0,i.jsx)(Gi,{label:d,onClick:()=>a("maj"),isEnabled:e.includes("maj"),isSelected:l.includes("maj")}),(0,i.jsx)(Gi,{label:p,onClick:()=>a("min"),isEnabled:e.includes("min"),isSelected:l.includes("min")})]}),(0,i.jsxs)(Ui,{direction:"row",length:2,padding:!1,gap:1,children:[(0,i.jsx)(Gi,{label:f,onClick:()=>a("dim"),isEnabled:e.includes("dim"),isSelected:l.includes("dim")}),(0,i.jsx)(Gi,{label:m,onClick:()=>a("aug"),isEnabled:e.includes("aug"),isSelected:l.includes("aug")})]})]}),(0,i.jsxs)(Ui,{direction:"column",length:2,padding:!1,gap:1,children:[(0,i.jsxs)(Ui,{direction:"row",length:2,padding:!1,gap:1,children:[(0,i.jsx)(Gi,{label:"postac zas",onClick:()=>a(0),isEnabled:n.includes(0),isSelected:l.includes(0)}),(0,i.jsx)(Gi,{label:"I przewrot",onClick:()=>a(1),isEnabled:n.includes(1),isSelected:l.includes(1)})]}),(0,i.jsxs)(Ui,{direction:"row",length:2,padding:!1,gap:1,children:[(0,i.jsx)(Ui,{length:.5,padding:!1}),(0,i.jsx)(Ui,{length:1,padding:!1,children:(0,i.jsx)(Gi,{label:"II przewrot",onClick:()=>a(2),isEnabled:n.includes(2),isSelected:l.includes(2)})}),(0,i.jsx)(Ui,{length:.5,padding:!1})]})]})]})},il={triads:{maj:{0:[4,3],1:[3,5],2:[5,4]},min:{0:[3,4],1:[4,5],2:[5,3]},dim:{0:[3,3],1:[3,6],2:[6,3]},aug:{0:[4,4],1:[4,4],2:[4,4]}},sevenths:{maj7:{0:[4,3,4],1:[3,4,1],2:[4,1,4],3:[1,4,3]},dom7:{0:[4,3,3],1:[3,3,2],2:[3,2,4],3:[2,4,3]},min7:{0:[3,4,3],1:[4,3,2],2:[3,2,3],3:[2,3,4]},min7b5:{0:[3,3,4],1:[3,4,2],2:[4,2,3],3:[2,3,3]},minmaj7:{0:[3,4,4],1:[4,4,1],2:[4,1,3],3:[1,3,4]},dim7:{0:[3,3,3],1:[3,3,3],2:[3,3,3],3:[3,3,3]},aug7:{0:[4,4,2],1:[4,2,2],2:[2,2,4],3:[2,4,4]},augmaj7:{0:[4,4,3],1:[4,3,1],2:[3,1,4],3:[1,4,4]}},ninths:{"3w7w9w":{0:[4,7,3],1:[7,1,2],2:[1,2,2],3:[2,7,1]},"3w7m9w":{0:[4,6,4],1:[6,2,2],2:[2,2,2],3:[2,6,2]},"3m7w9w":{0:[3,8,3],1:[8,1,2],2:[1,2,1],3:[1,8,1]},"3m7m9w":{0:[3,7,4],1:[7,2,2],2:[2,2,1],3:[1,7,2]},"3w7m9m":{0:[4,6,3],1:[6,2,1],2:[2,1,2],3:[3,6,2]},"3w7m9zw":{0:[4,6,5],1:[6,2,3],2:[2,3,1],3:[1,6,2]},"5cz7w9w":{0:[7,4,3],1:[4,1,2],2:[1,2,5],3:[5,4,1]},"5cz7m9w":{0:[7,3,4],1:[3,2,2],2:[2,2,5],3:[5,3,2]},"5zm7m9w":{0:[6,4,4],1:[4,2,2],2:[2,2,4],3:[4,4,2]}},elevenths:{"3w7w11cz":{0:[4,7,6],1:[7,1,5],2:[1,4,1],3:[6,1,4]},"3w7m11cz":{0:[4,6,7],1:[6,2,5],2:[2,4,1],3:[5,2,4]},"3m7w11cz":{0:[3,8,6],1:[8,1,5],2:[1,3,2],3:[6,1,3]},"3m7m11cz":{0:[3,7,7],1:[7,2,5],2:[2,3,2],3:[5,2,3]},"3w7w11zw":{0:[4,7,7],1:[7,1,6],2:[1,4,2],3:[5,1,4]},"3w7m11zw":{0:[4,6,8],1:[6,2,6],2:[2,4,2],3:[4,2,4]}},thirteenths:{"3w13w7w":{0:[4,5,2],1:[5,2,1],2:[2,1,4],3:[1,4,5]},"3m13w7w":{0:[3,6,2],1:[6,2,1],2:[2,1,3],3:[1,3,6]},"3w13w7m":{0:[4,5,1],1:[5,1,2],2:[1,2,4],3:[2,4,5]},"3m13w7m":{0:[3,6,1],1:[6,1,2],2:[1,2,3],3:[2,3,6]},"3w13w9w":{0:[4,5,5],1:[5,3,2],2:[3,2,2],3:[2,5,3]},"3m13w9w":{0:[3,6,5],1:[6,3,2],2:[3,2,1],3:[1,6,3]},"3w13w9m":{0:[4,5,4],1:[5,3,1],2:[3,1,3],3:[3,5,3]},"3m13w9m":{0:[3,6,4],1:[6,3,1],2:[3,1,2],3:[2,6,3]}}};const sl=function(e){let{sliderEnabled:n=!1}=e;const{showElement:r,lastOpenedElement:o}=(0,t.useContext)(Ol),{enabledChords:a,setEnabledChordsByType:l,seventhsN:u,setSeventhsN:c}=(0,t.useContext)(s),{enabledInversions:h,setEnabledInversionsByType:d}=(0,t.useContext)(s),[p,f]=(0,t.useState)(a.sevenths),[m,g]=(0,t.useState)(h.sevenths),v=e=>{p.includes(e)?f(p.filter((t=>t!==e))):f([...p,e])},y=e=>{m.includes(e)?g(m.filter((t=>t!==e))):g([...m,e])};return(0,i.jsxs)("div",{children:[(0,i.jsx)(Bi,{minWidth:"60%",minHeight:"45%",children:(0,i.jsxs)(Ui,{direction:"row",children:[(0,i.jsxs)(Ui,{children:[(0,i.jsx)(qi,{center:!1,children:"Akordy z septym\u0105:"}),(0,i.jsx)(Ca,{label:"Durowy (7<)",isChecked:p.includes("maj7"),onClick:()=>v("maj7")}),(0,i.jsx)(Ca,{label:"Dominantowy",isChecked:p.includes("dom7"),onClick:()=>v("dom7")}),(0,i.jsx)(Ca,{label:"Molowy (7>)",isChecked:p.includes("min7"),onClick:()=>v("min7")}),(0,i.jsx)(Ca,{label:"Molowy (7<)",isChecked:p.includes("minmaj7"),onClick:()=>v("minmaj7")})]}),(0,i.jsxs)(Ui,{children:[(0,i.jsx)(Ui,{length:1,padding:!1}),(0,i.jsx)(Ca,{label:"Zmniejszony",isChecked:p.includes("dim7"),onClick:()=>v("dim7")}),(0,i.jsx)(Ca,{label:"P\xf3\u0142zmniejszony",isChecked:p.includes("min7b5"),onClick:()=>v("min7b5")}),(0,i.jsx)(Ca,{label:"Zwi\u0119kszony (7>)",isChecked:p.includes("aug7"),onClick:()=>v("aug7")}),(0,i.jsx)(Ca,{label:"Zwi\u0119kszony (7<)",isChecked:p.includes("augmaj7"),onClick:()=>v("augmaj7")})]}),(0,i.jsx)(Ui,{length:1}),(0,i.jsxs)(Ui,{children:[(0,i.jsx)(qi,{center:!1,children:"Przewroty:"}),(0,i.jsx)(Ca,{label:"Posta\u0107 zas.",isChecked:m.includes(0),onClick:()=>y(0)}),(0,i.jsx)(Ca,{label:"I przewr\xf3t",isChecked:m.includes(1),onClick:()=>y(1)}),(0,i.jsx)(Ca,{label:"II przewr\xf3t",isChecked:m.includes(2),onClick:()=>y(2)}),(0,i.jsx)(Ca,{label:"III przewr\xf3t",isChecked:m.includes(3),onClick:()=>y(3)})]}),(0,i.jsxs)(Ui,{length:.5,children:[n&&(0,i.jsx)(Ui,{length:1}),n&&(0,i.jsx)(qi,{children:"Przyk\u0142ady:"}),n&&(0,i.jsx)(Ta,{min:1,max:5,initialValue:u,onChange:c}),!n&&(0,i.jsx)(Ui,{length:4})]})]})}),(0,i.jsx)(Aa,{onOK:()=>{p!==a.sevenths||m!==h.sevenths?(l("sevenths",p),d("sevenths",m),r(o)):r(o)},onCancel:()=>r(o),top:"80%"})]})};const ol=function(){const{showElement:e,lastOpenedElement:n}=(0,t.useContext)(Ol),{enabledChords:r,setEnabledChordsByType:o}=(0,t.useContext)(s),{enabledInversions:a,setEnabledInversionsByType:l}=(0,t.useContext)(s),[u,c]=(0,t.useState)(r.ninths),[h,d]=(0,t.useState)(a.ninths),p=e=>{u.includes(e)?c(u.filter((t=>t!==e))):c([...u,e])};return(0,i.jsx)(Bi,{minWidth:"50%",minHeight:"40%",children:(0,i.jsxs)(Ui,{direction:"row",children:[(0,i.jsx)(Ui,{length:.1}),(0,i.jsxs)(Ui,{children:[(0,i.jsx)(Ui,{length:.1}),(0,i.jsx)(qi,{children:"Akordy z non\u0105:"}),(0,i.jsx)(Ca,{label:"3w, 7w, 9w",isChecked:u.includes("3w7w9w"),onClick:()=>p("3w7w9w")}),(0,i.jsx)(Ca,{label:"3w, 7m, 9w",isChecked:u.includes("3w7m9w"),onClick:()=>p("3w7m9w")}),(0,i.jsx)(Ca,{label:"3m, 7w, 9w",isChecked:u.includes("3m7w9w"),onClick:()=>p("3m7w9w")}),(0,i.jsx)(Ca,{label:"3m, 7m, 9w",isChecked:u.includes("3m7m9w"),onClick:()=>p("3m7m9w")}),(0,i.jsx)(Ca,{label:"3w, 7m, 9m",isChecked:u.includes("3w7m9m"),onClick:()=>p("3w7m9m")}),(0,i.jsx)(Ca,{label:"3w, 7m, 9zw",isChecked:u.includes("3w7m9zw"),onClick:()=>p("3w7m9zw")}),(0,i.jsx)(Ui,{length:.1})]}),(0,i.jsxs)(Ui,{children:[(0,i.jsx)(Ui,{length:.1}),(0,i.jsx)(Ui,{length:1}),(0,i.jsx)(Ca,{label:"5cz, 7w, 9w",isChecked:u.includes("5cz7w9w"),onClick:()=>p("5cz7w9w")}),(0,i.jsx)(Ca,{label:"5cz, 7m, 9w",isChecked:u.includes("5cz7m9w"),onClick:()=>p("5cz7m9w")}),(0,i.jsx)(Ca,{label:"5zm, 7m, 9w",isChecked:u.includes("5zm7m9w"),onClick:()=>p("5zm7m9w")}),(0,i.jsx)(Ui,{length:1}),(0,i.jsx)(qi,{children:"Przewroty"}),(0,i.jsx)(Ca,{label:"w\u0142\u0105cz przewroty",isChecked:h.length>1,onClick:()=>d(h.length>1?[0]:[0,1,2,3])}),(0,i.jsx)(Ui,{length:.1})]}),(0,i.jsxs)(Ui,{width:.5,children:[(0,i.jsx)(Ui,{length:.5}),(0,i.jsx)(Aa,{onOK:()=>{u!==r.ninths||h!==a.ninths?(o("ninths",u),l("ninths",h),e(n)):e(n)},onCancel:()=>e(n)}),(0,i.jsx)(Ui,{length:3.5})]}),(0,i.jsx)(Ui,{length:.1})]})})};const al=function(){const{showElement:e,lastOpenedElement:n}=(0,t.useContext)(Ol),{enabledChords:r,setEnabledChordsByType:o}=(0,t.useContext)(s),{enabledInversions:a,setEnabledInversionsByType:l}=(0,t.useContext)(s),[u,c]=(0,t.useState)(r.elevenths),[h,d]=(0,t.useState)(a.elevenths),p=e=>{u.includes(e)?c(u.filter((t=>t!==e))):c([...u,e])};return(0,i.jsx)(Bi,{minWidth:"50%",minHeight:"30%",children:(0,i.jsxs)(Ui,{direction:"row",children:[(0,i.jsxs)(Ui,{children:[(0,i.jsx)(qi,{children:"Akordy z undecym\u0105:"}),(0,i.jsx)(Ca,{label:"3w, 7w, 11cz",isChecked:u.includes("3w7w11cz"),onClick:()=>p("3w7w11cz")}),(0,i.jsx)(Ca,{label:"3w, 7m, 11cz",isChecked:u.includes("3w7m11cz"),onClick:()=>p("3w7m11cz")}),(0,i.jsx)(Ca,{label:"3m, 7w, 11cz",isChecked:u.includes("3m7w11cz"),onClick:()=>p("3m7w11cz")}),(0,i.jsx)(Ca,{label:"3m, 7m, 11cz",isChecked:u.includes("3m7m11cz"),onClick:()=>p("3m7m11cz")})]}),(0,i.jsxs)(Ui,{children:[(0,i.jsx)(Ui,{length:1}),(0,i.jsx)(Ca,{label:"3w, 7w, 11zw",isChecked:u.includes("3w7w11zw"),onClick:()=>p("3w7w11zw")}),(0,i.jsx)(Ca,{label:"3w, 7m, 11zw",isChecked:u.includes("3w7m11zw"),onClick:()=>p("3w7m11zw")}),(0,i.jsx)(qi,{children:"Przewroty"}),(0,i.jsx)(Ca,{label:"u\u017cywaj przewrot\xf3w",isChecked:h.length>1,onClick:()=>d(h.length>1?[0]:[0,1,2,3])})]}),(0,i.jsxs)(Ui,{children:[(0,i.jsx)(Ui,{length:.5}),(0,i.jsx)(Aa,{onOK:()=>{u!==r.elevenths||h!==a.elevenths?(o("elevenths",u),l("elevenths",h),e(n)):e(n)},onCancel:()=>e(n)}),(0,i.jsx)(Ui,{length:3})]})]})})};const ll=function(){const{noteLength:e,setNoteLength:n,noteSpacing:r,setNoteSpacing:o}=(0,t.useContext)(s),{dictionary:a}=(0,t.useContext)(Il),l=(e-.1)/.9*100,u=(r-.1)/.9*100;return(0,i.jsxs)(Ui,{children:[(0,i.jsx)(qi,{children:a.playbacksettings}),(0,i.jsx)(Ta,{text:a.notespacing,onChange:e=>{o(.1+e/100*.9)},value:u}),(0,i.jsx)(Ta,{text:a.notelength,onChange:e=>{n(.1+e/100*.9)},value:l})]})};const ul=function(){const{showElement:e,lastOpenedElement:n}=(0,t.useContext)(Ol),{enabledChords:r,setEnabledChordsByType:o}=(0,t.useContext)(s),{enabledInversions:a,setEnabledInversionsByType:l}=(0,t.useContext)(s),[u,c]=(0,t.useState)(r.thirteenths),[h,d]=(0,t.useState)(a.thirteenths),p=e=>{u.includes(e)?c(u.filter((t=>t!==e))):c([...u,e])};return(0,i.jsx)(Bi,{minWidth:"50%",minHeight:"60%",children:(0,i.jsxs)(Ui,{children:[(0,i.jsx)(Ui,{children:(0,i.jsx)(qi,{center:!1,children:"Akordy z tercdecym\u0105:"})}),(0,i.jsxs)(Ui,{direction:"row",length:3,children:[(0,i.jsxs)(Ui,{children:[(0,i.jsx)(Ca,{label:"3w, 13w, 7w",isChecked:u.includes("3w13w7w"),onClick:()=>p("3w13w7w")}),(0,i.jsx)(Ca,{label:"3m, 13w, 7w",isChecked:u.includes("3m13w7w"),onClick:()=>p("3m13w7w")}),(0,i.jsx)(Ca,{label:"3w, 13w, 7m",isChecked:u.includes("3w13w7m"),onClick:()=>p("3w13w7m")}),(0,i.jsx)(Ca,{label:"3m, 13w, 7m",isChecked:u.includes("3m13w7m"),onClick:()=>p("3m13w7m")}),(0,i.jsx)(Ca,{label:"3w, 13w, 9w",isChecked:u.includes("3w13w9w"),onClick:()=>p("3w13w9w")})]}),(0,i.jsxs)(Ui,{children:[(0,i.jsx)(Ca,{label:"3m, 13w, 9w",isChecked:u.includes("3m13w9w"),onClick:()=>p("3m13w9w")}),(0,i.jsx)(Ca,{label:"3w, 13w, 9m",isChecked:u.includes("3w13w9m"),onClick:()=>p("3w13w9m")}),(0,i.jsx)(Ca,{label:"3m, 13w, 9m",isChecked:u.includes("3m13w9m"),onClick:()=>p("3m13w9m")}),(0,i.jsx)(qi,{center:!1,children:"Przewroty"}),(0,i.jsx)(Ca,{label:"u\u017cywaj przewrot\xf3w",isChecked:h.length>1,onClick:()=>d(h.length>1?[0]:[0,1,2,3])})]}),(0,i.jsxs)(Ui,{children:[(0,i.jsx)(Ui,{length:.5}),(0,i.jsx)(Aa,{onOK:()=>{u!==r.thirteenths||h!==a.thirteenths?(o("thirteenths",u),l("thirteenths",h),e(n)):e(n)},onCancel:()=>e(n)}),(0,i.jsx)(Ui,{length:4})]})]}),(0,i.jsx)(Ui,{children:(0,i.jsx)(ll,{})})]})})};const cl=function(){const{showElement:e,lastOpenedElement:n}=(0,t.useContext)(Ol),{enabledChords:r,setEnabledChordsByType:o}=(0,t.useContext)(s),[a,l]=(0,t.useState)(r.random),u=e=>{a.includes(e)?l(a.filter((t=>t!==e))):l([...a,e])};return(0,i.jsx)(Bi,{children:(0,i.jsxs)(Ui,{direction:"row",children:[(0,i.jsxs)(Ui,{children:[(0,i.jsx)(qi,{children:"Akordy przypadkowe:"}),(0,i.jsx)(Ca,{label:"Dwud\u017awi\u0119k",isChecked:a.includes(2),onClick:()=>u(2)}),(0,i.jsx)(Ca,{label:"Tr\xf3jd\u017awi\u0119k",isChecked:a.includes(3),onClick:()=>u(3)}),(0,i.jsx)(Ca,{label:"Czterod\u017awi\u0119k",isChecked:a.includes(4),onClick:()=>u(4)})]}),(0,i.jsxs)(Ui,{children:[(0,i.jsx)(Ui,{length:.5}),(0,i.jsx)(Aa,{onOK:()=>{a!==r.random?(o("random",a),e(n)):e(n)},onCancel:()=>e(n)}),(0,i.jsx)(Ui,{length:3})]})]})})};const hl=function(e){let{keyRange:t,onNotePlayed:n,markedNotes:r}=e;const[s,o]=[t.low,t.high],a=function(e,t){const s=[0,2,4,5,7,9,11],o=[1,3,6,8,10],a=[],l=[],u=Array.from({length:t-e+1},((t,n)=>e+n)).filter((e=>s.includes(e%12))).length;for(let c=e;c<=t;c++)s.includes(c%12)?a.push((0,i.jsx)(Xa,{isWhite:!0,left:100/u*a.length+"%",width:100/u+"%",midiNote:c,onClick:n,isMarked:!!r&&r.includes(c)},c)):o.includes(c%12)&&l.push((0,i.jsx)(Xa,{isWhite:!1,midiNote:c,left:100/u*a.length-100/u/3.5+"%",width:100/u*3/5+"%",onClick:n,isMarked:!!r&&r.includes(c)},c));return[a,l]}(s,o);return(0,i.jsx)("div",{className:"keyboard",style:{zIndex:99},children:a.flat().map((e=>e))})};const dl=function(e){let{value:n,onChange:r,children:s}=e;const{styleSheet:o}=(0,t.useContext)(Ol),a={flex:1,width:"100%",height:"100%",cursor:"pointer",border:"2px solid "+o.text,display:"flex",justifyContent:"center",alignItems:"center",boxShadow:"1vmin 1vmin 0 "+o.disabled},l={fontFamily:'"Press Start 2P"',fontSize:"1vmax",padding:"0.5vmax",cursor:"pointer",border:0,backgroundColor:o.enabled,borderRadius:0,color:o.text,margin:0,width:"100%",appearance:"none",WebkitAppearance:"none",MozAppearance:"none"};return(0,i.jsx)("div",{style:a,children:(0,i.jsx)("select",{value:n,onChange:r,style:l,children:s})})},pl=(0,t.createContext)();const fl=function(){const{firstNote:e,setFirstNote:n,lastNote:r,setLastNote:a,scale:l,setScale:u,effectiveScale:c,isMobile:h}=(0,t.useContext)(s),{playNotes:d}=(0,t.useContext)(zi),p=c[Math.floor(c.length/2)],f={low:Math.max(p-(h?12:24),0),high:Math.min(p+(h?12:24),127)},[m,g]=(0,t.useState)(e),[v,y]=(0,t.useState)(r),[_,b]=(0,t.useState)(l),[x,w]=(0,t.useState)(!1),k=o(m,v,_),[C,S]=(0,t.useState)(!1),[T,E]=(0,t.useState)(!1),{showAlert:A,showElement:M,lastOpenedElement:P}=(0,t.useContext)(Ol),{dictionary:j}=(0,t.useContext)(Il);return(0,i.jsx)("div",{className:"ranges",children:(0,i.jsxs)(pl.Provider,{value:{firstNote:e,setFirstNote:n,lastNote:r,setLastNote:a,scale:l,setScale:u,keyRange:f,markedNotes:k},children:[(0,i.jsx)(hl,{keyRange:f,onNotePlayed:async e=>{d([e],.1,0),C&&(await g(e),S(!1)),T&&(await y(e),E(!1))},markedNotes:k}),(0,i.jsx)(Bi,{type:"bottom",minWidth:"50%",minHeight:"20%",children:(0,i.jsxs)(Ui,{direction:"row",gap:2,children:[(0,i.jsxs)(Ui,{children:[(0,i.jsx)(qi,{children:j.firstnote}),(0,i.jsx)(Ca,{value:m,label:j.choose,onClick:()=>S(!0),isChecked:C}),(0,i.jsx)(Ui,{length:2}),(0,i.jsx)(qi,{children:j.lastnote}),(0,i.jsx)(Ca,{value:v,label:j.choose,onClick:()=>E(!0),isChecked:T})]}),(0,i.jsxs)(Ui,{children:[(0,i.jsx)(qi,{children:j.scale}),(0,i.jsxs)(dl,{value:_,onChange:e=>b(e.target.value),children:[(0,i.jsx)("option",{value:"major",children:j.major}),(0,i.jsx)("option",{value:"minor",children:j.minor}),(0,i.jsx)("option",{value:"blues",children:j.blues}),(0,i.jsx)("option",{value:"pentatonic",children:j.pentatonic}),(0,i.jsx)("option",{value:"chromatic",children:j.chromatic}),(0,i.jsx)("option",{value:"harmonicMinor",children:j.harmonicminor}),(0,i.jsx)("option",{value:"dorianMinor",children:j.jazzminor}),(0,i.jsx)("option",{value:"wholeTone",children:j.wholetone})]}),(0,i.jsx)(Ui,{length:5}),(0,i.jsx)(Gi,{label:j.playscale,onClick:async()=>{w(!0),await d(o(m,v,_),.1,.1),w(!1)},isEnabled:!x})]})]})}),(0,i.jsx)(Aa,{onOK:()=>{m<v?(n(m),a(v),u(_),M(P)):A("Pierwsza nuta musi by\u0107 ni\u017csza od ostatniej")},onCancel:()=>M(P),top:"90%"})]})})};const ml=function(e){let{type:n}=e;const{showAlert:r,showOverlay:o}=(0,t.useContext)(Ol),{enabledChords:a,enabledInversions:l}=(0,t.useContext)(s),{effectiveScale:u}=(0,t.useContext)(s),{dictionary:c}=(0,t.useContext)(Il),{setMarkedNotes:h,playedNotes:d,setPlayedNotes:p}=(0,t.useContext)(zi),[f,m]=(0,t.useState)(null),g=(0,t.useMemo)((()=>{let e=function(e,t,r){let i=[];const s=[];if("random"===n)t.forEach((t=>{for(let n=0;n<512;n++){const n=new Set;for(;n.size<t;){const t=e[Math.floor(Math.random()*e.length)];n.add(t)}s.push([...n])}}));else{i=il[n],i=Object.keys(i).filter((e=>t.includes(e))).reduce(((e,t)=>(Object.keys(i[t]).filter((e=>r.includes(parseInt(e)))).forEach((n=>{e.push(i[t][n])})),e)),[]);for(let t=0;t<e.length;t++)i.forEach((n=>{const r=e[t],i=n.reduce(((e,t)=>{const n=e[e.length-1]||r;return e.push(n+t),e}),[r]);i.every((t=>e.includes(t)))&&s.push(i)}))}return s}(u,a[n],l[n]);return 0===e.length&&r((0,i.jsx)($i,{text:"Nie odnaleziono \u017cadnego akordu w wybranej skali. Zmie\u0144 zakres d\u017awi\u0119k\xf3w.",afterAlert:o((0,i.jsx)(fl,{}))})),e}),[u,a,l,n,r,o]),[v,y]=(0,t.useState)([]),_={triads:c.triads,sevenths:c.seventhchord,ninths:c.ninthchord,elevenths:c.eleventhchord,thirteenths:c.thirteenthchord,random:c.randomchord}[n]||"???";function b(e){let t=function(e){let t=e.map(((t,n)=>0===n?null:t-e[n-1])).filter((e=>null!==e));for(let r in il[n])for(let e in il[n][r])if(JSON.stringify(il[n][r][e])===JSON.stringify(t))return{chord:r,inversion:parseInt(e)};return{chord:"unknown",inversion:0}}(e[0]);return"random"===n?e:[t]}const x={triads:(0,i.jsx)(nl,{}),sevenths:(0,i.jsx)(sl,{}),ninths:(0,i.jsx)(ol,{}),elevenths:(0,i.jsx)(al,{}),thirteenths:(0,i.jsx)(ul,{}),random:(0,i.jsx)(cl,{})}[n]||null;return(0,i.jsx)(ka,{name:_,inputElement:(0,i.jsx)(Za,{}),generateExample:function(){const e=g[Math.floor(Math.random()*g.length)];return e.sort(((e,t)=>e-t)),h([e[0]]),p([]),y([e[0]]),m(e),[e]},convertExampleToAnswers:b,convertInputToAnswer:function(e){let t=v.includes(e)?[...v]:[...v,e];if(p([...d,e]),t.length===f.length)return y([]),t=t.sort(((e,t)=>e-t)),"random"===n?t:b([t])[0];y(t)},settingsComponent:x,altVersion:"triads"===n?(0,i.jsx)(gl,{}):null,repeat:function(){p([]),y([])}})};const gl=function(){const{effectiveScale:e,triadsN:n}=(0,t.useContext)(s),r=(0,t.useContext)(s).enabledChords.triads,o=(0,t.useContext)(s).enabledInversions.triads,{dictionary:a}=(0,t.useContext)(Il),{setMarkedAnswers:l}=(0,t.useContext)(zi),[u,c]=(0,t.useState)({chord:null,inversion:null});return(0,i.jsx)(ka,{name:a.triads,inputElement:(0,i.jsx)(rl,{}),generateExample:function(){const t=Array.from({length:n},(()=>r[Math.floor(Math.random()*r.length)])),i=Array.from({length:n},(()=>e[Math.floor(Math.random()*e.length)])),s=Array.from({length:n},(()=>o[Math.floor(Math.random()*o.length)]));return t.map(((e,t)=>[i[t],i[t]+il.triads[e][s[t]][0],i[t]+il.triads[e][s[t]][0]+il.triads[e][s[t]][1]]))},convertExampleToAnswers:function(e){return e.map((e=>{for(const t in il.triads)for(const n in il.triads[t])if(il.triads[t][n].toString()===[e[1]-e[0],e[2]-e[1]].toString())return{chord:t,inversion:parseInt(n)};return null}))},convertInputToAnswer:function(e){let t=u;if("number"===typeof e?t.inversion=e:"string"===typeof e&&(t.chord=e),null!==t.chord&&null!==t.inversion)return c({chord:null,inversion:null}),l([]),t;c(t),l([t.chord,t.inversion])},settingsComponent:(0,i.jsx)(nl,{sliderEnabled:!0}),showHintEnabled:!1,undoNoteEnabled:!1,altVersion:(0,i.jsx)(ml,{type:"triads"})})};const vl=function(){const{showElement:e,aspectRatio:n}=(0,t.useContext)(Ol),{dictionary:r}=(0,t.useContext)(Il),s=n>=1.25?3:n<.8?1:2;return(0,i.jsx)(Bi,{minWidth:"60%",minHeight:"30%",children:(0,i.jsxs)(Yi,{dimx:s,dimy:2,children:[(0,i.jsx)(Gi,{label:r.seventhchord,onClick:()=>e((0,i.jsx)(ml,{type:"sevenths"}))}),(0,i.jsx)(Gi,{label:r.ninthchord,onClick:()=>e((0,i.jsx)(ml,{type:"ninths"}))}),(0,i.jsx)(Gi,{label:r.eleventhchord,onClick:()=>e((0,i.jsx)(ml,{type:"elevenths"}))}),(0,i.jsx)(Gi,{label:r.back,onClick:()=>e((0,i.jsx)(Pl,{}))}),(0,i.jsx)(Gi,{label:r.thirteenthchord,onClick:()=>e((0,i.jsx)(ml,{type:"thirteenths"}))}),(0,i.jsx)(Gi,{label:r.randomchord,onClick:()=>e((0,i.jsx)(ml,{type:"random"}))})]})})};const yl=function(){const{inputs:e,selectInput:n,selectedInputId:r}=(()=>{const{state:e,dispatch:n}=(0,t.useContext)(Ga),{inputs:r,selectedInputId:i}=e,s=(0,t.useCallback)((e=>{n((e=>({type:"InputSelected",payload:{inputId:e}}))(e))}),[n]);return{input:r.find((e=>{let{id:t}=e;return t===i})),inputs:r,selectInput:s,selectedInputId:i}})(),{isMidiAvailable:s}=(0,t.useContext)(zi),o=(0,t.useRef)(0===e.length).current,{showElement:a,lastOpenedElement:l,showAlert:u}=(0,t.useContext)(Ol),{dictionary:c}=(0,t.useContext)(Il);return(0,i.jsxs)("div",{children:[(0,i.jsxs)(Bi,{minWidth:"30%",minHeight:"20%",children:[s&&!o&&(0,i.jsxs)(Ui,{children:[(0,i.jsxs)(qi,{center:!1,children:[c.midiinputsettings,":"]}),(0,i.jsxs)(dl,{value:r,onChange:e=>{return t=e.target.value,void n(t);var t},children:[o&&(0,i.jsx)("option",{value:"",children:c.nomidiinputs}),e.map((e=>(0,i.jsx)("option",{value:e.id,children:e.name},e.id)))]})]}),!s&&(0,i.jsx)(qi,{wrap:!0,children:c.midinotavailable})]}),(0,i.jsx)(Aa,{onOK:()=>{a(l)},onCancel:()=>a(l),top:"70%"})]})};const _l=function(e){let{children:n,x:r=1,y:s=1}=e,o=(0,t.useRef)();return o.current={gridColumnStart:r,gridColumnEnd:r,gridRowStart:s,gridRowEnd:s,display:"flex",alignItems:"stretch"},t.useEffect((()=>{o.current={...o.current,gridRowStart:s,gridRowEnd:s}}),[s]),(0,i.jsx)("div",{style:o.current,children:n})};const bl=function(){const{showElement:e,aspectRatio:n}=(0,t.useContext)(Ol),{dictionary:r}=(0,t.useContext)(Il),s=(0,t.useMemo)((()=>({dimx:1,dimy:n>=1.25?3:4})),[n]),{dimx:o,dimy:a}=s;return(0,i.jsx)(Bi,{minWidth:"20%",minHeight:"25%",children:(0,i.jsxs)(Yi,{dimx:o,dimy:a,children:[(0,i.jsx)(Gi,{label:r.rangeandscale,onClick:()=>e((0,i.jsx)(fl,{}))}),(0,i.jsx)(_l,{x:1,y:a,children:(0,i.jsx)(Gi,{label:r.back,onClick:()=>e((0,i.jsx)(Pl,{}))})}),(0,i.jsx)(Gi,{label:r.midiio,onClick:()=>e((0,i.jsx)(yl,{}))})]})})};const xl=function(e){let{onOK:n,top:r}=e;const{dictionary:s}=(0,t.useContext)(Il);return(0,i.jsx)(Ea,{top:r,left:"50%",minWidth:"15%",minHeight:"10%",children:(0,i.jsx)(Gi,{label:s.ok,onClick:n})})};const wl=function(){const{showElement:e,lastOpenedElement:n}=(0,t.useContext)(Ol),{dictionary:r}=(0,t.useContext)(Il),s=/(https?:\/\/[^\s]+|www\.[^\s]+|[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,})/,o=/^(https?:\/\/[^\s]+|www\.[^\s]+)$/,a=/^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\.[A-Za-z]{2,}$/;return(0,i.jsxs)("div",{children:[(0,i.jsx)(Bi,{minWidth:"60%",minHeight:"30%",children:(0,i.jsx)(Ui,{children:(0,i.jsx)(qi,{center:!1,wrap:!0,children:r.app_description.split("\n").map(((e,t,n)=>(0,i.jsxs)("span",{children:[e.split(s).map(((e,t)=>{if(!e)return null;const{core:n,trailing:r}=(e=>{const t=e.match(/^(.*?)([.,!?;:)\]]*)$/);return{core:t?t[1]:e,trailing:t?t[2]:""}})(e);if(a.test(n))return(0,i.jsxs)("span",{children:[(0,i.jsx)("a",{href:`mailto:${n}`,children:n}),r]},t);if(o.test(n)){const e=n.startsWith("http")?n:`http://${n}`;return(0,i.jsxs)("span",{children:[(0,i.jsx)("a",{href:e,target:"_blank",rel:"noopener noreferrer",children:n}),r]},t)}return(0,i.jsx)("span",{children:e},t)})),t<n.length-1&&(0,i.jsx)("br",{})]},t)))})})}),(0,i.jsx)(xl,{onOK:()=>e(n),top:"75%"})]})};const kl=function(e){let{children:n}=e;const{styleSheet:r,showElement:s}=(0,t.useContext)(Ol),o={flex:1,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-start",width:"auto",height:"100%",margin:"0.5rem",fontSize:"clamp(1.5rem, 2.5vmax, 3rem)",color:r.text,WebkitTextSizeAdjust:"none",WebkitUserSelect:"none",MozUserSelect:"none",textShadow:"0.5vmin 0.5vmin 0 "+r.background,cursor:"help"};return(0,i.jsx)("div",{style:o,onClick:()=>s((0,i.jsx)(wl,{})),children:n})};const Cl=function(){const{dictionary:e,language:n,setLanguageAndFetchDictionary:r}=(0,t.useContext)(Il);return(0,i.jsxs)(Ui,{children:[(0,i.jsx)(qi,{center:!1,children:e.language}),(0,i.jsxs)(dl,{onChange:e=>r(e.target.value),value:n,children:[(0,i.jsx)("option",{value:"en",children:"English"}),(0,i.jsx)("option",{value:"pl",children:"Polski"})]})]})};const Sl=function(){const{showElement:e,lastOpenedElement:n}=(0,t.useContext)(Ol),{melodyLength:o,setMelodyLength:a}=(0,t.useContext)(s),[l,u]=(0,t.useState)(o),{melodyType:c,setMelodyType:h}=(0,t.useContext)(s),[d,p]=(0,t.useState)(c),{dictionary:f}=(0,t.useContext)(Il);return(0,i.jsxs)("div",{children:[(0,i.jsx)(Bi,{minWidth:"30%",minHeight:"30%",children:(0,i.jsxs)(Ui,{children:[(0,i.jsx)(qi,{center:!1,children:f.melodytype}),(0,i.jsxs)(dl,{value:d,onChange:e=>p(e.target.value),children:[(0,i.jsx)("option",{value:r.ASCENDING,children:f.ascending}),(0,i.jsx)("option",{value:r.DESCENDING,children:f.descending}),(0,i.jsx)("option",{value:r.FREE,children:f.free})]}),(0,i.jsx)(qi,{center:!1,children:f.melodylength}),(0,i.jsx)(Ta,{value:l,onChange:u,min:3,max:10})]})}),(0,i.jsx)(Aa,{onOK:()=>{a(l),h(d),e(n)},onCancel:()=>e(n),top:"73%"})]})};const Tl=function(){const{effectiveScale:e,melodyType:n,melodyLength:o}=(0,t.useContext)(s),{setMarkedNotes:a,setPlayedNotes:l,setReproductionMode:u}=(0,t.useContext)(zi),[c,h]=(0,t.useState)([]),{dictionary:d}=(0,t.useContext)(Il),p=n===r.ASCENDING?d.ascendingmelody:n===r.DESCENDING?d.descendingmelody:d.freemelody;return(0,t.useEffect)((()=>{u(Di.SEQUENTIAL)}),[u]),(0,t.useEffect)((()=>{l(c)}),[c,l]),(0,i.jsx)(ka,{name:p,inputElement:(0,i.jsx)(Za,{}),generateExample:function(){const t=[],i=new Set;for(;t.length<o;){const n=e[Math.floor(Math.random()*e.length)];i.has(n)||(i.add(n),t.push(n))}return n===r.ASCENDING?t.sort(((e,t)=>e-t)):n===r.DESCENDING&&t.sort(((e,t)=>t-e)),a([t[0]]),h([]),[t]},convertExampleToAnswers:function(e){return e},convertInputToAnswer:function(e){if(1===c.length&&e===c[0])return;const t=[...c,e];if(t.length===o)return t;h(t)},settingsComponent:(0,i.jsx)(Sl,{}),repeat:function(){h([])}})};const El=function(){const{effectiveScale:e}=(0,t.useContext)(s),{playNotes:n}=(0,t.useContext)(zi),{dictionary:r}=(0,t.useContext)(Il);return(0,i.jsx)(ka,{name:r.perfectpitch,inputElement:(0,i.jsx)(Za,{}),generateExample:async function(){return[e[Math.floor(Math.random()*e.length)]]},convertExampleToAnswers:function(e){return[e]},convertInputToAnswer:function(e){return[e]},doBeforePlayExample:async function(){const t=Array.from({length:20},(()=>e[Math.floor(Math.random()*e.length)]));await n(t,.1,.1),await new Promise((e=>setTimeout(e,500)))}})},Al=e=>{let{color1:n,color2:r,onClick:s}=e;const[o,a]=t.useState(!1),l={position:"absolute",width:"0",height:"0",borderLeft:"3vmin solid transparent",borderRight:"3vmin solid transparent"},u={borderBottom:"3vmin solid "+(o?r:n),top:"0",left:"0",transform:"translate(-50%, 0)"},c={borderTop:"3vmin solid "+(o?n:r),bottom:"0",right:"0",transform:"translate(50%, 0)"};return(0,i.jsxs)("div",{style:{position:"relative",width:"3vmin",height:"3vmin",backgroundColor:"transparent",overflow:"hidden",border:"1px solid black",cursor:"pointer"},onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),onClick:s,children:[(0,i.jsx)("div",{style:Object.assign({},l,u)}),(0,i.jsx)("div",{style:Object.assign({},l,c)})]})},Ml=e=>{let{styleSheets:n}=e;const{setStyleSheet:r}=t.useContext(Ol);return(0,i.jsx)("div",{style:{position:"absolute",bottom:"1vmin",right:"1vmin",display:"flex",flexDirection:"row",justifyContent:"center",alignItems:"center",gap:"0.5vmin"},children:n.map(((e,t)=>(0,i.jsx)(Al,{color1:e.background,color2:e.enabled,onClick:()=>r(e)},t)))})};const Pl=function(){const{version:e}=n(330),{showElement:r,styleSheets:s}=(0,t.useContext)(Ol),{dictionary:o}=(0,t.useContext)(Il);return(0,i.jsxs)("div",{children:[(0,i.jsx)(Bi,{minWidth:"60%",minHeight:"50%",children:(0,i.jsxs)(Ui,{gap:2,children:[(0,i.jsxs)(Ui,{length:1,alignItems:"center",children:[(0,i.jsx)(kl,{children:"Solfeggio-2"}),(0,i.jsxs)(qi,{children:["v",e]})]}),(0,i.jsx)(Cl,{}),(0,i.jsx)(Ui,{length:3,children:(0,i.jsxs)(Yi,{dimx:3,dimy:2,padding:!1,children:[(0,i.jsx)(Gi,{label:o.intervals,onClick:()=>r((0,i.jsx)(tl,{}))}),(0,i.jsx)(Gi,{label:o.triads,onClick:()=>r((0,i.jsx)(gl,{}))}),(0,i.jsx)(Gi,{label:o.chords,onClick:()=>r((0,i.jsx)(vl,{}))}),(0,i.jsx)(Gi,{label:o.melody,onClick:()=>r((0,i.jsx)(Tl,{}))}),(0,i.jsx)(Gi,{label:o.perfectpitch,onClick:()=>r((0,i.jsx)(El,{}))}),(0,i.jsx)(Gi,{label:o.settings,onClick:()=>r((0,i.jsx)(bl,{}))})]})})]})}),(0,i.jsx)(Ml,{styleSheets:s})]})};const jl=function(){const{styleSheet:e}=(0,t.useContext)(Ol),n={backgroundColor:e.background,position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:-1};return(0,i.jsx)("div",{style:n})},Ol=(0,t.createContext)(),Il=(0,t.createContext)();const Nl=function(){const{stopPlaying:e}=(0,t.useContext)(zi),[r,s]=(0,t.useState)((0,i.jsx)(Pl,{})),[o,a]=(0,t.useState)(null),[l,u]=(0,t.useState)(null),[c,h]=(0,t.useState)(null),[d,p]=(0,t.useState)(window.innerWidth/window.innerHeight),[f,m]=(0,t.useState)("pl"),[g,v]=(0,t.useState)({}),[y,_]=(0,t.useState)({}),[b,x]=(0,t.useState)((()=>{const e=localStorage.getItem("styleSheet");return e?JSON.parse(e):{}})),[w,k]=(0,t.useState)([]);(0,t.useEffect)((()=>{localStorage.setItem("styleSheet",JSON.stringify(b))}),[b]),(0,t.useEffect)((()=>{C(f),S(),T();window.addEventListener("resize",(()=>{p(window.innerWidth/window.innerHeight)}))}),[f]);const C=async e=>{const t=n(267)(`./${e}.json`);v(t),m(e)},S=()=>{const e=n(105);_(e)},T=()=>{const e=n(483),t=e.keys().map(e);k(t),x(t[0])};return(0,i.jsx)(Ol.Provider,{value:{showElement:t=>{e(),r&&h(r),s(t)},hideElement:()=>{s(null)},lastOpenedElement:c,showOverlay:e=>{a(e)},hideOverlay:()=>{a(null)},showAlert:(e,t)=>{u((0,i.jsx)($i,{text:e,afterAlert:t}))},hideAlert:()=>{u(null)},aspectRatio:d,styleSheet:b,styleSheets:w,setStyleSheet:x},children:(0,i.jsxs)(Il.Provider,{value:{dictionary:g,symbols:y,language:f,setLanguageAndFetchDictionary:C},children:[(0,i.jsx)(jl,{}),(()=>{if(r)return r})(),(()=>{if(o)return o})(),(()=>{if(l)return l})()]})})};const Dl=function(){return(0,i.jsx)($a,{children:(0,i.jsx)("div",{className:"solfeggio2",children:(0,i.jsx)(a,{children:(0,i.jsx)(Fi,{children:(0,i.jsx)(Wi,{children:(0,i.jsx)(Nl,{})})})})})})},Rl=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:s,getTTFB:o}=t;n(e),r(e),i(e),s(e),o(e)}))},zl=e.createRoot(document.getElementById("root"));Object.assign(document.body.style,{margin:0,fontFamily:"'Press Start 2P', cursive",WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale"}),zl.render((0,i.jsx)(Dl,{})),Rl()})()})();
//# sourceMappingURL=main.4a77102e.js.map